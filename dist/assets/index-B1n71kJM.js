(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var p8={exports:{}},M1={},m8={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),lD=Symbol.for("react.portal"),cD=Symbol.for("react.fragment"),uD=Symbol.for("react.strict_mode"),fD=Symbol.for("react.profiler"),dD=Symbol.for("react.provider"),hD=Symbol.for("react.context"),pD=Symbol.for("react.forward_ref"),mD=Symbol.for("react.suspense"),gD=Symbol.for("react.memo"),vD=Symbol.for("react.lazy"),HC=Symbol.iterator;function yD(n){return n===null||typeof n!="object"?null:(n=HC&&n[HC]||n["@@iterator"],typeof n=="function"?n:null)}var g8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v8=Object.assign,y8={};function Af(n,e,t){this.props=n,this.context=e,this.refs=y8,this.updater=t||g8}Af.prototype.isReactComponent={};Af.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Af.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function x8(){}x8.prototype=Af.prototype;function fA(n,e,t){this.props=n,this.context=e,this.refs=y8,this.updater=t||g8}var dA=fA.prototype=new x8;dA.constructor=fA;v8(dA,Af.prototype);dA.isPureReactComponent=!0;var zC=Array.isArray,_8=Object.prototype.hasOwnProperty,hA={current:null},A8={key:!0,ref:!0,__self:!0,__source:!0};function S8(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_8.call(e,i)&&!A8.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Jh,type:n,key:s,ref:o,props:r,_owner:hA.current}}function xD(n,e){return{$$typeof:Jh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function pA(n){return typeof n=="object"&&n!==null&&n.$$typeof===Jh}function _D(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var GC=/\/+/g;function zy(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_D(""+n.key):e.toString(36)}function tg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Jh:case lD:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+zy(o,0):i,zC(r)?(t="",n!=null&&(t=n.replace(GC,"$&/")+"/"),tg(r,e,t,"",function(c){return c})):r!=null&&(pA(r)&&(r=xD(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(GC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",zC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+zy(s,a);o+=tg(s,e,t,l,r)}else if(l=yD(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+zy(s,a++),o+=tg(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cm(n,e,t){if(n==null)return n;var i=[],r=0;return tg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function AD(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rr={current:null},ng={transition:null},SD={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:ng,ReactCurrentOwner:hA};function M8(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:Cm,forEach:function(n,e,t){Cm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Cm(n,function(){e++}),e},toArray:function(n){return Cm(n,function(e){return e})||[]},only:function(n){if(!pA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=Af;Ht.Fragment=cD;Ht.Profiler=fD;Ht.PureComponent=fA;Ht.StrictMode=uD;Ht.Suspense=mD;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;Ht.act=M8;Ht.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=v8({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)_8.call(e,l)&&!A8.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Jh,type:n.type,key:r,ref:s,props:i,_owner:o}};Ht.createContext=function(n){return n={$$typeof:hD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dD,_context:n},n.Consumer=n};Ht.createElement=S8;Ht.createFactory=function(n){var e=S8.bind(null,n);return e.type=n,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:pD,render:n}};Ht.isValidElement=pA;Ht.lazy=function(n){return{$$typeof:vD,_payload:{_status:-1,_result:n},_init:AD}};Ht.memo=function(n,e){return{$$typeof:gD,type:n,compare:e===void 0?null:e}};Ht.startTransition=function(n){var e=ng.transition;ng.transition={};try{n()}finally{ng.transition=e}};Ht.unstable_act=M8;Ht.useCallback=function(n,e){return rr.current.useCallback(n,e)};Ht.useContext=function(n){return rr.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return rr.current.useDeferredValue(n)};Ht.useEffect=function(n,e){return rr.current.useEffect(n,e)};Ht.useId=function(){return rr.current.useId()};Ht.useImperativeHandle=function(n,e,t){return rr.current.useImperativeHandle(n,e,t)};Ht.useInsertionEffect=function(n,e){return rr.current.useInsertionEffect(n,e)};Ht.useLayoutEffect=function(n,e){return rr.current.useLayoutEffect(n,e)};Ht.useMemo=function(n,e){return rr.current.useMemo(n,e)};Ht.useReducer=function(n,e,t){return rr.current.useReducer(n,e,t)};Ht.useRef=function(n){return rr.current.useRef(n)};Ht.useState=function(n){return rr.current.useState(n)};Ht.useSyncExternalStore=function(n,e,t){return rr.current.useSyncExternalStore(n,e,t)};Ht.useTransition=function(){return rr.current.useTransition()};Ht.version="18.3.1";m8.exports=Ht;var O=m8.exports;const tn=uA(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD=O,CD=Symbol.for("react.element"),wD=Symbol.for("react.fragment"),ED=Object.prototype.hasOwnProperty,TD=MD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bD={key:!0,ref:!0,__self:!0,__source:!0};function C8(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)ED.call(e,i)&&!bD.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:CD,type:n,key:s,ref:o,props:r,_owner:TD.current}}M1.Fragment=wD;M1.jsx=C8;M1.jsxs=C8;p8.exports=M1;var z=p8.exports,Gx={},w8={exports:{}},Lr={},E8={exports:{}},T8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,K){var V=F.length;F.push(K);e:for(;0<V;){var ne=V-1>>>1,ue=F[ne];if(0<r(ue,K))F[ne]=K,F[V]=ue,V=ne;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],V=F.pop();if(V!==K){F[0]=V;e:for(var ne=0,ue=F.length,Be=ue>>>1;ne<Be;){var se=2*(ne+1)-1,we=F[se],Se=se+1,be=F[Se];if(0>r(we,V))Se<ue&&0>r(be,we)?(F[ne]=be,F[Se]=V,ne=Se):(F[ne]=we,F[se]=V,ne=se);else if(Se<ue&&0>r(be,V))F[ne]=be,F[Se]=V,ne=Se;else break e}}return K}function r(F,K){var V=F.sortIndex-K.sortIndex;return V!==0?V:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=F)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function C(F){if(_=!1,S(F),!v)if(t(l)!==null)v=!0,ie(P);else{var K=t(c);K!==null&&pe(C,K.startTime-F)}}function P(F,K){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var V=p;try{for(S(K),h=t(l);h!==null&&(!(h.expirationTime>K)||F&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ue=ne(h.expirationTime<=K);K=n.unstable_now(),typeof ue=="function"?h.callback=ue:h===t(l)&&i(l),S(K)}else i(l);h=t(l)}if(h!==null)var Be=!0;else{var se=t(c);se!==null&&pe(C,se.startTime-K),Be=!1}return Be}finally{h=null,p=V,m=!1}}var E=!1,I=null,B=-1,R=5,b=-1;function k(){return!(n.unstable_now()-b<R)}function Y(){if(I!==null){var F=n.unstable_now();b=F;var K=!0;try{K=I(!0,F)}finally{K?G():(E=!1,I=null)}}else E=!1}var G;if(typeof A=="function")G=function(){A(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=Y,G=function(){$.postMessage(null)}}else G=function(){x(Y,0)};function ie(F){I=F,E||(E=!0,G())}function pe(F,K){B=x(function(){F(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(P))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var V=p;p=K;try{return F()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=p;p=F;try{return K()}finally{p=V}},n.unstable_scheduleCallback=function(F,K,V){var ne=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,F={id:f++,callback:K,priorityLevel:F,startTime:V,expirationTime:ue,sortIndex:-1},V>ne?(F.sortIndex=V,e(c,F),t(l)===null&&F===t(c)&&(_?(g(B),B=-1):_=!0,pe(C,V-ne))):(F.sortIndex=ue,e(l,F),v||m||(v=!0,ie(P))),F},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(F){var K=p;return function(){var V=p;p=K;try{return F.apply(this,arguments)}finally{p=V}}}})(T8);E8.exports=T8;var RD=E8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD=O,Pr=RD;function Ne(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b8=new Set,rh={};function gc(n,e){Qu(n,e),Qu(n+"Capture",e)}function Qu(n,e){for(rh[n]=e,n=0;n<e.length;n++)b8.add(e[n])}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,ID=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VC={},WC={};function BD(n){return Vx.call(WC,n)?!0:Vx.call(VC,n)?!1:ID.test(n)?WC[n]=!0:(VC[n]=!0,!1)}function LD(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function DD(n,e,t,i){if(e===null||typeof e>"u"||LD(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bi[n]=new sr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bi[e]=new sr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bi[n]=new sr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bi[n]=new sr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bi[n]=new sr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bi[n]=new sr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bi[n]=new sr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bi[n]=new sr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bi[n]=new sr(n,5,!1,n.toLowerCase(),null,!1,!1)});var mA=/[\-:]([a-z])/g;function gA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(mA,gA);bi[e]=new sr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(mA,gA);bi[e]=new sr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(mA,gA);bi[e]=new sr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bi[n]=new sr(n,1,!1,n.toLowerCase(),null,!1,!1)});bi.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bi[n]=new sr(n,1,!1,n.toLowerCase(),null,!0,!0)});function vA(n,e,t,i){var r=bi.hasOwnProperty(e)?bi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DD(e,t,r,i)&&(t=null),i||r===null?BD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Xo=PD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wm=Symbol.for("react.element"),vu=Symbol.for("react.portal"),yu=Symbol.for("react.fragment"),yA=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),R8=Symbol.for("react.provider"),P8=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Xx=Symbol.for("react.suspense_list"),_A=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),I8=Symbol.for("react.offscreen"),jC=Symbol.iterator;function $f(n){return n===null||typeof n!="object"?null:(n=jC&&n[jC]||n["@@iterator"],typeof n=="function"?n:null)}var kn=Object.assign,Gy;function bd(n){if(Gy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Gy=e&&e[1]||""}return`
`+Gy+n}var Vy=!1;function Wy(n,e){if(!n||Vy)return"";Vy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?bd(n):""}function ND(n){switch(n.tag){case 5:return bd(n.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return n=Wy(n.type,!1),n;case 11:return n=Wy(n.type.render,!1),n;case 1:return n=Wy(n.type,!0),n;default:return""}}function Jx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yu:return"Fragment";case vu:return"Portal";case Wx:return"Profiler";case yA:return"StrictMode";case jx:return"Suspense";case Xx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P8:return(n.displayName||"Context")+".Consumer";case R8:return(n._context.displayName||"Context")+".Provider";case xA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _A:return e=n.displayName||null,e!==null?e:Jx(n.type)||"Memo";case ya:e=n._payload,n=n._init;try{return Jx(n(e))}catch{}}return null}function FD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jx(e);case 8:return e===yA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ga(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function B8(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OD(n){var e=B8(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Em(n){n._valueTracker||(n._valueTracker=OD(n))}function L8(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=B8(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Rg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Kx(n,e){var t=e.checked;return kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function XC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ga(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D8(n,e){e=e.checked,e!=null&&vA(n,"checked",e,!1)}function Yx(n,e){D8(n,e);var t=Ga(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zx(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zx(n,e.type,Ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function JC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zx(n,e,t){(e!=="number"||Rg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Rd=Array.isArray;function ku(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ga(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Qx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return kn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function KC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ne(92));if(Rd(t)){if(1<t.length)throw Error(Ne(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ga(t)}}function N8(n,e){var t=Ga(e.value),i=Ga(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function YC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function F8(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?F8(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Tm,O8=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Tm=Tm||document.createElement("div"),Tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function sh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kD=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(n){kD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fd[e]=Fd[n]})});function k8(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fd.hasOwnProperty(n)&&Fd[n]?(""+e).trim():e+"px"}function U8(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=k8(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var UD=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $x(n,e){if(e){if(UD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function e_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t_=null;function AA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var n_=null,Uu=null,Hu=null;function ZC(n){if(n=Zh(n)){if(typeof n_!="function")throw Error(Ne(280));var e=n.stateNode;e&&(e=b1(e),n_(n.stateNode,n.type,e))}}function H8(n){Uu?Hu?Hu.push(n):Hu=[n]:Uu=n}function z8(){if(Uu){var n=Uu,e=Hu;if(Hu=Uu=null,ZC(n),e)for(n=0;n<e.length;n++)ZC(e[n])}}function G8(n,e){return n(e)}function V8(){}var jy=!1;function W8(n,e,t){if(jy)return n(e,t);jy=!0;try{return G8(n,e,t)}finally{jy=!1,(Uu!==null||Hu!==null)&&(V8(),z8())}}function oh(n,e){var t=n.stateNode;if(t===null)return null;var i=b1(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ne(231,e,typeof t));return t}var i_=!1;if(Ho)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){i_=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{i_=!1}function HD(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var Od=!1,Pg=null,Ig=!1,r_=null,zD={onError:function(n){Od=!0,Pg=n}};function GD(n,e,t,i,r,s,o,a,l){Od=!1,Pg=null,HD.apply(zD,arguments)}function VD(n,e,t,i,r,s,o,a,l){if(GD.apply(this,arguments),Od){if(Od){var c=Pg;Od=!1,Pg=null}else throw Error(Ne(198));Ig||(Ig=!0,r_=c)}}function vc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function j8(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function QC(n){if(vc(n)!==n)throw Error(Ne(188))}function WD(n){var e=n.alternate;if(!e){if(e=vc(n),e===null)throw Error(Ne(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return QC(r),n;if(s===i)return QC(r),e;s=s.sibling}throw Error(Ne(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(t.alternate!==i)throw Error(Ne(190))}if(t.tag!==3)throw Error(Ne(188));return t.stateNode.current===t?n:e}function X8(n){return n=WD(n),n!==null?J8(n):null}function J8(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=J8(n);if(e!==null)return e;n=n.sibling}return null}var K8=Pr.unstable_scheduleCallback,qC=Pr.unstable_cancelCallback,jD=Pr.unstable_shouldYield,XD=Pr.unstable_requestPaint,Yn=Pr.unstable_now,JD=Pr.unstable_getCurrentPriorityLevel,SA=Pr.unstable_ImmediatePriority,Y8=Pr.unstable_UserBlockingPriority,Bg=Pr.unstable_NormalPriority,KD=Pr.unstable_LowPriority,Z8=Pr.unstable_IdlePriority,C1=null,Ys=null;function YD(n){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(C1,n,void 0,(n.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:qD,ZD=Math.log,QD=Math.LN2;function qD(n){return n>>>=0,n===0?32:31-(ZD(n)/QD|0)|0}var bm=64,Rm=4194304;function Pd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Lg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Pd(a):(s&=o,s!==0&&(i=Pd(s)))}else o=t&~r,o!==0?i=Pd(o):s!==0&&(i=Pd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Ts(e),r=1<<t,i|=n[t],e&=~r;return i}function $D(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eN(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ts(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=$D(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function s_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Q8(){var n=bm;return bm<<=1,!(bm&4194240)&&(bm=64),n}function Xy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Kh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ts(e),n[e]=t}function tN(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Ts(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function MA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Ts(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var fn=0;function q8(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $8,CA,e6,t6,n6,o_=!1,Pm=[],Ia=null,Ba=null,La=null,ah=new Map,lh=new Map,Sa=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $C(n,e){switch(n){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(e.pointerId)}}function td(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Zh(e),e!==null&&CA(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function iN(n,e,t,i,r){switch(e){case"focusin":return Ia=td(Ia,n,e,t,i,r),!0;case"dragenter":return Ba=td(Ba,n,e,t,i,r),!0;case"mouseover":return La=td(La,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ah.set(s,td(ah.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,lh.set(s,td(lh.get(s)||null,n,e,t,i,r)),!0}return!1}function i6(n){var e=zl(n.target);if(e!==null){var t=vc(e);if(t!==null){if(e=t.tag,e===13){if(e=j8(t),e!==null){n.blockedOn=e,n6(n.priority,function(){e6(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ig(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=a_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);t_=i,t.target.dispatchEvent(i),t_=null}else return e=Zh(t),e!==null&&CA(e),n.blockedOn=t,!1;e.shift()}return!0}function ew(n,e,t){ig(n)&&t.delete(e)}function rN(){o_=!1,Ia!==null&&ig(Ia)&&(Ia=null),Ba!==null&&ig(Ba)&&(Ba=null),La!==null&&ig(La)&&(La=null),ah.forEach(ew),lh.forEach(ew)}function nd(n,e){n.blockedOn===e&&(n.blockedOn=null,o_||(o_=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,rN)))}function ch(n){function e(r){return nd(r,n)}if(0<Pm.length){nd(Pm[0],n);for(var t=1;t<Pm.length;t++){var i=Pm[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ia!==null&&nd(Ia,n),Ba!==null&&nd(Ba,n),La!==null&&nd(La,n),ah.forEach(e),lh.forEach(e),t=0;t<Sa.length;t++)i=Sa[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Sa.length&&(t=Sa[0],t.blockedOn===null);)i6(t),t.blockedOn===null&&Sa.shift()}var zu=Xo.ReactCurrentBatchConfig,Dg=!0;function sN(n,e,t,i){var r=fn,s=zu.transition;zu.transition=null;try{fn=1,wA(n,e,t,i)}finally{fn=r,zu.transition=s}}function oN(n,e,t,i){var r=fn,s=zu.transition;zu.transition=null;try{fn=4,wA(n,e,t,i)}finally{fn=r,zu.transition=s}}function wA(n,e,t,i){if(Dg){var r=a_(n,e,t,i);if(r===null)n2(n,e,i,Ng,t),$C(n,i);else if(iN(r,n,e,t,i))i.stopPropagation();else if($C(n,i),e&4&&-1<nN.indexOf(n)){for(;r!==null;){var s=Zh(r);if(s!==null&&$8(s),s=a_(n,e,t,i),s===null&&n2(n,e,i,Ng,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else n2(n,e,i,null,t)}}var Ng=null;function a_(n,e,t,i){if(Ng=null,n=AA(i),n=zl(n),n!==null)if(e=vc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=j8(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ng=n,null}function r6(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JD()){case SA:return 1;case Y8:return 4;case Bg:case KD:return 16;case Z8:return 536870912;default:return 16}default:return 16}}var wa=null,EA=null,rg=null;function s6(){if(rg)return rg;var n,e=EA,t=e.length,i,r="value"in wa?wa.value:wa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return rg=r.slice(n,1<i?1-i:void 0)}function sg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Im(){return!0}function tw(){return!1}function Dr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Im:tw,this.isPropagationStopped=tw,this}return kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Im)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Im)},persist:function(){},isPersistent:Im}),e}var Sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TA=Dr(Sf),Yh=kn({},Sf,{view:0,detail:0}),aN=Dr(Yh),Jy,Ky,id,w1=kn({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==id&&(id&&n.type==="mousemove"?(Jy=n.screenX-id.screenX,Ky=n.screenY-id.screenY):Ky=Jy=0,id=n),Jy)},movementY:function(n){return"movementY"in n?n.movementY:Ky}}),nw=Dr(w1),lN=kn({},w1,{dataTransfer:0}),cN=Dr(lN),uN=kn({},Yh,{relatedTarget:0}),Yy=Dr(uN),fN=kn({},Sf,{animationName:0,elapsedTime:0,pseudoElement:0}),dN=Dr(fN),hN=kn({},Sf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pN=Dr(hN),mN=kn({},Sf,{data:0}),iw=Dr(mN),gN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=yN[n])?!!e[n]:!1}function bA(){return xN}var _N=kn({},Yh,{key:function(n){if(n.key){var e=gN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=sg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bA,charCode:function(n){return n.type==="keypress"?sg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AN=Dr(_N),SN=kn({},w1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rw=Dr(SN),MN=kn({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bA}),CN=Dr(MN),wN=kn({},Sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),EN=Dr(wN),TN=kn({},w1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),bN=Dr(TN),RN=[9,13,27,32],RA=Ho&&"CompositionEvent"in window,kd=null;Ho&&"documentMode"in document&&(kd=document.documentMode);var PN=Ho&&"TextEvent"in window&&!kd,o6=Ho&&(!RA||kd&&8<kd&&11>=kd),sw=" ",ow=!1;function a6(n,e){switch(n){case"keyup":return RN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l6(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xu=!1;function IN(n,e){switch(n){case"compositionend":return l6(e);case"keypress":return e.which!==32?null:(ow=!0,sw);case"textInput":return n=e.data,n===sw&&ow?null:n;default:return null}}function BN(n,e){if(xu)return n==="compositionend"||!RA&&a6(n,e)?(n=s6(),rg=EA=wa=null,xu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o6&&e.locale!=="ko"?null:e.data;default:return null}}var LN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!LN[n.type]:e==="textarea"}function c6(n,e,t,i){H8(i),e=Fg(e,"onChange"),0<e.length&&(t=new TA("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Ud=null,uh=null;function DN(n){_6(n,0)}function E1(n){var e=Su(n);if(L8(e))return n}function NN(n,e){if(n==="change")return e}var u6=!1;if(Ho){var Zy;if(Ho){var Qy="oninput"in document;if(!Qy){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Qy=typeof lw.oninput=="function"}Zy=Qy}else Zy=!1;u6=Zy&&(!document.documentMode||9<document.documentMode)}function cw(){Ud&&(Ud.detachEvent("onpropertychange",f6),uh=Ud=null)}function f6(n){if(n.propertyName==="value"&&E1(uh)){var e=[];c6(e,uh,n,AA(n)),W8(DN,e)}}function FN(n,e,t){n==="focusin"?(cw(),Ud=e,uh=t,Ud.attachEvent("onpropertychange",f6)):n==="focusout"&&cw()}function ON(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return E1(uh)}function kN(n,e){if(n==="click")return E1(e)}function UN(n,e){if(n==="input"||n==="change")return E1(e)}function HN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Rs=typeof Object.is=="function"?Object.is:HN;function fh(n,e){if(Rs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Vx.call(e,r)||!Rs(n[r],e[r]))return!1}return!0}function uw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fw(n,e){var t=uw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=uw(t)}}function d6(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?d6(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function h6(){for(var n=window,e=Rg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Rg(n.document)}return e}function PA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function zN(n){var e=h6(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&d6(t.ownerDocument.documentElement,t)){if(i!==null&&PA(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=fw(t,s);var o=fw(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var GN=Ho&&"documentMode"in document&&11>=document.documentMode,_u=null,l_=null,Hd=null,c_=!1;function dw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;c_||_u==null||_u!==Rg(i)||(i=_u,"selectionStart"in i&&PA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hd&&fh(Hd,i)||(Hd=i,i=Fg(l_,"onSelect"),0<i.length&&(e=new TA("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=_u)))}function Bm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Au={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},qy={},p6={};Ho&&(p6=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function T1(n){if(qy[n])return qy[n];if(!Au[n])return n;var e=Au[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in p6)return qy[n]=e[t];return n}var m6=T1("animationend"),g6=T1("animationiteration"),v6=T1("animationstart"),y6=T1("transitionend"),x6=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(n,e){x6.set(n,e),gc(e,[n])}for(var $y=0;$y<hw.length;$y++){var e2=hw[$y],VN=e2.toLowerCase(),WN=e2[0].toUpperCase()+e2.slice(1);$a(VN,"on"+WN)}$a(m6,"onAnimationEnd");$a(g6,"onAnimationIteration");$a(v6,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(y6,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function pw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,VD(i,e,void 0,n),n.currentTarget=null}function _6(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;pw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;pw(r,a,c),s=l}}}if(Ig)throw n=r_,Ig=!1,r_=null,n}function vn(n,e){var t=e[p_];t===void 0&&(t=e[p_]=new Set);var i=n+"__bubble";t.has(i)||(A6(e,n,2,!1),t.add(i))}function t2(n,e,t){var i=0;e&&(i|=4),A6(t,n,i,e)}var Lm="_reactListening"+Math.random().toString(36).slice(2);function dh(n){if(!n[Lm]){n[Lm]=!0,b8.forEach(function(t){t!=="selectionchange"&&(jN.has(t)||t2(t,!1,n),t2(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lm]||(e[Lm]=!0,t2("selectionchange",!1,e))}}function A6(n,e,t,i){switch(r6(e)){case 1:var r=sN;break;case 4:r=oN;break;default:r=wA}t=r.bind(null,e,t,n),r=void 0,!i_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function n2(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}W8(function(){var c=s,f=AA(t),h=[];e:{var p=x6.get(n);if(p!==void 0){var m=TA,v=n;switch(n){case"keypress":if(sg(t)===0)break e;case"keydown":case"keyup":m=AN;break;case"focusin":v="focus",m=Yy;break;case"focusout":v="blur",m=Yy;break;case"beforeblur":case"afterblur":m=Yy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CN;break;case m6:case g6:case v6:m=dN;break;case y6:m=EN;break;case"scroll":m=aN;break;case"wheel":m=bN;break;case"copy":case"cut":case"paste":m=pN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rw}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var A=c,S;A!==null;){S=A;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,g!==null&&(C=oh(A,g),C!=null&&_.push(hh(A,C,S)))),x)break;A=A.return}0<_.length&&(p=new m(p,v,null,t,f),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==t_&&(v=t.relatedTarget||t.fromElement)&&(zl(v)||v[zo]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?zl(v):null,v!==null&&(x=vc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=nw,C="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(_=rw,C="onPointerLeave",g="onPointerEnter",A="pointer"),x=m==null?p:Su(m),S=v==null?p:Su(v),p=new _(C,A+"leave",m,t,f),p.target=x,p.relatedTarget=S,C=null,zl(f)===c&&(_=new _(g,A+"enter",v,t,f),_.target=S,_.relatedTarget=x,C=_),x=C,m&&v)t:{for(_=m,g=v,A=0,S=_;S;S=zc(S))A++;for(S=0,C=g;C;C=zc(C))S++;for(;0<A-S;)_=zc(_),A--;for(;0<S-A;)g=zc(g),S--;for(;A--;){if(_===g||g!==null&&_===g.alternate)break t;_=zc(_),g=zc(g)}_=null}else _=null;m!==null&&mw(h,p,m,_,!1),v!==null&&x!==null&&mw(h,x,v,_,!0)}}e:{if(p=c?Su(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=NN;else if(aw(p))if(u6)P=UN;else{P=ON;var E=FN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=kN);if(P&&(P=P(n,c))){c6(h,P,t,f);break e}E&&E(n,p,c),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Zx(p,"number",p.value)}switch(E=c?Su(c):window,n){case"focusin":(aw(E)||E.contentEditable==="true")&&(_u=E,l_=c,Hd=null);break;case"focusout":Hd=l_=_u=null;break;case"mousedown":c_=!0;break;case"contextmenu":case"mouseup":case"dragend":c_=!1,dw(h,t,f);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":dw(h,t,f)}var I;if(RA)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else xu?a6(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(o6&&t.locale!=="ko"&&(xu||B!=="onCompositionStart"?B==="onCompositionEnd"&&xu&&(I=s6()):(wa=f,EA="value"in wa?wa.value:wa.textContent,xu=!0)),E=Fg(c,B),0<E.length&&(B=new iw(B,n,null,t,f),h.push({event:B,listeners:E}),I?B.data=I:(I=l6(t),I!==null&&(B.data=I)))),(I=PN?IN(n,t):BN(n,t))&&(c=Fg(c,"onBeforeInput"),0<c.length&&(f=new iw("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:c}),f.data=I))}_6(h,e)})}function hh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Fg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=oh(n,t),s!=null&&i.unshift(hh(n,s,r)),s=oh(n,e),s!=null&&i.push(hh(n,s,r))),n=n.return}return i}function zc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function mw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=oh(t,s),l!=null&&o.unshift(hh(t,l,a))):r||(l=oh(t,s),l!=null&&o.push(hh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var XN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function gw(n){return(typeof n=="string"?n:""+n).replace(XN,`
`).replace(JN,"")}function Dm(n,e,t){if(e=gw(e),gw(n)!==e&&t)throw Error(Ne(425))}function Og(){}var u_=null,f_=null;function d_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h_=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,YN=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(n){return vw.resolve(null).then(n).catch(ZN)}:h_;function ZN(n){setTimeout(function(){throw n})}function i2(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),ch(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);ch(e)}function Da(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function yw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Mf,ph="__reactProps$"+Mf,zo="__reactContainer$"+Mf,p_="__reactEvents$"+Mf,QN="__reactListeners$"+Mf,qN="__reactHandles$"+Mf;function zl(n){var e=n[Xs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[zo]||t[Xs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=yw(n);n!==null;){if(t=n[Xs])return t;n=yw(n)}return e}n=t,t=n.parentNode}return null}function Zh(n){return n=n[Xs]||n[zo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Su(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ne(33))}function b1(n){return n[ph]||null}var m_=[],Mu=-1;function el(n){return{current:n}}function _n(n){0>Mu||(n.current=m_[Mu],m_[Mu]=null,Mu--)}function mn(n,e){Mu++,m_[Mu]=n.current,n.current=e}var Va={},ji=el(Va),pr=el(!1),ac=Va;function qu(n,e){var t=n.type.contextTypes;if(!t)return Va;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function mr(n){return n=n.childContextTypes,n!=null}function kg(){_n(pr),_n(ji)}function xw(n,e,t){if(ji.current!==Va)throw Error(Ne(168));mn(ji,e),mn(pr,t)}function S6(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ne(108,FD(n)||"Unknown",r));return kn({},t,i)}function Ug(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Va,ac=ji.current,mn(ji,n),mn(pr,pr.current),!0}function _w(n,e,t){var i=n.stateNode;if(!i)throw Error(Ne(169));t?(n=S6(n,e,ac),i.__reactInternalMemoizedMergedChildContext=n,_n(pr),_n(ji),mn(ji,n)):_n(pr),mn(pr,t)}var Co=null,R1=!1,r2=!1;function M6(n){Co===null?Co=[n]:Co.push(n)}function $N(n){R1=!0,M6(n)}function tl(){if(!r2&&Co!==null){r2=!0;var n=0,e=fn;try{var t=Co;for(fn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Co=null,R1=!1}catch(r){throw Co!==null&&(Co=Co.slice(n+1)),K8(SA,tl),r}finally{fn=e,r2=!1}}return null}var Cu=[],wu=0,Hg=null,zg=0,Qr=[],qr=0,lc=null,Po=1,Io="";function Il(n,e){Cu[wu++]=zg,Cu[wu++]=Hg,Hg=n,zg=e}function C6(n,e,t){Qr[qr++]=Po,Qr[qr++]=Io,Qr[qr++]=lc,lc=n;var i=Po;n=Io;var r=32-Ts(i)-1;i&=~(1<<r),t+=1;var s=32-Ts(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Po=1<<32-Ts(e)+r|t<<r|i,Io=s+n}else Po=1<<s|t<<r|i,Io=n}function IA(n){n.return!==null&&(Il(n,1),C6(n,1,0))}function BA(n){for(;n===Hg;)Hg=Cu[--wu],Cu[wu]=null,zg=Cu[--wu],Cu[wu]=null;for(;n===lc;)lc=Qr[--qr],Qr[qr]=null,Io=Qr[--qr],Qr[qr]=null,Po=Qr[--qr],Qr[qr]=null}var br=null,Er=null,Tn=!1,Ss=null;function w6(n,e){var t=is(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Aw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,br=n,Er=Da(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,br=n,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=lc!==null?{id:Po,overflow:Io}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=is(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,br=n,Er=null,!0):!1;default:return!1}}function g_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function v_(n){if(Tn){var e=Er;if(e){var t=e;if(!Aw(n,e)){if(g_(n))throw Error(Ne(418));e=Da(t.nextSibling);var i=br;e&&Aw(n,e)?w6(i,t):(n.flags=n.flags&-4097|2,Tn=!1,br=n)}}else{if(g_(n))throw Error(Ne(418));n.flags=n.flags&-4097|2,Tn=!1,br=n}}}function Sw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;br=n}function Nm(n){if(n!==br)return!1;if(!Tn)return Sw(n),Tn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!d_(n.type,n.memoizedProps)),e&&(e=Er)){if(g_(n))throw E6(),Error(Ne(418));for(;e;)w6(n,e),e=Da(e.nextSibling)}if(Sw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ne(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Er=Da(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Er=null}}else Er=br?Da(n.stateNode.nextSibling):null;return!0}function E6(){for(var n=Er;n;)n=Da(n.nextSibling)}function $u(){Er=br=null,Tn=!1}function LA(n){Ss===null?Ss=[n]:Ss.push(n)}var eF=Xo.ReactCurrentBatchConfig;function rd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ne(309));var i=t.stateNode}if(!i)throw Error(Ne(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ne(284));if(!t._owner)throw Error(Ne(290,n))}return n}function Fm(n,e){throw n=Object.prototype.toString.call(e),Error(Ne(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Mw(n){var e=n._init;return e(n._payload)}function T6(n){function e(g,A){if(n){var S=g.deletions;S===null?(g.deletions=[A],g.flags|=16):S.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function i(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=ka(g,A),g.index=0,g.sibling=null,g}function s(g,A,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<A?(g.flags|=2,A):S):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,S,C){return A===null||A.tag!==6?(A=f2(S,g.mode,C),A.return=g,A):(A=r(A,S),A.return=g,A)}function l(g,A,S,C){var P=S.type;return P===yu?f(g,A,S.props.children,C,S.key):A!==null&&(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ya&&Mw(P)===A.type)?(C=r(A,S.props),C.ref=rd(g,A,S),C.return=g,C):(C=dg(S.type,S.key,S.props,null,g.mode,C),C.ref=rd(g,A,S),C.return=g,C)}function c(g,A,S,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=d2(S,g.mode,C),A.return=g,A):(A=r(A,S.children||[]),A.return=g,A)}function f(g,A,S,C,P){return A===null||A.tag!==7?(A=$l(S,g.mode,C,P),A.return=g,A):(A=r(A,S),A.return=g,A)}function h(g,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=f2(""+A,g.mode,S),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wm:return S=dg(A.type,A.key,A.props,null,g.mode,S),S.ref=rd(g,null,A),S.return=g,S;case vu:return A=d2(A,g.mode,S),A.return=g,A;case ya:var C=A._init;return h(g,C(A._payload),S)}if(Rd(A)||$f(A))return A=$l(A,g.mode,S,null),A.return=g,A;Fm(g,A)}return null}function p(g,A,S,C){var P=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(g,A,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wm:return S.key===P?l(g,A,S,C):null;case vu:return S.key===P?c(g,A,S,C):null;case ya:return P=S._init,p(g,A,P(S._payload),C)}if(Rd(S)||$f(S))return P!==null?null:f(g,A,S,C,null);Fm(g,S)}return null}function m(g,A,S,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(S)||null,a(A,g,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wm:return g=g.get(C.key===null?S:C.key)||null,l(A,g,C,P);case vu:return g=g.get(C.key===null?S:C.key)||null,c(A,g,C,P);case ya:var E=C._init;return m(g,A,S,E(C._payload),P)}if(Rd(C)||$f(C))return g=g.get(S)||null,f(A,g,C,P,null);Fm(A,C)}return null}function v(g,A,S,C){for(var P=null,E=null,I=A,B=A=0,R=null;I!==null&&B<S.length;B++){I.index>B?(R=I,I=null):R=I.sibling;var b=p(g,I,S[B],C);if(b===null){I===null&&(I=R);break}n&&I&&b.alternate===null&&e(g,I),A=s(b,A,B),E===null?P=b:E.sibling=b,E=b,I=R}if(B===S.length)return t(g,I),Tn&&Il(g,B),P;if(I===null){for(;B<S.length;B++)I=h(g,S[B],C),I!==null&&(A=s(I,A,B),E===null?P=I:E.sibling=I,E=I);return Tn&&Il(g,B),P}for(I=i(g,I);B<S.length;B++)R=m(I,g,B,S[B],C),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?B:R.key),A=s(R,A,B),E===null?P=R:E.sibling=R,E=R);return n&&I.forEach(function(k){return e(g,k)}),Tn&&Il(g,B),P}function _(g,A,S,C){var P=$f(S);if(typeof P!="function")throw Error(Ne(150));if(S=P.call(S),S==null)throw Error(Ne(151));for(var E=P=null,I=A,B=A=0,R=null,b=S.next();I!==null&&!b.done;B++,b=S.next()){I.index>B?(R=I,I=null):R=I.sibling;var k=p(g,I,b.value,C);if(k===null){I===null&&(I=R);break}n&&I&&k.alternate===null&&e(g,I),A=s(k,A,B),E===null?P=k:E.sibling=k,E=k,I=R}if(b.done)return t(g,I),Tn&&Il(g,B),P;if(I===null){for(;!b.done;B++,b=S.next())b=h(g,b.value,C),b!==null&&(A=s(b,A,B),E===null?P=b:E.sibling=b,E=b);return Tn&&Il(g,B),P}for(I=i(g,I);!b.done;B++,b=S.next())b=m(I,g,B,b.value,C),b!==null&&(n&&b.alternate!==null&&I.delete(b.key===null?B:b.key),A=s(b,A,B),E===null?P=b:E.sibling=b,E=b);return n&&I.forEach(function(Y){return e(g,Y)}),Tn&&Il(g,B),P}function x(g,A,S,C){if(typeof S=="object"&&S!==null&&S.type===yu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wm:e:{for(var P=S.key,E=A;E!==null;){if(E.key===P){if(P=S.type,P===yu){if(E.tag===7){t(g,E.sibling),A=r(E,S.props.children),A.return=g,g=A;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ya&&Mw(P)===E.type){t(g,E.sibling),A=r(E,S.props),A.ref=rd(g,E,S),A.return=g,g=A;break e}t(g,E);break}else e(g,E);E=E.sibling}S.type===yu?(A=$l(S.props.children,g.mode,C,S.key),A.return=g,g=A):(C=dg(S.type,S.key,S.props,null,g.mode,C),C.ref=rd(g,A,S),C.return=g,g=C)}return o(g);case vu:e:{for(E=S.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(g,A.sibling),A=r(A,S.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=d2(S,g.mode,C),A.return=g,g=A}return o(g);case ya:return E=S._init,x(g,A,E(S._payload),C)}if(Rd(S))return v(g,A,S,C);if($f(S))return _(g,A,S,C);Fm(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(g,A.sibling),A=r(A,S),A.return=g,g=A):(t(g,A),A=f2(S,g.mode,C),A.return=g,g=A),o(g)):t(g,A)}return x}var ef=T6(!0),b6=T6(!1),Gg=el(null),Vg=null,Eu=null,DA=null;function NA(){DA=Eu=Vg=null}function FA(n){var e=Gg.current;_n(Gg),n._currentValue=e}function y_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Gu(n,e){Vg=n,DA=Eu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(dr=!0),n.firstContext=null)}function ls(n){var e=n._currentValue;if(DA!==n)if(n={context:n,memoizedValue:e,next:null},Eu===null){if(Vg===null)throw Error(Ne(308));Eu=n,Vg.dependencies={lanes:0,firstContext:n}}else Eu=Eu.next=n;return e}var Gl=null;function OA(n){Gl===null?Gl=[n]:Gl.push(n)}function R6(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,OA(e)):(t.next=r.next,r.next=t),e.interleaved=t,Go(n,i)}function Go(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var xa=!1;function kA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P6(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function No(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Na(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Kt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Go(n,t)}return r=i.interleaved,r===null?(e.next=e,OA(i)):(e.next=r.next,r.next=e),i.interleaved=e,Go(n,t)}function og(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,MA(n,t)}}function Cw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wg(n,e,t,i){var r=n.updateQueue;xa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,f=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,_=a;switch(p=e,m=t,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=kn({},h,p);break e;case 2:xa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);uc|=o,n.lanes=o,n.memoizedState=h}}function ww(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ne(191,r));r.call(i)}}}var Qh={},Zs=el(Qh),mh=el(Qh),gh=el(Qh);function Vl(n){if(n===Qh)throw Error(Ne(174));return n}function UA(n,e){switch(mn(gh,e),mn(mh,n),mn(Zs,Qh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=qx(e,n)}_n(Zs),mn(Zs,e)}function tf(){_n(Zs),_n(mh),_n(gh)}function I6(n){Vl(gh.current);var e=Vl(Zs.current),t=qx(e,n.type);e!==t&&(mn(mh,n),mn(Zs,t))}function HA(n){mh.current===n&&(_n(Zs),_n(mh))}var Bn=el(0);function jg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s2=[];function zA(){for(var n=0;n<s2.length;n++)s2[n]._workInProgressVersionPrimary=null;s2.length=0}var ag=Xo.ReactCurrentDispatcher,o2=Xo.ReactCurrentBatchConfig,cc=0,On=null,ai=null,gi=null,Xg=!1,zd=!1,vh=0,tF=0;function Fi(){throw Error(Ne(321))}function GA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Rs(n[t],e[t]))return!1;return!0}function VA(n,e,t,i,r,s){if(cc=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ag.current=n===null||n.memoizedState===null?sF:oF,n=t(i,r),zd){s=0;do{if(zd=!1,vh=0,25<=s)throw Error(Ne(301));s+=1,gi=ai=null,e.updateQueue=null,ag.current=aF,n=t(i,r)}while(zd)}if(ag.current=Jg,e=ai!==null&&ai.next!==null,cc=0,gi=ai=On=null,Xg=!1,e)throw Error(Ne(300));return n}function WA(){var n=vh!==0;return vh=0,n}function Gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?On.memoizedState=gi=n:gi=gi.next=n,gi}function cs(){if(ai===null){var n=On.alternate;n=n!==null?n.memoizedState:null}else n=ai.next;var e=gi===null?On.memoizedState:gi.next;if(e!==null)gi=e,ai=n;else{if(n===null)throw Error(Ne(310));ai=n,n={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},gi===null?On.memoizedState=gi=n:gi=gi.next=n}return gi}function yh(n,e){return typeof e=="function"?e(n):e}function a2(n){var e=cs(),t=e.queue;if(t===null)throw Error(Ne(311));t.lastRenderedReducer=n;var i=ai,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((cc&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,On.lanes|=f,uc|=f}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Rs(i,e.memoizedState)||(dr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,On.lanes|=s,uc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function l2(n){var e=cs(),t=e.queue;if(t===null)throw Error(Ne(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Rs(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function B6(){}function L6(n,e){var t=On,i=cs(),r=e(),s=!Rs(i.memoizedState,r);if(s&&(i.memoizedState=r,dr=!0),i=i.queue,jA(F6.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||gi!==null&&gi.memoizedState.tag&1){if(t.flags|=2048,xh(9,N6.bind(null,t,i,r,e),void 0,null),xi===null)throw Error(Ne(349));cc&30||D6(t,e,r)}return r}function D6(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function N6(n,e,t,i){e.value=t,e.getSnapshot=i,O6(e)&&k6(n)}function F6(n,e,t){return t(function(){O6(e)&&k6(n)})}function O6(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Rs(n,t)}catch{return!0}}function k6(n){var e=Go(n,1);e!==null&&bs(e,n,1,-1)}function Ew(n){var e=Gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:n},e.queue=n,n=n.dispatch=rF.bind(null,On,n),[e.memoizedState,n]}function xh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function U6(){return cs().memoizedState}function lg(n,e,t,i){var r=Gs();On.flags|=n,r.memoizedState=xh(1|e,t,void 0,i===void 0?null:i)}function P1(n,e,t,i){var r=cs();i=i===void 0?null:i;var s=void 0;if(ai!==null){var o=ai.memoizedState;if(s=o.destroy,i!==null&&GA(i,o.deps)){r.memoizedState=xh(e,t,s,i);return}}On.flags|=n,r.memoizedState=xh(1|e,t,s,i)}function Tw(n,e){return lg(8390656,8,n,e)}function jA(n,e){return P1(2048,8,n,e)}function H6(n,e){return P1(4,2,n,e)}function z6(n,e){return P1(4,4,n,e)}function G6(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function V6(n,e,t){return t=t!=null?t.concat([n]):null,P1(4,4,G6.bind(null,e,n),t)}function XA(){}function W6(n,e){var t=cs();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&GA(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function j6(n,e){var t=cs();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&GA(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function X6(n,e,t){return cc&21?(Rs(t,e)||(t=Q8(),On.lanes|=t,uc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,dr=!0),n.memoizedState=t)}function nF(n,e){var t=fn;fn=t!==0&&4>t?t:4,n(!0);var i=o2.transition;o2.transition={};try{n(!1),e()}finally{fn=t,o2.transition=i}}function J6(){return cs().memoizedState}function iF(n,e,t){var i=Oa(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},K6(n))Y6(e,t);else if(t=R6(n,e,t,i),t!==null){var r=tr();bs(t,n,i,r),Z6(t,e,i)}}function rF(n,e,t){var i=Oa(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(K6(n))Y6(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Rs(a,o)){var l=e.interleaved;l===null?(r.next=r,OA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=R6(n,e,r,i),t!==null&&(r=tr(),bs(t,n,i,r),Z6(t,e,i))}}function K6(n){var e=n.alternate;return n===On||e!==null&&e===On}function Y6(n,e){zd=Xg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Z6(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,MA(n,t)}}var Jg={readContext:ls,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},sF={readContext:ls,useCallback:function(n,e){return Gs().memoizedState=[n,e===void 0?null:e],n},useContext:ls,useEffect:Tw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,lg(4194308,4,G6.bind(null,e,n),t)},useLayoutEffect:function(n,e){return lg(4194308,4,n,e)},useInsertionEffect:function(n,e){return lg(4,2,n,e)},useMemo:function(n,e){var t=Gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=iF.bind(null,On,n),[i.memoizedState,n]},useRef:function(n){var e=Gs();return n={current:n},e.memoizedState=n},useState:Ew,useDebugValue:XA,useDeferredValue:function(n){return Gs().memoizedState=n},useTransition:function(){var n=Ew(!1),e=n[0];return n=nF.bind(null,n[1]),Gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=On,r=Gs();if(Tn){if(t===void 0)throw Error(Ne(407));t=t()}else{if(t=e(),xi===null)throw Error(Ne(349));cc&30||D6(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Tw(F6.bind(null,i,s,n),[n]),i.flags|=2048,xh(9,N6.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gs(),e=xi.identifierPrefix;if(Tn){var t=Io,i=Po;t=(i&~(1<<32-Ts(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=vh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=tF++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},oF={readContext:ls,useCallback:W6,useContext:ls,useEffect:jA,useImperativeHandle:V6,useInsertionEffect:H6,useLayoutEffect:z6,useMemo:j6,useReducer:a2,useRef:U6,useState:function(){return a2(yh)},useDebugValue:XA,useDeferredValue:function(n){var e=cs();return X6(e,ai.memoizedState,n)},useTransition:function(){var n=a2(yh)[0],e=cs().memoizedState;return[n,e]},useMutableSource:B6,useSyncExternalStore:L6,useId:J6,unstable_isNewReconciler:!1},aF={readContext:ls,useCallback:W6,useContext:ls,useEffect:jA,useImperativeHandle:V6,useInsertionEffect:H6,useLayoutEffect:z6,useMemo:j6,useReducer:l2,useRef:U6,useState:function(){return l2(yh)},useDebugValue:XA,useDeferredValue:function(n){var e=cs();return ai===null?e.memoizedState=n:X6(e,ai.memoizedState,n)},useTransition:function(){var n=l2(yh)[0],e=cs().memoizedState;return[n,e]},useMutableSource:B6,useSyncExternalStore:L6,useId:J6,unstable_isNewReconciler:!1};function xs(n,e){if(n&&n.defaultProps){e=kn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function x_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:kn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var I1={isMounted:function(n){return(n=n._reactInternals)?vc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=tr(),r=Oa(n),s=No(i,r);s.payload=e,t!=null&&(s.callback=t),e=Na(n,s,r),e!==null&&(bs(e,n,r,i),og(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=tr(),r=Oa(n),s=No(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Na(n,s,r),e!==null&&(bs(e,n,r,i),og(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=tr(),i=Oa(n),r=No(t,i);r.tag=2,e!=null&&(r.callback=e),e=Na(n,r,i),e!==null&&(bs(e,n,i,t),og(e,n,i))}};function bw(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!fh(t,i)||!fh(r,s):!0}function Q6(n,e,t){var i=!1,r=Va,s=e.contextType;return typeof s=="object"&&s!==null?s=ls(s):(r=mr(e)?ac:ji.current,i=e.contextTypes,s=(i=i!=null)?qu(n,r):Va),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=I1,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Rw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&I1.enqueueReplaceState(e,e.state,null)}function __(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},kA(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ls(s):(s=mr(e)?ac:ji.current,r.context=qu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&I1.enqueueReplaceState(r,r.state,null),Wg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function nf(n,e){try{var t="",i=e;do t+=ND(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function c2(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function A_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var lF=typeof WeakMap=="function"?WeakMap:Map;function q6(n,e,t){t=No(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Yg||(Yg=!0,I_=i),A_(n,e)},t}function $6(n,e,t){t=No(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){A_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){A_(n,e),typeof i!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Pw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new lF;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=SF.bind(null,n,e,t),e.then(n,n))}function Iw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Bw(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=No(-1,1),e.tag=2,Na(t,e,1))),t.lanes|=1),n)}var cF=Xo.ReactCurrentOwner,dr=!1;function qi(n,e,t,i){e.child=n===null?b6(e,null,t,i):ef(e,n.child,t,i)}function Lw(n,e,t,i,r){t=t.render;var s=e.ref;return Gu(e,r),i=VA(n,e,t,i,s,r),t=WA(),n!==null&&!dr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vo(n,e,r)):(Tn&&t&&IA(e),e.flags|=1,qi(n,e,i,r),e.child)}function Dw(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!eS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,e9(n,e,s,i,r)):(n=dg(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:fh,t(o,i)&&n.ref===e.ref)return Vo(n,e,r)}return e.flags|=1,n=ka(s,i),n.ref=e.ref,n.return=e,e.child=n}function e9(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(fh(s,i)&&n.ref===e.ref)if(dr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(dr=!0);else return e.lanes=n.lanes,Vo(n,e,r)}return S_(n,e,t,i,r)}function t9(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(bu,Mr),Mr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,mn(bu,Mr),Mr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,mn(bu,Mr),Mr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,mn(bu,Mr),Mr|=i;return qi(n,e,r,t),e.child}function n9(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function S_(n,e,t,i,r){var s=mr(t)?ac:ji.current;return s=qu(e,s),Gu(e,r),t=VA(n,e,t,i,s,r),i=WA(),n!==null&&!dr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vo(n,e,r)):(Tn&&i&&IA(e),e.flags|=1,qi(n,e,t,r),e.child)}function Nw(n,e,t,i,r){if(mr(t)){var s=!0;Ug(e)}else s=!1;if(Gu(e,r),e.stateNode===null)cg(n,e),Q6(e,t,i),__(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ls(c):(c=mr(t)?ac:ji.current,c=qu(e,c));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Rw(e,o,i,c),xa=!1;var p=e.memoizedState;o.state=p,Wg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||pr.current||xa?(typeof f=="function"&&(x_(e,t,f,i),l=e.memoizedState),(a=xa||bw(e,t,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,P6(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:xs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ls(l):(l=mr(t)?ac:ji.current,l=qu(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Rw(e,o,i,l),xa=!1,p=e.memoizedState,o.state=p,Wg(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||pr.current||xa?(typeof m=="function"&&(x_(e,t,m,i),v=e.memoizedState),(c=xa||bw(e,t,c,i,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return M_(n,e,t,i,s,r)}function M_(n,e,t,i,r,s){n9(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&_w(e,t,!1),Vo(n,e,s);i=e.stateNode,cF.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=ef(e,n.child,null,s),e.child=ef(e,null,a,s)):qi(n,e,a,s),e.memoizedState=i.state,r&&_w(e,t,!0),e.child}function i9(n){var e=n.stateNode;e.pendingContext?xw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xw(n,e.context,!1),UA(n,e.containerInfo)}function Fw(n,e,t,i,r){return $u(),LA(r),e.flags|=256,qi(n,e,t,i),e.child}var C_={dehydrated:null,treeContext:null,retryLane:0};function w_(n){return{baseLanes:n,cachePool:null,transitions:null}}function r9(n,e,t){var i=e.pendingProps,r=Bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),mn(Bn,r&1),n===null)return v_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=D1(o,i,0,null),n=$l(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=w_(t),e.memoizedState=C_,n):JA(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return uF(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ka(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ka(a,s):(s=$l(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?w_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=C_,i}return s=n.child,n=s.sibling,i=ka(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function JA(n,e){return e=D1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Om(n,e,t,i){return i!==null&&LA(i),ef(e,n.child,null,t),n=JA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function uF(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=c2(Error(Ne(422))),Om(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=D1({mode:"visible",children:i.children},r,0,null),s=$l(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ef(e,n.child,null,o),e.child.memoizedState=w_(o),e.memoizedState=C_,s);if(!(e.mode&1))return Om(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ne(419)),i=c2(s,i,void 0),Om(n,e,o,i)}if(a=(o&n.childLanes)!==0,dr||a){if(i=xi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Go(n,r),bs(i,n,r,-1))}return $A(),i=c2(Error(Ne(421))),Om(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=MF.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Er=Da(r.nextSibling),br=e,Tn=!0,Ss=null,n!==null&&(Qr[qr++]=Po,Qr[qr++]=Io,Qr[qr++]=lc,Po=n.id,Io=n.overflow,lc=e),e=JA(e,i.children),e.flags|=4096,e)}function Ow(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),y_(n.return,e,t)}function u2(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function s9(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(qi(n,e,i.children,t),i=Bn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ow(n,t,e);else if(n.tag===19)Ow(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(mn(Bn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&jg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),u2(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&jg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}u2(e,!0,t,null,s);break;case"together":u2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Vo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),uc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ne(153));if(e.child!==null){for(n=e.child,t=ka(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ka(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function fF(n,e,t){switch(e.tag){case 3:i9(e),$u();break;case 5:I6(e);break;case 1:mr(e.type)&&Ug(e);break;case 4:UA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;mn(Gg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(mn(Bn,Bn.current&1),e.flags|=128,null):t&e.child.childLanes?r9(n,e,t):(mn(Bn,Bn.current&1),n=Vo(n,e,t),n!==null?n.sibling:null);mn(Bn,Bn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return s9(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mn(Bn,Bn.current),i)break;return null;case 22:case 23:return e.lanes=0,t9(n,e,t)}return Vo(n,e,t)}var o9,E_,a9,l9;o9=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};E_=function(){};a9=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Vl(Zs.current);var s=null;switch(t){case"input":r=Kx(n,r),i=Kx(n,i),s=[];break;case"select":r=kn({},r,{value:void 0}),i=kn({},i,{value:void 0}),s=[];break;case"textarea":r=Qx(n,r),i=Qx(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Og)}$x(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};l9=function(n,e,t,i){t!==i&&(e.flags|=4)};function sd(n,e){if(!Tn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Oi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function dF(n,e,t){var i=e.pendingProps;switch(BA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(e),null;case 1:return mr(e.type)&&kg(),Oi(e),null;case 3:return i=e.stateNode,tf(),_n(pr),_n(ji),zA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Nm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(D_(Ss),Ss=null))),E_(n,e),Oi(e),null;case 5:HA(e);var r=Vl(gh.current);if(t=e.type,n!==null&&e.stateNode!=null)a9(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ne(166));return Oi(e),null}if(n=Vl(Zs.current),Nm(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Xs]=e,i[ph]=s,n=(e.mode&1)!==0,t){case"dialog":vn("cancel",i),vn("close",i);break;case"iframe":case"object":case"embed":vn("load",i);break;case"video":case"audio":for(r=0;r<Id.length;r++)vn(Id[r],i);break;case"source":vn("error",i);break;case"img":case"image":case"link":vn("error",i),vn("load",i);break;case"details":vn("toggle",i);break;case"input":XC(i,s),vn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},vn("invalid",i);break;case"textarea":KC(i,s),vn("invalid",i)}$x(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dm(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dm(i.textContent,a,n),r=["children",""+a]):rh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vn("scroll",i)}switch(t){case"input":Em(i),JC(i,s,!0);break;case"textarea":Em(i),YC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Og)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=F8(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Xs]=e,n[ph]=i,o9(n,e,!1,!1),e.stateNode=n;e:{switch(o=e_(t,i),t){case"dialog":vn("cancel",n),vn("close",n),r=i;break;case"iframe":case"object":case"embed":vn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Id.length;r++)vn(Id[r],n);r=i;break;case"source":vn("error",n),r=i;break;case"img":case"image":case"link":vn("error",n),vn("load",n),r=i;break;case"details":vn("toggle",n),r=i;break;case"input":XC(n,i),r=Kx(n,i),vn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=kn({},i,{value:void 0}),vn("invalid",n);break;case"textarea":KC(n,i),r=Qx(n,i),vn("invalid",n);break;default:r=i}$x(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U8(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O8(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&sh(n,l):typeof l=="number"&&sh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vn("scroll",n):l!=null&&vA(n,s,l,o))}switch(t){case"input":Em(n),JC(n,i,!1);break;case"textarea":Em(n),YC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ga(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?ku(n,!!i.multiple,s,!1):i.defaultValue!=null&&ku(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Og)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oi(e),null;case 6:if(n&&e.stateNode!=null)l9(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ne(166));if(t=Vl(gh.current),Vl(Zs.current),Nm(e)){if(i=e.stateNode,t=e.memoizedProps,i[Xs]=e,(s=i.nodeValue!==t)&&(n=br,n!==null))switch(n.tag){case 3:Dm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dm(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Xs]=e,e.stateNode=i}return Oi(e),null;case 13:if(_n(Bn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tn&&Er!==null&&e.mode&1&&!(e.flags&128))E6(),$u(),e.flags|=98560,s=!1;else if(s=Nm(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Xs]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oi(e),s=!1}else Ss!==null&&(D_(Ss),Ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Bn.current&1?li===0&&(li=3):$A())),e.updateQueue!==null&&(e.flags|=4),Oi(e),null);case 4:return tf(),E_(n,e),n===null&&dh(e.stateNode.containerInfo),Oi(e),null;case 10:return FA(e.type._context),Oi(e),null;case 17:return mr(e.type)&&kg(),Oi(e),null;case 19:if(_n(Bn),s=e.memoizedState,s===null)return Oi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)sd(s,!1);else{if(li!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=jg(n),o!==null){for(e.flags|=128,sd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return mn(Bn,Bn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Yn()>rf&&(e.flags|=128,i=!0,sd(s,!1),e.lanes=4194304)}else{if(!i)if(n=jg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return Oi(e),null}else 2*Yn()-s.renderingStartTime>rf&&t!==1073741824&&(e.flags|=128,i=!0,sd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yn(),e.sibling=null,t=Bn.current,mn(Bn,i?t&1|2:t&1),e):(Oi(e),null);case 22:case 23:return qA(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Mr&1073741824&&(Oi(e),e.subtreeFlags&6&&(e.flags|=8192)):Oi(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function hF(n,e){switch(BA(e),e.tag){case 1:return mr(e.type)&&kg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return tf(),_n(pr),_n(ji),zA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return HA(e),null;case 13:if(_n(Bn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));$u()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return _n(Bn),null;case 4:return tf(),null;case 10:return FA(e.type._context),null;case 22:case 23:return qA(),null;case 24:return null;default:return null}}var km=!1,Gi=!1,pF=typeof WeakSet=="function"?WeakSet:Set,et=null;function Tu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Gn(n,e,i)}else t.current=null}function T_(n,e,t){try{t()}catch(i){Gn(n,e,i)}}var kw=!1;function mF(n,e){if(u_=Dg,n=h6(),PA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++f===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(f_={focusedElem:n,selectionRange:t},Dg=!1,et=e;et!==null;)if(e=et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,et=n;else for(;et!==null;){e=et;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:xs(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(C){Gn(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}return v=kw,kw=!1,v}function Gd(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&T_(e,t,s)}r=r.next}while(r!==i)}}function B1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function b_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function c9(n){var e=n.alternate;e!==null&&(n.alternate=null,c9(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Xs],delete e[ph],delete e[p_],delete e[QN],delete e[qN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function u9(n){return n.tag===5||n.tag===3||n.tag===4}function Uw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||u9(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function R_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Og));else if(i!==4&&(n=n.child,n!==null))for(R_(n,e,t),n=n.sibling;n!==null;)R_(n,e,t),n=n.sibling}function P_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(P_(n,e,t),n=n.sibling;n!==null;)P_(n,e,t),n=n.sibling}var Mi=null,As=!1;function ia(n,e,t){for(t=t.child;t!==null;)f9(n,e,t),t=t.sibling}function f9(n,e,t){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(C1,t)}catch{}switch(t.tag){case 5:Gi||Tu(t,e);case 6:var i=Mi,r=As;Mi=null,ia(n,e,t),Mi=i,As=r,Mi!==null&&(As?(n=Mi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Mi.removeChild(t.stateNode));break;case 18:Mi!==null&&(As?(n=Mi,t=t.stateNode,n.nodeType===8?i2(n.parentNode,t):n.nodeType===1&&i2(n,t),ch(n)):i2(Mi,t.stateNode));break;case 4:i=Mi,r=As,Mi=t.stateNode.containerInfo,As=!0,ia(n,e,t),Mi=i,As=r;break;case 0:case 11:case 14:case 15:if(!Gi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T_(t,e,o),r=r.next}while(r!==i)}ia(n,e,t);break;case 1:if(!Gi&&(Tu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Gn(t,e,a)}ia(n,e,t);break;case 21:ia(n,e,t);break;case 22:t.mode&1?(Gi=(i=Gi)||t.memoizedState!==null,ia(n,e,t),Gi=i):ia(n,e,t);break;default:ia(n,e,t)}}function Hw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new pF),e.forEach(function(i){var r=CF.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ps(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mi=a.stateNode,As=!1;break e;case 3:Mi=a.stateNode.containerInfo,As=!0;break e;case 4:Mi=a.stateNode.containerInfo,As=!0;break e}a=a.return}if(Mi===null)throw Error(Ne(160));f9(s,o,r),Mi=null,As=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Gn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d9(e,n),e=e.sibling}function d9(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ps(e,n),zs(n),i&4){try{Gd(3,n,n.return),B1(3,n)}catch(_){Gn(n,n.return,_)}try{Gd(5,n,n.return)}catch(_){Gn(n,n.return,_)}}break;case 1:ps(e,n),zs(n),i&512&&t!==null&&Tu(t,t.return);break;case 5:if(ps(e,n),zs(n),i&512&&t!==null&&Tu(t,t.return),n.flags&32){var r=n.stateNode;try{sh(r,"")}catch(_){Gn(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D8(r,s),e_(a,o);var c=e_(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?U8(r,h):f==="dangerouslySetInnerHTML"?O8(r,h):f==="children"?sh(r,h):vA(r,f,h,c)}switch(a){case"input":Yx(r,s);break;case"textarea":N8(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ku(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ku(r,!!s.multiple,s.defaultValue,!0):ku(r,!!s.multiple,s.multiple?[]:"",!1))}r[ph]=s}catch(_){Gn(n,n.return,_)}}break;case 6:if(ps(e,n),zs(n),i&4){if(n.stateNode===null)throw Error(Ne(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){Gn(n,n.return,_)}}break;case 3:if(ps(e,n),zs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(_){Gn(n,n.return,_)}break;case 4:ps(e,n),zs(n);break;case 13:ps(e,n),zs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(ZA=Yn())),i&4&&Hw(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Gi=(c=Gi)||f,ps(e,n),Gi=c):ps(e,n),zs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&n.mode&1)for(et=n,f=n.child;f!==null;){for(h=et=f;et!==null;){switch(p=et,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gd(4,p,p.return);break;case 1:Tu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Gn(i,t,_)}}break;case 5:Tu(p,p.return);break;case 22:if(p.memoizedState!==null){Gw(h);continue}}m!==null?(m.return=p,et=m):Gw(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=k8("display",o))}catch(_){Gn(n,n.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Gn(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ps(e,n),zs(n),i&4&&Hw(n);break;case 21:break;default:ps(e,n),zs(n)}}function zs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(u9(t)){var i=t;break e}t=t.return}throw Error(Ne(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(sh(r,""),i.flags&=-33);var s=Uw(n);P_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Uw(n);R_(n,a,o);break;default:throw Error(Ne(161))}}catch(l){Gn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function gF(n,e,t){et=n,h9(n)}function h9(n,e,t){for(var i=(n.mode&1)!==0;et!==null;){var r=et,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||km;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Gi;a=km;var c=Gi;if(km=o,(Gi=l)&&!c)for(et=r;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?Vw(r):l!==null?(l.return=o,et=l):Vw(r);for(;s!==null;)et=s,h9(s),s=s.sibling;et=r,km=a,Gi=c}zw(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,et=s):zw(n)}}function zw(n){for(;et!==null;){var e=et;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gi||B1(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Gi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:xs(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ww(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ww(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ch(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Gi||e.flags&512&&b_(e)}catch(p){Gn(e,e.return,p)}}if(e===n){et=null;break}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}}function Gw(n){for(;et!==null;){var e=et;if(e===n){et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,et=t;break}et=e.return}}function Vw(n){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{B1(4,e)}catch(l){Gn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Gn(e,r,l)}}var s=e.return;try{b_(e)}catch(l){Gn(e,s,l)}break;case 5:var o=e.return;try{b_(e)}catch(l){Gn(e,o,l)}}}catch(l){Gn(e,e.return,l)}if(e===n){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var vF=Math.ceil,Kg=Xo.ReactCurrentDispatcher,KA=Xo.ReactCurrentOwner,as=Xo.ReactCurrentBatchConfig,Kt=0,xi=null,ri=null,Ei=0,Mr=0,bu=el(0),li=0,_h=null,uc=0,L1=0,YA=0,Vd=null,fr=null,ZA=0,rf=1/0,So=null,Yg=!1,I_=null,Fa=null,Um=!1,Ea=null,Zg=0,Wd=0,B_=null,ug=-1,fg=0;function tr(){return Kt&6?Yn():ug!==-1?ug:ug=Yn()}function Oa(n){return n.mode&1?Kt&2&&Ei!==0?Ei&-Ei:eF.transition!==null?(fg===0&&(fg=Q8()),fg):(n=fn,n!==0||(n=window.event,n=n===void 0?16:r6(n.type)),n):1}function bs(n,e,t,i){if(50<Wd)throw Wd=0,B_=null,Error(Ne(185));Kh(n,t,i),(!(Kt&2)||n!==xi)&&(n===xi&&(!(Kt&2)&&(L1|=t),li===4&&Ma(n,Ei)),gr(n,i),t===1&&Kt===0&&!(e.mode&1)&&(rf=Yn()+500,R1&&tl()))}function gr(n,e){var t=n.callbackNode;eN(n,e);var i=Lg(n,n===xi?Ei:0);if(i===0)t!==null&&qC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&qC(t),e===1)n.tag===0?$N(Ww.bind(null,n)):M6(Ww.bind(null,n)),YN(function(){!(Kt&6)&&tl()}),t=null;else{switch(q8(i)){case 1:t=SA;break;case 4:t=Y8;break;case 16:t=Bg;break;case 536870912:t=Z8;break;default:t=Bg}t=A9(t,p9.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function p9(n,e){if(ug=-1,fg=0,Kt&6)throw Error(Ne(327));var t=n.callbackNode;if(Vu()&&n.callbackNode!==t)return null;var i=Lg(n,n===xi?Ei:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Qg(n,i);else{e=i;var r=Kt;Kt|=2;var s=g9();(xi!==n||Ei!==e)&&(So=null,rf=Yn()+500,ql(n,e));do try{_F();break}catch(a){m9(n,a)}while(!0);NA(),Kg.current=s,Kt=r,ri!==null?e=0:(xi=null,Ei=0,e=li)}if(e!==0){if(e===2&&(r=s_(n),r!==0&&(i=r,e=L_(n,r))),e===1)throw t=_h,ql(n,0),Ma(n,i),gr(n,Yn()),t;if(e===6)Ma(n,i);else{if(r=n.current.alternate,!(i&30)&&!yF(r)&&(e=Qg(n,i),e===2&&(s=s_(n),s!==0&&(i=s,e=L_(n,s))),e===1))throw t=_h,ql(n,0),Ma(n,i),gr(n,Yn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ne(345));case 2:Bl(n,fr,So);break;case 3:if(Ma(n,i),(i&130023424)===i&&(e=ZA+500-Yn(),10<e)){if(Lg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){tr(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=h_(Bl.bind(null,n,fr,So),e);break}Bl(n,fr,So);break;case 4:if(Ma(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Ts(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Yn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vF(i/1960))-i,10<i){n.timeoutHandle=h_(Bl.bind(null,n,fr,So),i);break}Bl(n,fr,So);break;case 5:Bl(n,fr,So);break;default:throw Error(Ne(329))}}}return gr(n,Yn()),n.callbackNode===t?p9.bind(null,n):null}function L_(n,e){var t=Vd;return n.current.memoizedState.isDehydrated&&(ql(n,e).flags|=256),n=Qg(n,e),n!==2&&(e=fr,fr=t,e!==null&&D_(e)),n}function D_(n){fr===null?fr=n:fr.push.apply(fr,n)}function yF(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Rs(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(n,e){for(e&=~YA,e&=~L1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ts(e),i=1<<t;n[t]=-1,e&=~i}}function Ww(n){if(Kt&6)throw Error(Ne(327));Vu();var e=Lg(n,0);if(!(e&1))return gr(n,Yn()),null;var t=Qg(n,e);if(n.tag!==0&&t===2){var i=s_(n);i!==0&&(e=i,t=L_(n,i))}if(t===1)throw t=_h,ql(n,0),Ma(n,e),gr(n,Yn()),t;if(t===6)throw Error(Ne(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bl(n,fr,So),gr(n,Yn()),null}function QA(n,e){var t=Kt;Kt|=1;try{return n(e)}finally{Kt=t,Kt===0&&(rf=Yn()+500,R1&&tl())}}function fc(n){Ea!==null&&Ea.tag===0&&!(Kt&6)&&Vu();var e=Kt;Kt|=1;var t=as.transition,i=fn;try{if(as.transition=null,fn=1,n)return n()}finally{fn=i,as.transition=t,Kt=e,!(Kt&6)&&tl()}}function qA(){Mr=bu.current,_n(bu)}function ql(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,KN(t)),ri!==null)for(t=ri.return;t!==null;){var i=t;switch(BA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&kg();break;case 3:tf(),_n(pr),_n(ji),zA();break;case 5:HA(i);break;case 4:tf();break;case 13:_n(Bn);break;case 19:_n(Bn);break;case 10:FA(i.type._context);break;case 22:case 23:qA()}t=t.return}if(xi=n,ri=n=ka(n.current,null),Ei=Mr=e,li=0,_h=null,YA=L1=uc=0,fr=Vd=null,Gl!==null){for(e=0;e<Gl.length;e++)if(t=Gl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Gl=null}return n}function m9(n,e){do{var t=ri;try{if(NA(),ag.current=Jg,Xg){for(var i=On.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xg=!1}if(cc=0,gi=ai=On=null,zd=!1,vh=0,KA.current=null,t===null||t.return===null){li=1,_h=e,ri=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Ei,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Iw(o);if(m!==null){m.flags&=-257,Bw(m,o,a,s,e),m.mode&1&&Pw(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Pw(s,c,e),$A();break e}l=Error(Ne(426))}}else if(Tn&&a.mode&1){var x=Iw(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bw(x,o,a,s,e),LA(nf(l,a));break e}}s=l=nf(l,a),li!==4&&(li=2),Vd===null?Vd=[s]:Vd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=q6(s,l,e);Cw(s,g);break e;case 1:a=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fa===null||!Fa.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=$6(s,a,e);Cw(s,C);break e}}s=s.return}while(s!==null)}y9(t)}catch(P){e=P,ri===t&&t!==null&&(ri=t=t.return);continue}break}while(!0)}function g9(){var n=Kg.current;return Kg.current=Jg,n===null?Jg:n}function $A(){(li===0||li===3||li===2)&&(li=4),xi===null||!(uc&268435455)&&!(L1&268435455)||Ma(xi,Ei)}function Qg(n,e){var t=Kt;Kt|=2;var i=g9();(xi!==n||Ei!==e)&&(So=null,ql(n,e));do try{xF();break}catch(r){m9(n,r)}while(!0);if(NA(),Kt=t,Kg.current=i,ri!==null)throw Error(Ne(261));return xi=null,Ei=0,li}function xF(){for(;ri!==null;)v9(ri)}function _F(){for(;ri!==null&&!jD();)v9(ri)}function v9(n){var e=_9(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,e===null?y9(n):ri=e,KA.current=null}function y9(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=hF(t,e),t!==null){t.flags&=32767,ri=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{li=6,ri=null;return}}else if(t=dF(t,e,Mr),t!==null){ri=t;return}if(e=e.sibling,e!==null){ri=e;return}ri=e=n}while(e!==null);li===0&&(li=5)}function Bl(n,e,t){var i=fn,r=as.transition;try{as.transition=null,fn=1,AF(n,e,t,i)}finally{as.transition=r,fn=i}return null}function AF(n,e,t,i){do Vu();while(Ea!==null);if(Kt&6)throw Error(Ne(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ne(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(tN(n,s),n===xi&&(ri=xi=null,Ei=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Um||(Um=!0,A9(Bg,function(){return Vu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=as.transition,as.transition=null;var o=fn;fn=1;var a=Kt;Kt|=4,KA.current=null,mF(n,t),d9(t,n),zN(f_),Dg=!!u_,f_=u_=null,n.current=t,gF(t),XD(),Kt=a,fn=o,as.transition=s}else n.current=t;if(Um&&(Um=!1,Ea=n,Zg=r),s=n.pendingLanes,s===0&&(Fa=null),YD(t.stateNode),gr(n,Yn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Yg)throw Yg=!1,n=I_,I_=null,n;return Zg&1&&n.tag!==0&&Vu(),s=n.pendingLanes,s&1?n===B_?Wd++:(Wd=0,B_=n):Wd=0,tl(),null}function Vu(){if(Ea!==null){var n=q8(Zg),e=as.transition,t=fn;try{if(as.transition=null,fn=16>n?16:n,Ea===null)var i=!1;else{if(n=Ea,Ea=null,Zg=0,Kt&6)throw Error(Ne(331));var r=Kt;for(Kt|=4,et=n.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var f=et;switch(f.tag){case 0:case 11:case 15:Gd(8,f,s)}var h=f.child;if(h!==null)h.return=f,et=h;else for(;et!==null;){f=et;var p=f.sibling,m=f.return;if(c9(f),f===c){et=null;break}if(p!==null){p.return=m,et=p;break}et=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,et=g;break e}et=s.return}}var A=n.current;for(et=A;et!==null;){o=et;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,et=S;else e:for(o=A;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:B1(9,a)}}catch(P){Gn(a,a.return,P)}if(a===o){et=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,et=C;break e}et=a.return}}if(Kt=r,tl(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(C1,n)}catch{}i=!0}return i}finally{fn=t,as.transition=e}}return!1}function jw(n,e,t){e=nf(t,e),e=q6(n,e,1),n=Na(n,e,1),e=tr(),n!==null&&(Kh(n,1,e),gr(n,e))}function Gn(n,e,t){if(n.tag===3)jw(n,n,t);else for(;e!==null;){if(e.tag===3){jw(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))){n=nf(t,n),n=$6(e,n,1),e=Na(e,n,1),n=tr(),e!==null&&(Kh(e,1,n),gr(e,n));break}}e=e.return}}function SF(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=tr(),n.pingedLanes|=n.suspendedLanes&t,xi===n&&(Ei&t)===t&&(li===4||li===3&&(Ei&130023424)===Ei&&500>Yn()-ZA?ql(n,0):YA|=t),gr(n,e)}function x9(n,e){e===0&&(n.mode&1?(e=Rm,Rm<<=1,!(Rm&130023424)&&(Rm=4194304)):e=1);var t=tr();n=Go(n,e),n!==null&&(Kh(n,e,t),gr(n,t))}function MF(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),x9(n,t)}function CF(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ne(314))}i!==null&&i.delete(e),x9(n,t)}var _9;_9=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return dr=!1,fF(n,e,t);dr=!!(n.flags&131072)}else dr=!1,Tn&&e.flags&1048576&&C6(e,zg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;cg(n,e),n=e.pendingProps;var r=qu(e,ji.current);Gu(e,t),r=VA(null,e,i,n,r,t);var s=WA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(i)?(s=!0,Ug(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kA(e),r.updater=I1,e.stateNode=r,r._reactInternals=e,__(e,i,n,t),e=M_(null,e,i,!0,s,t)):(e.tag=0,Tn&&s&&IA(e),qi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(cg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=EF(i),n=xs(i,n),r){case 0:e=S_(null,e,i,n,t);break e;case 1:e=Nw(null,e,i,n,t);break e;case 11:e=Lw(null,e,i,n,t);break e;case 14:e=Dw(null,e,i,xs(i.type,n),t);break e}throw Error(Ne(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xs(i,r),S_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xs(i,r),Nw(n,e,i,r,t);case 3:e:{if(i9(e),n===null)throw Error(Ne(387));i=e.pendingProps,s=e.memoizedState,r=s.element,P6(n,e),Wg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=nf(Error(Ne(423)),e),e=Fw(n,e,i,t,r);break e}else if(i!==r){r=nf(Error(Ne(424)),e),e=Fw(n,e,i,t,r);break e}else for(Er=Da(e.stateNode.containerInfo.firstChild),br=e,Tn=!0,Ss=null,t=b6(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($u(),i===r){e=Vo(n,e,t);break e}qi(n,e,i,t)}e=e.child}return e;case 5:return I6(e),n===null&&v_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,d_(i,r)?o=null:s!==null&&d_(i,s)&&(e.flags|=32),n9(n,e),qi(n,e,o,t),e.child;case 6:return n===null&&v_(e),null;case 13:return r9(n,e,t);case 4:return UA(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ef(e,null,i,t):qi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xs(i,r),Lw(n,e,i,r,t);case 7:return qi(n,e,e.pendingProps,t),e.child;case 8:return qi(n,e,e.pendingProps.children,t),e.child;case 12:return qi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,mn(Gg,i._currentValue),i._currentValue=o,s!==null)if(Rs(s.value,o)){if(s.children===r.children&&!pr.current){e=Vo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=No(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),y_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),y_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Gu(e,t),r=ls(r),i=i(r),e.flags|=1,qi(n,e,i,t),e.child;case 14:return i=e.type,r=xs(i,e.pendingProps),r=xs(i.type,r),Dw(n,e,i,r,t);case 15:return e9(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xs(i,r),cg(n,e),e.tag=1,mr(i)?(n=!0,Ug(e)):n=!1,Gu(e,t),Q6(e,i,r),__(e,i,r,t),M_(null,e,i,!0,n,t);case 19:return s9(n,e,t);case 22:return t9(n,e,t)}throw Error(Ne(156,e.tag))};function A9(n,e){return K8(n,e)}function wF(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(n,e,t,i){return new wF(n,e,t,i)}function eS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function EF(n){if(typeof n=="function")return eS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xA)return 11;if(n===_A)return 14}return 2}function ka(n,e){var t=n.alternate;return t===null?(t=is(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function dg(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")eS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case yu:return $l(t.children,r,s,e);case yA:o=8,r|=8;break;case Wx:return n=is(12,t,e,r|2),n.elementType=Wx,n.lanes=s,n;case jx:return n=is(13,t,e,r),n.elementType=jx,n.lanes=s,n;case Xx:return n=is(19,t,e,r),n.elementType=Xx,n.lanes=s,n;case I8:return D1(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R8:o=10;break e;case P8:o=9;break e;case xA:o=11;break e;case _A:o=14;break e;case ya:o=16,i=null;break e}throw Error(Ne(130,n==null?n:typeof n,""))}return e=is(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function $l(n,e,t,i){return n=is(7,n,i,e),n.lanes=t,n}function D1(n,e,t,i){return n=is(22,n,i,e),n.elementType=I8,n.lanes=t,n.stateNode={isHidden:!1},n}function f2(n,e,t){return n=is(6,n,null,e),n.lanes=t,n}function d2(n,e,t){return e=is(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function TF(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xy(0),this.expirationTimes=Xy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function tS(n,e,t,i,r,s,o,a,l){return n=new TF(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=is(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kA(s),n}function bF(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function S9(n){if(!n)return Va;n=n._reactInternals;e:{if(vc(n)!==n||n.tag!==1)throw Error(Ne(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(n.tag===1){var t=n.type;if(mr(t))return S6(n,t,e)}return e}function M9(n,e,t,i,r,s,o,a,l){return n=tS(t,i,!0,n,r,s,o,a,l),n.context=S9(null),t=n.current,i=tr(),r=Oa(t),s=No(i,r),s.callback=e??null,Na(t,s,r),n.current.lanes=r,Kh(n,r,i),gr(n,i),n}function N1(n,e,t,i){var r=e.current,s=tr(),o=Oa(r);return t=S9(t),e.context===null?e.context=t:e.pendingContext=t,e=No(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Na(r,e,o),n!==null&&(bs(n,r,o,s),og(n,r,o)),o}function qg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Xw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function nS(n,e){Xw(n,e),(n=n.alternate)&&Xw(n,e)}function RF(){return null}var C9=typeof reportError=="function"?reportError:function(n){console.error(n)};function iS(n){this._internalRoot=n}F1.prototype.render=iS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ne(409));N1(n,e,null,null)};F1.prototype.unmount=iS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;fc(function(){N1(null,n,null,null)}),e[zo]=null}};function F1(n){this._internalRoot=n}F1.prototype.unstable_scheduleHydration=function(n){if(n){var e=t6();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Sa.length&&e!==0&&e<Sa[t].priority;t++);Sa.splice(t,0,n),t===0&&i6(n)}};function rS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function O1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function PF(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=qg(o);s.call(c)}}var o=M9(e,i,n,0,null,!1,!1,"",Jw);return n._reactRootContainer=o,n[zo]=o.current,dh(n.nodeType===8?n.parentNode:n),fc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=qg(l);a.call(c)}}var l=tS(n,0,!1,null,null,!1,!1,"",Jw);return n._reactRootContainer=l,n[zo]=l.current,dh(n.nodeType===8?n.parentNode:n),fc(function(){N1(e,l,t,i)}),l}function k1(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=qg(o);a.call(l)}}N1(e,o,n,r)}else o=PF(t,e,n,r,i);return qg(o)}$8=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Pd(e.pendingLanes);t!==0&&(MA(e,t|1),gr(e,Yn()),!(Kt&6)&&(rf=Yn()+500,tl()))}break;case 13:fc(function(){var i=Go(n,1);if(i!==null){var r=tr();bs(i,n,1,r)}}),nS(n,1)}};CA=function(n){if(n.tag===13){var e=Go(n,134217728);if(e!==null){var t=tr();bs(e,n,134217728,t)}nS(n,134217728)}};e6=function(n){if(n.tag===13){var e=Oa(n),t=Go(n,e);if(t!==null){var i=tr();bs(t,n,e,i)}nS(n,e)}};t6=function(){return fn};n6=function(n,e){var t=fn;try{return fn=n,e()}finally{fn=t}};n_=function(n,e,t){switch(e){case"input":if(Yx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=b1(i);if(!r)throw Error(Ne(90));L8(i),Yx(i,r)}}}break;case"textarea":N8(n,t);break;case"select":e=t.value,e!=null&&ku(n,!!t.multiple,e,!1)}};G8=QA;V8=fc;var IF={usingClientEntryPoint:!1,Events:[Zh,Su,b1,H8,z8,QA]},od={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BF={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=X8(n),n===null?null:n.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||RF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{C1=Hm.inject(BF),Ys=Hm}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IF;Lr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rS(e))throw Error(Ne(200));return bF(n,e,null,t)};Lr.createRoot=function(n,e){if(!rS(n))throw Error(Ne(299));var t=!1,i="",r=C9;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=tS(n,1,!1,null,null,t,!1,i,r),n[zo]=e.current,dh(n.nodeType===8?n.parentNode:n),new iS(e)};Lr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ne(188)):(n=Object.keys(n).join(","),Error(Ne(268,n)));return n=X8(e),n=n===null?null:n.stateNode,n};Lr.flushSync=function(n){return fc(n)};Lr.hydrate=function(n,e,t){if(!O1(e))throw Error(Ne(200));return k1(null,n,e,!0,t)};Lr.hydrateRoot=function(n,e,t){if(!rS(n))throw Error(Ne(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=C9;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=M9(e,null,n,1,t??null,r,!1,s,o),n[zo]=e.current,dh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new F1(e)};Lr.render=function(n,e,t){if(!O1(e))throw Error(Ne(200));return k1(null,n,e,!1,t)};Lr.unmountComponentAtNode=function(n){if(!O1(n))throw Error(Ne(40));return n._reactRootContainer?(fc(function(){k1(null,null,n,!1,function(){n._reactRootContainer=null,n[zo]=null})}),!0):!1};Lr.unstable_batchedUpdates=QA;Lr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!O1(t))throw Error(Ne(200));if(n==null||n._reactInternals===void 0)throw Error(Ne(38));return k1(n,e,t,!1,i)};Lr.version="18.3.1-next-f1338f8080-20240426";function w9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w9)}catch(n){console.error(n)}}w9(),w8.exports=Lr;var E9=w8.exports,Kw=E9;Gx.createRoot=Kw.createRoot,Gx.hydrateRoot=Kw.hydrateRoot;const LF=()=>{const[n,e]=O.useState(!1);return setTimeout(()=>{e(!0)},2800),z.jsx("div",{className:`${n?"invisible scale-150 opacity-0":"visible scale-100 opacity-100"} fixed w-screen h-screen bg-backgroundDark z-50 flex justify-center items-center transition-all duration-300 ease-linear`,children:z.jsxs("div",{className:"size-[140px] md:size-[200px] relative flex justify-center items-center animate-pulse",children:[z.jsxs("svg",{viewBox:"0 0 52 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"preloader",className:"z-20",children:[z.jsx("g",{filter:"url(#filter0_d_254_166)",children:z.jsx("path",{d:"M28.336 28.856C28.336 40.952 23.5573 47 14 47H2.464V12.224H14.224C19.3387 12.224 22.96 13.6613 25.088 16.536C27.2533 19.3733 28.336 23.48 28.336 28.856ZM13.832 38.936C15.8107 38.936 17.08 38.2453 17.64 36.864C18.2373 35.4453 18.536 33.0933 18.536 29.808C18.536 26.4853 18.2187 24.1333 17.584 22.752C16.9867 21.3707 15.68 20.68 13.664 20.68H11.984V38.936H13.832ZM48.3486 47H39.1646L31.9406 30.816H31.4926V47H22.9806V12.224H32.4446L39.3326 28.912H39.7806V12.224H48.3486V47Z",fill:"white"})}),z.jsx("defs",{children:z.jsxs("filter",{id:"filter0_d_254_166",x:"2.46399",y:"12.224",width:"48.8846",height:"37.776",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[z.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),z.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),z.jsx("feOffset",{dx:"3",dy:"3"}),z.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),z.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.996078 0 0 0 0 0.192157 0 0 0 0 0.25098 0 0 0 1 0"}),z.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_166"}),z.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_166",result:"shape"})]})})]}),z.jsxs("div",{className:"absolute size-[250px] md:size-[350px] bg-white rounded-full p-[5px] z-10 animate-spin flex justify-center items-center",children:[z.jsx("div",{className:"w-[300px] md:w-[400px] h-[200px] md:h-[300px] rounded-full bg-backgroundDark absolute"}),z.jsx("div",{className:"size-[242px] md:size-[343px] rounded-full bg-backgroundDark absolute"})]})]})})},Yw=n=>O.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M15 30C23.2842 30 30 23.2842 30 15C30 14.306 28.9597 14.1912 28.6008 14.7852C26.8933 17.6109 23.7922 19.5 20.25 19.5C14.8652 19.5 10.5 15.1348 10.5 9.75C10.5 6.20767 12.3891 3.10658 15.2148 1.39914C15.8088 1.04021 15.694 0 15 0C6.71572 0 0 6.71572 0 15C0 23.2842 6.71572 30 15 30Z"})),Zw=n=>O.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M25.5 18C25.5 22.1421 22.1421 25.5 18 25.5C13.8579 25.5 10.5 22.1421 10.5 18C10.5 13.8579 13.8579 10.5 18 10.5C22.1421 10.5 25.5 13.8579 25.5 18Z"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 1.875C18.6213 1.875 19.125 2.37868 19.125 3V6C19.125 6.62132 18.6213 7.125 18 7.125C17.3787 7.125 16.875 6.62132 16.875 6V3C16.875 2.37868 17.3787 1.875 18 1.875ZM5.50297 5.57413C5.92222 5.11558 6.63382 5.08372 7.09237 5.50297L10.4254 8.55036C10.8839 8.96961 10.9158 9.68119 10.4966 10.1397C10.0773 10.5983 9.3657 10.6302 8.90715 10.2109L5.57413 7.16354C5.11558 6.74429 5.08372 6.03268 5.50297 5.57413ZM30.4971 5.57413C30.9163 6.03268 30.8844 6.74429 30.4258 7.16354L27.0928 10.2109C26.6343 10.6302 25.9227 10.5983 25.5035 10.1397C25.0842 9.68119 25.116 8.96961 25.5746 8.55036L28.9077 5.50297C29.3662 5.08372 30.0777 5.11558 30.4971 5.57413ZM1.875 18C1.875 17.3787 2.37868 16.875 3 16.875H6C6.62132 16.875 7.125 17.3787 7.125 18C7.125 18.6213 6.62132 19.125 6 19.125H3C2.37868 19.125 1.875 18.6213 1.875 18ZM28.875 18C28.875 17.3787 29.3787 16.875 30 16.875H33C33.6213 16.875 34.125 17.3787 34.125 18C34.125 18.6213 33.6213 19.125 33 19.125H30C29.3787 19.125 28.875 18.6213 28.875 18ZM25.5382 25.5378C25.9776 25.0984 26.69 25.0984 27.1293 25.5378L30.4623 28.8713C30.9017 29.3106 30.9015 30.023 30.4622 30.4623C30.0228 30.9017 29.3104 30.9015 28.8713 30.4622L25.5382 27.1287C25.0989 26.6894 25.0989 25.9771 25.5382 25.5378ZM10.462 25.5379C10.9013 25.9773 10.9013 26.6897 10.462 27.129L7.12866 30.4623C6.68932 30.9017 5.97702 30.9017 5.53767 30.4623C5.09834 30.023 5.09834 29.3106 5.53767 28.8714L8.87102 25.5379C9.31035 25.0986 10.0227 25.0986 10.462 25.5379ZM18 28.875C18.6213 28.875 19.125 29.3787 19.125 30V33C19.125 33.6213 18.6213 34.125 18 34.125C17.3787 34.125 16.875 33.6213 16.875 33V30C16.875 29.3787 17.3787 28.875 18 28.875Z"}));var zn={},sS={},qh={},$h={},T9="Expected a function",Qw=NaN,DF="[object Symbol]",NF=/^\s+|\s+$/g,FF=/^[-+]0x[0-9a-f]+$/i,OF=/^0b[01]+$/i,kF=/^0o[0-7]+$/i,UF=parseInt,HF=typeof Mm=="object"&&Mm&&Mm.Object===Object&&Mm,zF=typeof self=="object"&&self&&self.Object===Object&&self,GF=HF||zF||Function("return this")(),VF=Object.prototype,WF=VF.toString,jF=Math.max,XF=Math.min,h2=function(){return GF.Date.now()};function JF(n,e,t){var i,r,s,o,a,l,c=0,f=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(T9);e=qw(e)||0,$g(t)&&(f=!!t.leading,h="maxWait"in t,s=h?jF(qw(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(E){var I=i,B=r;return i=r=void 0,c=E,o=n.apply(B,I),o}function v(E){return c=E,a=setTimeout(g,e),f?m(E):o}function _(E){var I=E-l,B=E-c,R=e-I;return h?XF(R,s-B):R}function x(E){var I=E-l,B=E-c;return l===void 0||I>=e||I<0||h&&B>=s}function g(){var E=h2();if(x(E))return A(E);a=setTimeout(g,_(E))}function A(E){return a=void 0,p&&i?m(E):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function C(){return a===void 0?o:A(h2())}function P(){var E=h2(),I=x(E);if(i=arguments,r=this,l=E,I){if(a===void 0)return v(l);if(h)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return P.cancel=S,P.flush=C,P}function KF(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(T9);return $g(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),JF(n,e,{leading:i,maxWait:e,trailing:r})}function $g(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function YF(n){return!!n&&typeof n=="object"}function ZF(n){return typeof n=="symbol"||YF(n)&&WF.call(n)==DF}function qw(n){if(typeof n=="number")return n;if(ZF(n))return Qw;if($g(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=$g(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(NF,"");var t=OF.test(n);return t||kF.test(n)?UF(n.slice(2),t?2:8):FF.test(n)?Qw:+n}var QF=KF,ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.addPassiveEventListener=function(e,t,i){var r=i.name;r||(r=t,console.warn("Listener must be a named function.")),hg.has(t)||hg.set(t,new Set);var s=hg.get(t);if(!s.has(r)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(t,i,o?{passive:!0}:!1),s.add(r)}};ep.removePassiveEventListener=function(e,t,i){e.removeEventListener(t,i),hg.get(t).delete(i.name||t)};var hg=new Map;Object.defineProperty($h,"__esModule",{value:!0});var qF=QF,$F=tO(qF),eO=ep;function tO(n){return n&&n.__esModule?n:{default:n}}var nO=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,$F.default)(e,t)},Pn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var i=nO(function(r){Pn.scrollHandler(e)},t);Pn.scrollSpyContainers.push(e),(0,eO.addPassiveEventListener)(e,"scroll",i)}},isMounted:function(e){return Pn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var t=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var t=Pn.scrollSpyContainers[Pn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];t.forEach(function(i){return i(Pn.currentPositionX(e),Pn.currentPositionY(e))})},addStateHandler:function(e){Pn.spySetState.push(e)},addSpyHandler:function(e,t){var i=Pn.scrollSpyContainers[Pn.scrollSpyContainers.indexOf(t)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(e),e(Pn.currentPositionX(t),Pn.currentPositionY(t))},updateStates:function(){Pn.spySetState.forEach(function(e){return e()})},unmount:function(e,t){Pn.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(t)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(t),1)}),Pn.spySetState&&Pn.spySetState.length&&Pn.spySetState.indexOf(e)>-1&&Pn.spySetState.splice(Pn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Pn.scrollHandler)},update:function(){return Pn.scrollSpyContainers.forEach(function(e){return Pn.scrollHandler(e)})}};$h.default=Pn;var Cf={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});var iO=function(e,t){var i=e.indexOf("#")===0?e.substring(1):e,r=i?"#"+i:"",s=window&&window.location,o=r?s.pathname+s.search+r:s.pathname+s.search;t?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},rO=function(){return window.location.hash.replace(/^#/,"")},sO=function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&16)}},oO=function(e){return getComputedStyle(e).position!=="static"},p2=function(e,t){for(var i=e.offsetTop,r=e.offsetParent;r&&!t(r);)i+=r.offsetTop,r=r.offsetParent;return{offsetTop:i,offsetParent:r}},aO=function(e,t,i){if(i)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(oO(e)){if(t.offsetParent!==e){var r=function(f){return f===e||f===document},s=p2(t,r),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var l=function(f){return f===document};return p2(t,l).offsetTop-p2(e,l).offsetTop};tp.default={updateHash:iO,getHash:rO,filterElementInContainer:sO,scrollOffset:aO};var U1={},oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var aS={};Object.defineProperty(aS,"__esModule",{value:!0});var lO=ep,cO=["mousedown","mousewheel","touchmove","keydown"];aS.default={subscribe:function(e){return typeof document<"u"&&cO.forEach(function(t){return(0,lO.addPassiveEventListener)(document,t,e)})}};var np={};Object.defineProperty(np,"__esModule",{value:!0});var N_={registered:{},scrollEvent:{register:function(e,t){N_.registered[e]=t},remove:function(e){N_.registered[e]=null}}};np.default=N_;Object.defineProperty(U1,"__esModule",{value:!0});var uO=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fO=tp;H1(fO);var dO=oS,$w=H1(dO),hO=aS,pO=H1(hO),mO=np,Ws=H1(mO);function H1(n){return n&&n.__esModule?n:{default:n}}var b9=function(e){return $w.default[e.smooth]||$w.default.defaultEasing},gO=function(e){return typeof e=="function"?e:function(){return e}},vO=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},F_=function(){return vO()||function(n,e,t){window.setTimeout(n,t||1e3/60,new Date().getTime())}}(),R9=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},P9=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},I9=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},yO=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var i=document.body,r=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},xO=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var i=document.body,r=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},_O=function n(e,t,i){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){Ws.default.registered.end&&Ws.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:e(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var s=n.bind(null,e,t);F_.call(window,s);return}Ws.default.registered.end&&Ws.default.registered.end(r.to,r.target,r.currentPosition)},lS=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},ip=function(e,t,i,r){t.data=t.data||R9(),window.clearTimeout(t.data.delayTimeout);var s=function(){t.data.cancel=!0};if(pO.default.subscribe(s),lS(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?P9(t):I9(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){Ws.default.registered.end&&Ws.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=gO(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=i,t.data.target=r;var o=b9(t),a=_O.bind(null,o,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){Ws.default.registered.begin&&Ws.default.registered.begin(t.data.to,t.data.target),F_.call(window,a)},t.delay);return}Ws.default.registered.begin&&Ws.default.registered.begin(t.data.to,t.data.target),F_.call(window,a)},z1=function(e){return e=uO({},e),e.data=e.data||R9(),e.absolute=!0,e},AO=function(e){ip(0,z1(e))},SO=function(e,t){ip(e,z1(t))},MO=function(e){e=z1(e),lS(e),ip(e.horizontal?yO(e):xO(e),e)},CO=function(e,t){t=z1(t),lS(t);var i=t.horizontal?P9(t):I9(t);ip(e+i,t)};U1.default={animateTopScroll:ip,getAnimationType:b9,scrollToTop:AO,scrollToBottom:MO,scrollTo:SO,scrollMore:CO};Object.defineProperty(Cf,"__esModule",{value:!0});var wO=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EO=tp,TO=cS(EO),bO=U1,RO=cS(bO),PO=np,zm=cS(PO);function cS(n){return n&&n.__esModule?n:{default:n}}var Gm={},eE=void 0;Cf.default={unmount:function(){Gm={}},register:function(e,t){Gm[e]=t},unregister:function(e){delete Gm[e]},get:function(e){return Gm[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return eE=e},getActiveLink:function(){return eE},scrollTo:function(e,t){var i=this.get(e);if(!i){console.warn("target Element not found");return}t=wO({},t,{absolute:!1});var r=t.containerId,s=t.container,o=void 0;r?o=document.getElementById(r):s&&s.nodeType?o=s:o=document,t.absolute=!0;var a=t.horizontal,l=TO.default.scrollOffset(o,i,a)+(t.offset||0);if(!t.smooth){zm.default.registered.begin&&zm.default.registered.begin(e,i),o===document?t.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,zm.default.registered.end&&zm.default.registered.end(e,i);return}RO.default.animateTopScroll(l,t,e,i)}};var B9={exports:{}},IO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BO=IO,LO=BO;function L9(){}function D9(){}D9.resetWarningCache=L9;var DO=function(){function n(i,r,s,o,a,l){if(l!==LO){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:D9,resetWarningCache:L9};return t.PropTypes=t,t};B9.exports=DO();var G1=B9.exports,V1={};Object.defineProperty(V1,"__esModule",{value:!0});var NO=tp,m2=FO(NO);function FO(n){return n&&n.__esModule?n:{default:n}}var OO={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var i=this.scroller,r=i.get(e);if(r&&(t||e!==i.getActiveLink())){var s=this.containers[e]||document;i.scrollTo(e,{container:s})}},getHash:function(){return m2.default.getHash()},changeHash:function(e,t){this.isInitialized()&&m2.default.getHash()!==e&&m2.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};V1.default=OO;Object.defineProperty(qh,"__esModule",{value:!0});var Vm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kO=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),UO=O,tE=rp(UO),HO=$h,Wm=rp(HO),zO=Cf,GO=rp(zO),VO=G1,wn=rp(VO),WO=V1,ra=rp(WO);function rp(n){return n&&n.__esModule?n:{default:n}}function jO(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function JO(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var nE={to:wn.default.string.isRequired,containerId:wn.default.string,container:wn.default.object,activeClass:wn.default.string,activeStyle:wn.default.object,spy:wn.default.bool,horizontal:wn.default.bool,smooth:wn.default.oneOfType([wn.default.bool,wn.default.string]),offset:wn.default.number,delay:wn.default.number,isDynamic:wn.default.bool,onClick:wn.default.func,duration:wn.default.oneOfType([wn.default.number,wn.default.func]),absolute:wn.default.bool,onSetActive:wn.default.func,onSetInactive:wn.default.func,ignoreCancelEvents:wn.default.bool,hashSpy:wn.default.bool,saveHashHistory:wn.default.bool,spyThrottle:wn.default.number};qh.default=function(n,e){var t=e||GO.default,i=function(s){JO(o,s);function o(a){jO(this,o);var l=XO(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return r.call(l),l.state={active:!1},l}return kO(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,c=this.props.container;return l&&!c?document.getElementById(l):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();Wm.default.isMounted(l)||Wm.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(ra.default.isMounted()||ra.default.mount(t),ra.default.mapContainer(this.props.to,l)),Wm.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Wm.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var c={};this.state&&this.state.active?c=Vm({},this.props.style,this.props.activeStyle):c=Vm({},this.props.style);var f=Vm({},this.props);for(var h in nE)f.hasOwnProperty(h)&&delete f[h];return f.className=l,f.style=c,f.onClick=this.handleClick,tE.default.createElement(n,f)}}]),o}(tE.default.PureComponent),r=function(){var o=this;this.scrollTo=function(a,l){t.scrollTo(a,Vm({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var c=o.getScrollSpyContainer();if(!(ra.default.isMounted()&&!ra.default.isInitialized())){var f=o.props.horizontal,h=o.props.to,p=null,m=void 0,v=void 0;if(f){var _=0,x=0,g=0;if(c.getBoundingClientRect){var A=c.getBoundingClientRect();g=A.left}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var S=p.getBoundingClientRect();_=S.left-g+a,x=_+S.width}var C=a-o.props.offset;m=C>=Math.floor(_)&&C<Math.floor(x),v=C<Math.floor(_)||C>=Math.floor(x)}else{var P=0,E=0,I=0;if(c.getBoundingClientRect){var B=c.getBoundingClientRect();I=B.top}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var R=p.getBoundingClientRect();P=R.top-I+l,E=P+R.height}var b=l-o.props.offset;m=b>=Math.floor(P)&&b<Math.floor(E),v=b<Math.floor(P)||b>=Math.floor(E)}var k=t.getActiveLink();if(v){if(h===k&&t.setActiveLink(void 0),o.props.hashSpy&&ra.default.getHash()===h){var Y=o.props.saveHashHistory,G=Y===void 0?!1:Y;ra.default.changeHash("",G)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(m&&(k!==h||o.state.active===!1)){t.setActiveLink(h);var q=o.props.saveHashHistory,$=q===void 0?!1:q;o.props.hashSpy&&ra.default.changeHash(h,$),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return i.propTypes=nE,i.defaultProps={offset:0},i};Object.defineProperty(sS,"__esModule",{value:!0});var KO=O,iE=N9(KO),YO=qh,ZO=N9(YO);function N9(n){return n&&n.__esModule?n:{default:n}}function QO(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function qO(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var $O=function(n){qO(e,n);function e(){var t,i,r,s;QO(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(i=(r=rE(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r),r.render=function(){return iE.default.createElement("a",r.props,r.props.children)},i),rE(r,s)}return e}(iE.default.Component);sS.default=(0,ZO.default)($O);var uS={};Object.defineProperty(uS,"__esModule",{value:!0});var ek=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),tk=O,sE=F9(tk),nk=qh,ik=F9(nk);function F9(n){return n&&n.__esModule?n:{default:n}}function rk(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function ok(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ak=function(n){ok(e,n);function e(){return rk(this,e),sk(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ek(e,[{key:"render",value:function(){return sE.default.createElement("button",this.props,this.props.children)}}]),e}(sE.default.Component);uS.default=(0,ik.default)(ak);var fS={},W1={};Object.defineProperty(W1,"__esModule",{value:!0});var lk=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ck=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),uk=O,oE=j1(uk),fk=E9;j1(fk);var dk=Cf,aE=j1(dk),hk=G1,lE=j1(hk);function j1(n){return n&&n.__esModule?n:{default:n}}function pk(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function gk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}W1.default=function(n){var e=function(t){gk(i,t);function i(r){pk(this,i);var s=mk(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return s.childBindings={domNode:null},s}return ck(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;aE.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){aE.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return oE.default.createElement(n,lk({},this.props,{parentBindings:this.childBindings}))}}]),i}(oE.default.Component);return e.propTypes={name:lE.default.string,id:lE.default.string},e};Object.defineProperty(fS,"__esModule",{value:!0});var cE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vk=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),yk=O,uE=dS(yk),xk=W1,_k=dS(xk),Ak=G1,fE=dS(Ak);function dS(n){return n&&n.__esModule?n:{default:n}}function Sk(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Ck(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var O9=function(n){Ck(e,n);function e(){return Sk(this,e),Mk(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return vk(e,[{key:"render",value:function(){var i=this,r=cE({},this.props);return delete r.name,r.parentBindings&&delete r.parentBindings,uE.default.createElement("div",cE({},r,{ref:function(o){i.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(uE.default.Component);O9.propTypes={name:fE.default.string,id:fE.default.string};fS.default=(0,_k.default)(O9);var g2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dE=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function hE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pE(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function mE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var jm=O,gl=$h,v2=Cf,In=G1,sa=V1,gE={to:In.string.isRequired,containerId:In.string,container:In.object,activeClass:In.string,spy:In.bool,smooth:In.oneOfType([In.bool,In.string]),offset:In.number,delay:In.number,isDynamic:In.bool,onClick:In.func,duration:In.oneOfType([In.number,In.func]),absolute:In.bool,onSetActive:In.func,onSetInactive:In.func,ignoreCancelEvents:In.bool,hashSpy:In.bool,spyThrottle:In.number},wk={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=t||v2,r=function(o){mE(a,o);function a(l){hE(this,a);var c=pE(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(c),c.state={active:!1},c}return dE(a,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,f=this.props.container;return c?document.getElementById(c):f&&f.nodeType?f:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();gl.isMounted(c)||gl.mount(c,this.props.spyThrottle),this.props.hashSpy&&(sa.isMounted()||sa.mount(i),sa.mapContainer(this.props.to,c)),this.props.spy&&gl.addStateHandler(this.stateHandler),gl.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){gl.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var f=g2({},this.props);for(var h in gE)f.hasOwnProperty(h)&&delete f[h];return f.className=c,f.onClick=this.handleClick,jm.createElement(e,f)}}]),a}(jm.Component),s=function(){var a=this;this.scrollTo=function(l,c){i.scrollTo(l,g2({},a.state,c))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){i.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var c=a.getScrollSpyContainer();if(!(sa.isMounted()&&!sa.isInitialized())){var f=a.props.to,h=null,p=0,m=0,v=0;if(c.getBoundingClientRect){var _=c.getBoundingClientRect();v=_.top}if(!h||a.props.isDynamic){if(h=i.get(f),!h)return;var x=h.getBoundingClientRect();p=x.top-v+l,m=p+x.height}var g=l-a.props.offset,A=g>=Math.floor(p)&&g<Math.floor(m),S=g<Math.floor(p)||g>=Math.floor(m),C=i.getActiveLink();if(S)return f===C&&i.setActiveLink(void 0),a.props.hashSpy&&sa.getHash()===f&&sa.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),gl.updateStates();if(A&&C!==f)return i.setActiveLink(f),a.props.hashSpy&&sa.changeHash(f),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(f)),gl.updateStates()}}};return r.propTypes=gE,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(i){mE(r,i);function r(s){hE(this,r);var o=pE(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return dE(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;v2.unregister(this.props.name)}},{key:"registerElems",value:function(o){v2.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return jm.createElement(e,g2({},this.props,{parentBindings:this.childBindings}))}}]),r}(jm.Component);return t.propTypes={name:In.string,id:In.string},t}},Ek=wk;Object.defineProperty(zn,"__esModule",{value:!0});zn.Helpers=zn.ScrollElement=zn.ScrollLink=zn.animateScroll=zn.scrollSpy=zn.Events=zn.scroller=zn.Element=zn.Button=O_=zn.Link=void 0;var Tk=sS,k9=so(Tk),bk=uS,U9=so(bk),Rk=fS,H9=so(Rk),Pk=Cf,z9=so(Pk),Ik=np,G9=so(Ik),Bk=$h,V9=so(Bk),Lk=U1,W9=so(Lk),Dk=qh,j9=so(Dk),Nk=W1,X9=so(Nk),Fk=Ek,J9=so(Fk);function so(n){return n&&n.__esModule?n:{default:n}}var O_=zn.Link=k9.default;zn.Button=U9.default;zn.Element=H9.default;zn.scroller=z9.default;zn.Events=G9.default;zn.scrollSpy=V9.default;zn.animateScroll=W9.default;zn.ScrollLink=j9.default;zn.ScrollElement=X9.default;zn.Helpers=J9.default;zn.default={Link:k9.default,Button:U9.default,Element:H9.default,scroller:z9.default,Events:G9.default,scrollSpy:V9.default,animateScroll:W9.default,ScrollLink:j9.default,ScrollElement:X9.default,Helpers:J9.default};const Ok=()=>{const[n,e]=O.useState("dark"),[t,i]=O.useState(!1);O.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const r=()=>{e(n==="light"?"dark":"light")},s=({name:o,text:a,className:l})=>z.jsxs("li",{className:`mb-2 sm:mb-0 font-Syne flex flex-col group relative w-[87px] text-center ${l}`,children:[z.jsx(O_,{to:o,spy:!0,smooth:!0,offset:-50,duration:500,className:"cursor-pointer font-Syne hover:font-bold text-[17px]",children:a}),z.jsx("span",{className:"absolute -bottom-0 left-0 w-0 h-[3px] rounded-full bg-myRed transition-all duration-500 group-hover:w-full"})]});return z.jsxs("div",{className:"flex w-screen h-[73px] md:h-[143px] justify-between items-center px-[40px] lg:gap-0 lg:px-[100px] dark:text-white dark:bg-backgroundDark bg-backgroundLight text-backgroundDark fixed z-40",children:[z.jsx("div",{className:"hover:rotate-[7deg] hover:scale-110 transition-all duration-300 ease-in-out",children:z.jsx(O_,{to:"intro",className:"font-passionOne text-[40px] -tracking-[5px] drop-shadow-logo cursor-pointer",spy:!0,smooth:!0,offset:-50,duration:500,children:"DN"})}),z.jsx("button",{className:"flex md:hidden flex-col justify-around gap-y-[5px] text-backgroundDark dark:text-white text-3xl mr-4 z-50",type:"button",id:"iconeMenu",onClick:()=>{i(!t)},children:z.jsxs("div",{className:`flex flex-col items-center justify-center relative h-[22px] ${t?"":"md:hidden"}`,children:[z.jsx("div",{className:`absolute w-[30px] h-[3px] ${t?"bg-white":"bg-backgroundDark"} dark:bg-white transition-all duration-500 ease-in-out translate-y-2 rounded-md ${t?"rotate-45 translate-x-1 translate-y-[1px]":""}`}),z.jsx("div",{className:`absolute w-[30px] h-[3px] ${t?"bg-white":"bg-backgroundDark"} dark:bg-white transition-all duration-500 ease-in-out rounded-md ${t?"hidden":""}`}),z.jsx("div",{className:`absolute w-[30px] h-[3px] ${t?"bg-white":"bg-backgroundDark"} dark:bg-white transition-all duration-500 ease-in-out -translate-y-2 rounded-md ${t?"-rotate-45 translate-x-1 translate-y-[1px]":""}`})]})}),z.jsx("div",{className:`absolute ${t?"w-[190px] sm:w-[300px]":"w-0"} md:hidden h-screen right-0 top-0 z-40 bg-black transition-all duration-500 ease-in-out`,children:z.jsxs("ul",{className:"flex flex-col w-full h-full gap-x-3 lg:gap-x-7 text-headerItems font-medium items-center justify-center gap-y-10 pb-32 pt-9",children:[z.jsx(s,{name:"intro",text:"Introdução",className:`${t?"flex":"hidden"}`}),z.jsx(s,{name:"about",text:"Sobre mim",className:`${t?"flex":"hidden"}`}),z.jsx(s,{name:"projects",text:"Projetos",className:`${t?"flex":"hidden"}`}),z.jsx(s,{name:"services",text:"Serviços",className:`${t?"flex":"hidden"}`}),z.jsx(s,{name:"skills",text:"Skills",className:`${t?"flex":"hidden"}`}),z.jsx(s,{name:"contact",text:"Contato",className:`${t?"flex":"hidden"}`}),z.jsx("div",{className:"relative",children:z.jsxs("button",{className:"size-7",onClick:r,children:[z.jsx(Yw,{className:`size-7 fill-backgroundLight ${n==="dark"?"visible top-0":"invisible -top-[20px]"} absolute transition-all duration-200 ease-linear hover:drop-shadow-white ${t?"flex":"hidden"}`}),z.jsx(Zw,{className:`size-7 fill-backgroundLight ${n==="light"?"visible top-0":"invisible top-[20px]"} absolute transition-all duration-100 ease-linear hover:drop-shadow-white ${t?"flex":"hidden"}`})]})})]})}),z.jsx("div",{className:"hidden md:block",children:z.jsxs("ul",{className:"flex w-full h-fit gap-x-3 lg:gap-x-7 text-backgroundDark dark:text-headerItems font-medium",children:[z.jsx(s,{name:"intro",text:"Introdução"}),z.jsx(s,{name:"about",text:"Sobre mim"}),z.jsx(s,{name:"projects",text:"Projetos"}),z.jsx(s,{name:"services",text:"Serviços"}),z.jsx(s,{name:"skills",text:"Skills"}),z.jsx(s,{name:"contact",text:"Contato"})]})}),z.jsx("div",{className:"relative hidden md:block",children:z.jsxs("button",{className:"size-7",onClick:r,children:[z.jsx(Yw,{className:`size-7 fill-backgroundLight ${n==="dark"?"visible top-0":"invisible -top-[20px]"} absolute transition-all duration-200 ease-linear hover:drop-shadow-white`}),z.jsx(Zw,{className:`size-7 fill-backgroundDark ${n==="light"?"visible top-0":"invisible top-[20px]"} absolute transition-all duration-100 ease-linear hover:drop-shadow-gray`})]})})]})};function Ru(n,e){return Math.floor(Math.random()*(e-n+1))+n}function kk(n){var e=0;return n.length===2?e=Ru(n[0],n[1]):e=n[Ru(0,n.length-1)],String.fromCharCode(e)}var K9=function(e){var t=e.playOnMount,i=t===void 0?!0:t,r=e.text,s=r===void 0?"":r,o=e.speed,a=o===void 0?1:o,l=e.seed,c=l===void 0?1:l,f=e.step,h=f===void 0?1:f,p=e.tick,m=p===void 0?1:p,v=e.scramble,_=v===void 0?1:v,x=e.chance,g=x===void 0?1:x,A=e.overflow,S=A===void 0?!0:A,C=e.range,P=C===void 0?[65,125]:C,E=e.overdrive,I=E===void 0?!0:E,B=e.onAnimationStart,R=e.onAnimationFrame,b=e.onAnimationEnd,k=e.ignore,Y=k===void 0?[" "]:k,G=typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;G&&(h=s.length,g=0,I=!1);var q=O.useRef(null),$=O.useRef(0),ie=O.useRef(0),pe=1e3/(60*a),F=O.useRef(0),K=O.useRef(0),V=O.useRef([]),ne=O.useRef(0),ue=function(ve,he){return Y.includes(""+ve)?ve:he},Be=function(){if(K.current!==s.length)for(var ve=0;ve<c;ve++){var he=Ru(K.current,V.current.length);typeof V.current[he]!="number"&&typeof V.current[he]<"u"&&(V.current[he]=ue(V.current[he],Ru(0,10)>=(1-g)*10?_||c:0))}},se=function(){for(var ve=0;ve<h;ve++)if(K.current<s.length){var he=K.current,De=Ru(0,10)>=(1-g)*10;V.current[he]=ue(s[K.current],De?_+Ru(0,Math.ceil(_/2)):0),K.current++}},we=function(){s.length<V.current.length&&(V.current.pop(),V.current.splice(s.length,h));for(var ve=0;ve<h;ve++)V.current.length<s.length&&V.current.push(ue(s[V.current.length+1],null))},Se=function(){if(I)for(var ve=0;ve<h;ve++){var he=Math.max(V.current.length,s.length);ne.current<he&&(V.current[ne.current]=ue(s[ne.current],String.fromCharCode(typeof I=="boolean"?95:I)),ne.current++)}},be=function(){se(),we(),Be()},ot=function me(ve){if(a){$.current=requestAnimationFrame(me),Se();var he=ve-ie.current;he>pe&&(ie.current=ve,F.current%m===0&&be(),_t())}},_t=function(){if(q.current){for(var ve="",he=0;he<V.current.length;he++){var De=V.current[he];switch(!0){case(typeof De=="number"&&De>0):ve+=kk(P),he<=K.current&&(V.current[he]=V.current[he]-1);break;case(typeof De=="string"&&(he>=s.length||he>=K.current)):ve+=De;break;case(De===s[he]&&he<K.current):ve+=s[he];break;case(De===0&&he<s.length):ve+=s[he],V.current[he]=s[he];break;default:ve+=""}}q.current.innerHTML=ve,R&&R(ve),ve===s&&(V.current.splice(s.length,V.current.length),b&&b(),cancelAnimationFrame($.current)),F.current++}},ae=function(){F.current=0,K.current=0,ne.current=0,S||(V.current=new Array(s==null?void 0:s.length))},ht=function(){cancelAnimationFrame($.current),ae(),B&&B(),$.current=requestAnimationFrame(ot)};return O.useEffect(function(){ae()},[s]),O.useEffect(function(){return cancelAnimationFrame($.current),$.current=requestAnimationFrame(ot),function(){cancelAnimationFrame($.current)}},[ot]),O.useEffect(function(){i||(V.current=s.split(""),F.current=s.length,K.current=s.length,ne.current=s.length,_t(),cancelAnimationFrame($.current))},[]),{ref:q,replay:ht}};const hS=n=>O.createElement("svg",{width:57,height:57,viewBox:"0 0 57 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.5158 0.983887C12.798 0.983887 0.0523682 13.7385 0.0523682 29.4729C0.0523682 42.06 8.20801 52.7389 19.5174 56.506C20.9399 56.7697 21.4622 55.888 21.4622 55.1355C21.4622 54.4562 21.4358 52.212 21.4235 49.8314C13.505 51.5548 11.8341 46.4701 11.8341 46.4701C10.5393 43.1772 8.6737 42.3016 8.6737 42.3016C6.09121 40.5334 8.86836 40.5697 8.86836 40.5697C11.7266 40.7707 13.2316 43.5055 13.2316 43.5055C15.7702 47.8609 19.8902 46.6017 21.5145 45.8738C21.77 44.0325 22.5076 42.7757 23.3216 42.0643C16.9995 41.3439 10.3536 38.9011 10.3536 27.9849C10.3536 24.8746 11.4655 22.3332 13.2863 20.3381C12.9907 19.6205 12.0165 16.7229 13.562 12.7988C13.562 12.7988 15.9522 12.0331 21.3915 15.719C23.6619 15.0878 26.0969 14.7712 28.5158 14.7604C30.9348 14.7712 33.3716 15.0878 35.6463 15.719C41.079 12.0331 43.4659 12.7988 43.4659 12.7988C45.0152 16.7229 44.0404 19.6205 43.7449 20.3381C45.5699 22.3332 46.6743 24.8746 46.6743 27.9849C46.6743 38.927 40.0156 41.3363 33.6775 42.0416C34.6984 42.9257 35.6081 44.6595 35.6081 47.3174C35.6081 51.1293 35.5751 54.1972 35.5751 55.1355C35.5751 55.8936 36.0875 56.782 37.5303 56.5022C48.8335 52.7309 56.9788 42.0558 56.9788 29.4729C56.9788 13.7385 44.2351 0.983887 28.5158 0.983887ZM10.7129 41.567C10.6502 41.7086 10.4277 41.751 10.225 41.6538C10.0186 41.5609 9.90262 41.368 9.96955 41.2259C10.0308 41.0802 10.2538 41.0396 10.4597 41.1373C10.6667 41.2302 10.7845 41.425 10.7129 41.567ZM12.1129 42.8174C11.9772 42.9434 11.7118 42.8849 11.5318 42.6858C11.3456 42.4872 11.3107 42.2216 11.4483 42.0937C11.5883 41.9678 11.8457 42.0268 12.0323 42.2254C12.2185 42.4263 12.2548 42.6901 12.1129 42.8174ZM13.0735 44.4173C12.8991 44.5385 12.6139 44.4248 12.4376 44.1715C12.2632 43.9181 12.2632 43.6143 12.4414 43.4926C12.6181 43.3709 12.8991 43.4803 13.0777 43.7318C13.2516 43.9894 13.2516 44.2932 13.0735 44.4173ZM14.6979 46.2701C14.5419 46.4423 14.2096 46.3961 13.9664 46.1611C13.7175 45.9314 13.6482 45.6054 13.8047 45.4332C13.9626 45.2605 14.2968 45.3091 14.5419 45.5422C14.7889 45.7715 14.8643 46.0998 14.6979 46.2701ZM16.7973 46.8956C16.7285 47.1188 16.4084 47.2202 16.086 47.1254C15.7641 47.0277 15.5534 46.7664 15.6185 46.5409C15.6854 46.3163 16.0069 46.2106 16.3316 46.312C16.6531 46.4092 16.8642 46.6687 16.7973 46.8956ZM19.1865 47.1609C19.1945 47.3959 18.9212 47.5907 18.5827 47.595C18.2424 47.6025 17.9672 47.4124 17.9634 47.1812C17.9634 46.9439 18.2306 46.751 18.571 46.7453C18.9094 46.7387 19.1865 46.9274 19.1865 47.1609ZM21.5337 47.0709C21.5742 47.3002 21.339 47.5356 21.0029 47.5983C20.6725 47.6587 20.3666 47.5172 20.3247 47.2898C20.2837 47.0548 20.5231 46.8194 20.8531 46.7586C21.1896 46.7001 21.4908 46.8378 21.5337 47.0709Z"})),Y9=n=>O.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("g",{clipPath:"url(#clip0_129_50)"},O.createElement("path",{d:"M33.3352 0H2.65781C1.18828 0 0 1.16016 0 2.59453V33.3984C0 34.8328 1.18828 36 2.65781 36H33.3352C34.8047 36 36 34.8328 36 33.4055V2.59453C36 1.16016 34.8047 0 33.3352 0ZM10.6805 30.6773H5.33672V13.493H10.6805V30.6773ZM8.00859 11.1516C6.29297 11.1516 4.90781 9.76641 4.90781 8.05781C4.90781 6.34922 6.29297 4.96406 8.00859 4.96406C9.71719 4.96406 11.1023 6.34922 11.1023 8.05781C11.1023 9.75937 9.71719 11.1516 8.00859 11.1516ZM30.6773 30.6773H25.3406V22.3242C25.3406 20.3344 25.3055 17.768 22.5633 17.768C19.7859 17.768 19.3641 19.9406 19.3641 22.1836V30.6773H14.0344V13.493H19.1531V15.8414H19.2234C19.9336 14.4914 21.6773 13.0641 24.2719 13.0641C29.6789 13.0641 30.6773 16.6219 30.6773 21.2484V30.6773Z"})),O.createElement("defs",null,O.createElement("clipPath",{id:"clip0_129_50"},O.createElement("rect",{width:36,height:36})))),Uk=n=>O.createElement("svg",{width:45,height:45,viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M9.375 16.875C9.375 9.62627 15.2513 3.75 22.5 3.75C29.7487 3.75 35.625 9.62627 35.625 16.875V28.125C35.625 35.3737 29.7487 41.25 22.5 41.25C15.2513 41.25 9.375 35.3737 9.375 28.125V16.875Z",strokeOpacity:.5,strokeWidth:1.5}),O.createElement("path",{d:"M22.5 9.375V15",strokeOpacity:.5,strokeWidth:1.5,strokeLinecap:"round"})),Z9=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),X1=O.createContext({}),pS=O.createContext(null),mS=typeof document<"u",Hk=mS?O.useLayoutEffect:O.useEffect,Q9=O.createContext({strict:!1}),gS=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zk="framerAppearId",q9="data-"+gS(zk),Gk={skipAnimations:!1,useManualTiming:!1};class vE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Vk(n){let e=new vE,t=new vE,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,f=!1)=>{const h=f&&r,p=h?e:t;return c&&o.add(l),p.add(l)&&h&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const f=e.order[c];o.has(f)&&(a.schedule(f),n()),f(l)}r=!1,s&&(s=!1,a.process(l))}};return a}const Xm=["read","resolveKeyframes","update","preRender","render","postRender"],Wk=40;function $9(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=Xm.reduce((h,p)=>(h[p]=Vk(()=>t=!0),h),{}),o=h=>{s[h].process(r)},a=()=>{const h=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(h-r.timestamp,Wk),1),r.timestamp=h,r.isProcessing=!0,Xm.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:Xm.reduce((h,p)=>{const m=s[p];return h[p]=(v,_=!1,x=!1)=>(t||l(),m.schedule(v,_,x)),h},{}),cancel:h=>Xm.forEach(p=>s[p].cancel(h)),state:r,steps:s}}const{schedule:vS,cancel:nie}=$9(queueMicrotask,!1);function jk(n,e,t,i){const{visualElement:r}=O.useContext(X1),s=O.useContext(Q9),o=O.useContext(pS),a=O.useContext(Z9).reducedMotion,l=O.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;O.useInsertionEffect(()=>{c&&c.update(t,o)});const f=O.useRef(!!(t[q9]&&!window.HandoffComplete));return Hk(()=>{c&&(vS.postRender(c.render),f.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(c.updateFeatures(),!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),c}function Pu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Xk(n,e,t){return O.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Pu(t)&&(t.current=i))},[e])}function Ah(n){return typeof n=="string"||Array.isArray(n)}function J1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const yS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...yS];function K1(n){return J1(n.animate)||xS.some(e=>Ah(n[e]))}function eR(n){return!!(K1(n)||n.variants)}function Jk(n,e){if(K1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ah(t)?t:void 0,animate:Ah(i)?i:void 0}}return n.inherit!==!1?e:{}}function Kk(n){const{initial:e,animate:t}=Jk(n,O.useContext(X1));return O.useMemo(()=>({initial:e,animate:t}),[yE(e),yE(t)])}function yE(n){return Array.isArray(n)?n.join(" "):n}const xE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sh={};for(const n in xE)Sh[n]={isEnabled:e=>xE[n].some(t=>!!e[t])};function Yk(n){for(const e in n)Sh[e]={...Sh[e],...n[e]}}const tR=O.createContext({}),nR=O.createContext({}),Zk=Symbol.for("motionComponentSymbol");function Qk({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&Yk(n);function s(a,l){let c;const f={...O.useContext(Z9),...a,layoutId:qk(a)},{isStatic:h}=f,p=Kk(a),m=i(a,h);if(!h&&mS){p.visualElement=jk(r,m,f,e);const v=O.useContext(nR),_=O.useContext(Q9).strict;p.visualElement&&(c=p.visualElement.loadFeatures(f,_,n,v))}return z.jsxs(X1.Provider,{value:p,children:[c&&p.visualElement?z.jsx(c,{visualElement:p.visualElement,...f}):null,t(r,a,Xk(m,p.visualElement,l),m,h,p.visualElement)]})}const o=O.forwardRef(s);return o[Zk]=r,o}function qk({layoutId:n}){const e=O.useContext(tR).id;return e&&n!==void 0?e+"-"+n:n}function $k(n){function e(i,r={}){return Qk(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const eU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _S(n){return typeof n!="string"||n.includes("-")?!1:!!(eU.indexOf(n)>-1||/[A-Z]/u.test(n))}const e1={};function tU(n){Object.assign(e1,n)}const sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(sp);function iR(n,{layout:e,layoutId:t}){return yc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!e1[n]||n==="opacity")}const Vi=n=>!!(n&&n.getVelocity),nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iU=sp.length;function rU(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<iU;o++){const a=sp[o];if(n[a]!==void 0){const l=nU[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const rR=n=>e=>typeof e=="string"&&e.startsWith(n),sR=rR("--"),sU=rR("var(--"),AS=n=>sU(n)?oU.test(n.split("/*")[0].trim()):!1,oU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aU=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Wa=(n,e,t)=>t>e?e:t<n?n:t,wf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jd={...wf,transform:n=>Wa(0,1,n)},Jm={...wf,default:1},Xd=n=>Math.round(n*1e5)/1e5,SS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,lU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,cU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function op(n){return typeof n=="string"}const ap=n=>({test:e=>op(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),va=ap("deg"),Qs=ap("%"),xt=ap("px"),uU=ap("vh"),fU=ap("vw"),_E={...Qs,parse:n=>Qs.parse(n)/100,transform:n=>Qs.transform(n*100)},AE={...wf,transform:Math.round},oR={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,size:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:Jm,scaleX:Jm,scaleY:Jm,scaleZ:Jm,skew:va,skewX:va,skewY:va,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:jd,originX:_E,originY:_E,originZ:xt,zIndex:AE,backgroundPositionX:xt,backgroundPositionY:xt,fillOpacity:jd,strokeOpacity:jd,numOctaves:AE};function MS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,f=!0;for(const h in e){const p=e[h];if(sR(h)){s[h]=p;continue}const m=oR[h],v=aU(p,m);if(yc.has(h)){if(l=!0,o[h]=v,!f)continue;p!==(m.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):r[h]=v}if(e.transform||(l||i?r.transform=rU(n.transform,t,f,i):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const CS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aR(n,e,t){for(const i in e)!Vi(e[i])&&!iR(i,t)&&(n[i]=e[i])}function dU({transformTemplate:n},e,t){return O.useMemo(()=>{const i=CS();return MS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function hU(n,e,t){const i=n.style||{},r={};return aR(r,i,n),Object.assign(r,dU(n,e,t)),r}function pU(n,e,t){const i={},r=hU(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const mU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mU.has(n)}let lR=n=>!t1(n);function gU(n){n&&(lR=e=>e.startsWith("on")?!t1(e):n(e))}try{gU(require("@emotion/is-prop-valid").default)}catch{}function vU(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(lR(r)||t===!0&&t1(r)||!e&&!t1(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function SE(n,e,t){return typeof n=="string"?n:xt.transform(e+t*n)}function yU(n,e,t){const i=SE(e,n.x,n.width),r=SE(t,n.y,n.height);return`${i} ${r}`}const xU={offset:"stroke-dashoffset",array:"stroke-dasharray"},_U={offset:"strokeDashoffset",array:"strokeDasharray"};function AU(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?xU:_U;n[s.offset]=xt.transform(-i);const o=xt.transform(e),a=xt.transform(t);n[s.array]=`${o} ${a}`}function wS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,h,p){if(MS(n,c,f,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:_}=n;m.transform&&(_&&(v.transform=m.transform),delete m.transform),_&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=yU(_,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&AU(m,o,a,l,!1)}const cR=()=>({...CS(),attrs:{}}),ES=n=>typeof n=="string"&&n.toLowerCase()==="svg";function SU(n,e,t,i){const r=O.useMemo(()=>{const s=cR();return wS(s,e,{enableHardwareAcceleration:!1},ES(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};aR(s,n.style,n),r.style={...s,...r.style}}return r}function MU(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(_S(t)?SU:pU)(i,s,o,t),c=vU(i,typeof t=="string",n),f=t!==O.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=O.useMemo(()=>Vi(h)?h.get():h,[h]);return O.createElement(t,{...f,children:p})}}function uR(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const fR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dR(n,e,t,i){uR(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(fR.has(r)?r:gS(r),e.attrs[r])}function TS(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(Vi(r[o])||e.style&&Vi(e.style[o])||iR(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function hR(n,e,t){const i=TS(n,e,t);for(const r in n)if(Vi(n[r])||Vi(e[r])){const s=sp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function bS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function CU(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const k_=n=>Array.isArray(n),wU=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),EU=n=>k_(n)?n[n.length-1]||0:n;function pg(n){const e=Vi(n)?n.get():n;return wU(e)?e.toValue():e}function TU({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:bU(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const pR=n=>(e,t)=>{const i=O.useContext(X1),r=O.useContext(pS),s=()=>TU(n,e,i,r);return t?s():CU(s)};function bU(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=pg(s[p]);let{initial:o,animate:a}=n;const l=K1(n),c=eR(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!J1(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=bS(n,m);if(!v)return;const{transitionEnd:_,transition:x,...g}=v;for(const A in g){let S=g[A];if(Array.isArray(S)){const C=f?S.length-1:0;S=S[C]}S!==null&&(r[A]=S)}for(const A in _)r[A]=_[A]}),r}const Wi=n=>n,{schedule:gn,cancel:ja,state:Ci,steps:y2}=$9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wi,!0),RU={useVisualState:pR({scrapeMotionValuesFromProps:hR,createRenderState:cR,onMount:(n,e,{renderState:t,latestValues:i})=>{gn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),gn.render(()=>{wS(t,i,{enableHardwareAcceleration:!1},ES(e.tagName),n.transformTemplate),dR(e,t)})}})},PU={useVisualState:pR({scrapeMotionValuesFromProps:TS,createRenderState:CS})};function IU(n,{forwardMotionProps:e=!1},t,i){return{..._S(n)?RU:PU,preloadedFeatures:t,useRender:MU(e),createVisualElement:i,Component:n}}function Bo(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const mR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Y1(n,e="page"){return{point:{x:n[`${e}X`],y:n[`${e}Y`]}}}const BU=n=>e=>mR(e)&&n(e,Y1(e));function Fo(n,e,t,i){return Bo(n,e,BU(t),i)}const LU=(n,e)=>t=>e(n(t)),Oo=(...n)=>n.reduce(LU);function gR(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const ME=gR("dragHorizontal"),CE=gR("dragVertical");function vR(n){let e=!1;if(n==="y")e=CE();else if(n==="x")e=ME();else{const t=ME(),i=CE();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function yR(){const n=vR(!0);return n?(n(),!1):!0}class nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wE(n,e){const t=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||yR())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e);const l=a[i];l&&gn.postRender(()=>l(s,o))};return Fo(n.current,t,r,{passive:!n.getProps()[i]})}class DU extends nl{mount(){this.unmount=Oo(wE(this.node,!0),wE(this.node,!1))}unmount(){}}class NU extends nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oo(Bo(this.node.current,"focus",()=>this.onFocus()),Bo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xR=(n,e)=>e?n===e?!0:xR(n,e.parentElement):!1;function x2(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Y1(t))}class FU extends nl{constructor(){super(...arguments),this.removeStartListeners=Wi,this.removeEndListeners=Wi,this.removeAccessibleListeners=Wi,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Fo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f,globalTapTarget:h}=this.node.getProps(),p=!h&&!xR(this.node.current,a.target)?f:c;p&&gn.update(()=>p(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=Fo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Oo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||x2("up",(l,c)=>{const{onTap:f}=this.node.getProps();f&&gn.postRender(()=>f(l,c))})};this.removeEndListeners(),this.removeEndListeners=Bo(this.node.current,"keyup",o),x2("down",(a,l)=>{this.startPress(a,l)})},t=Bo(this.node.current,"keydown",e),i=()=>{this.isPressing&&x2("cancel",(s,o)=>this.cancelPress(s,o))},r=Bo(this.node.current,"blur",i);this.removeAccessibleListeners=Oo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&gn.postRender(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yR()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&gn.postRender(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Fo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Bo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Oo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const U_=new WeakMap,_2=new WeakMap,OU=n=>{const e=U_.get(n.target);e&&e(n)},kU=n=>{n.forEach(OU)};function UU({root:n,...e}){const t=n||document;_2.has(t)||_2.set(t,{});const i=_2.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(kU,{root:n,...e})),i[r]}function HU(n,e,t){const i=UU(e);return U_.set(n,t),i.observe(n),()=>{U_.delete(n),i.unobserve(n)}}const zU={some:0,all:1};class GU extends nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:zU[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(l)};return HU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(VU(e,t))&&this.startObserver()}unmount(){}}function VU({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const WU={inView:{Feature:GU},tap:{Feature:FU},focus:{Feature:NU},hover:{Feature:DU}};function _R(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function jU(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function XU(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function Z1(n,e,t){const i=n.getProps();return bS(i,e,t!==void 0?t:i.custom,jU(n),XU(n))}const Ua=n=>n*1e3,ko=n=>n/1e3,JU={type:"spring",stiffness:500,damping:25,restSpeed:10},KU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),YU={type:"keyframes",duration:.8},ZU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QU=(n,{keyframes:e})=>e.length>2?YU:yc.has(n)?n.startsWith("scale")?KU(e[1]):JU:ZU;function qU({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}function RS(n,e){return n[e]||n.default||n}const $U=n=>n!==null;function Q1(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter($U),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}let mg;function eH(){mg=void 0}const Ha={now:()=>(mg===void 0&&Ha.set(Ci.isProcessing||Gk.useManualTiming?Ci.timestamp:performance.now()),mg),set:n=>{mg=n,queueMicrotask(eH)}},AR=n=>/^0[^.\s]+$/u.test(n);function tH(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||AR(n):!0}let H_=Wi;const SR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),nH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iH(n){const e=nH.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function MR(n,e,t=1){const[i,r]=iH(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return SR(o)?parseFloat(o):o}return AS(r)?MR(r,e,t+1):r}const rH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),EE=n=>n===wf||n===xt,TE=(n,e)=>parseFloat(n.split(", ")[e]),bE=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return TE(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?TE(s[1],n):0}},sH=new Set(["x","y","z"]),oH=sp.filter(n=>!sH.has(n));function aH(n){const e=[];return oH.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const sf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:bE(4,13),y:bE(5,14)};sf.translateX=sf.x;sf.translateY=sf.y;const CR=n=>e=>e.test(n),lH={test:n=>n==="auto",parse:n=>n},wR=[wf,xt,Qs,va,fU,uU,lH],RE=n=>wR.find(CR(n)),ec=new Set;let z_=!1,G_=!1;function ER(){if(G_){const n=Array.from(ec).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=aH(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}G_=!1,z_=!1,ec.forEach(n=>n.complete()),ec.clear()}function TR(){ec.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(G_=!0)})}function cH(){TR(),ER()}class PS{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ec.add(this),z_||(z_=!0,gn.read(TR),gn.resolveKeyframes(ER))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ec.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ec.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const IS=(n,e)=>t=>!!(op(t)&&cU.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),bR=(n,e,t)=>i=>{if(!op(i))return i;const[r,s,o,a]=i.match(SS);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},uH=n=>Wa(0,255,n),A2={...wf,transform:n=>Math.round(uH(n))},Wl={test:IS("rgb","red"),parse:bR("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+A2.transform(n)+", "+A2.transform(e)+", "+A2.transform(t)+", "+Xd(jd.transform(i))+")"};function fH(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const V_={test:IS("#"),parse:fH,transform:Wl.transform},Iu={test:IS("hsl","hue"),parse:bR("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Qs.transform(Xd(e))+", "+Qs.transform(Xd(t))+", "+Xd(jd.transform(i))+")"},zi={test:n=>Wl.test(n)||V_.test(n)||Iu.test(n),parse:n=>Wl.test(n)?Wl.parse(n):Iu.test(n)?Iu.parse(n):V_.parse(n),transform:n=>op(n)?n:n.hasOwnProperty("red")?Wl.transform(n):Iu.transform(n)};function dH(n){var e,t;return isNaN(n)&&op(n)&&(((e=n.match(SS))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(lU))===null||t===void 0?void 0:t.length)||0)>0}const RR="number",PR="color",hH="var",pH="var(",PE="${}",mH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function n1(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(mH,l=>(zi.test(l)?(i.color.push(s),r.push(PR),t.push(zi.parse(l))):l.startsWith(pH)?(i.var.push(s),r.push(hH),t.push(l)):(i.number.push(s),r.push(RR),t.push(parseFloat(l))),++s,PE)).split(PE);return{values:t,split:a,indexes:i,types:r}}function IR(n){return n1(n).values}function BR(n){const{split:e,types:t}=n1(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===RR?s+=Xd(r[o]):a===PR?s+=zi.transform(r[o]):s+=r[o]}return s}}const gH=n=>typeof n=="number"?0:n;function vH(n){const e=IR(n);return BR(n)(e.map(gH))}const Xa={test:dH,parse:IR,createTransformer:BR,getAnimatableNone:vH},yH=new Set(["brightness","contrast","saturate","opacity"]);function xH(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(SS)||[];if(!i)return n;const r=t.replace(i,"");let s=yH.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const _H=/\b([a-z-]*)\(.*?\)/gu,W_={...Xa,getAnimatableNone:n=>{const e=n.match(_H);return e?e.map(xH).join(" "):n}},AH={...oR,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:W_,WebkitFilter:W_},BS=n=>AH[n];function LR(n,e){let t=BS(n);return t!==W_&&(t=Xa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const SH=new Set(["auto","none","0"]);function MH(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!SH.has(s)&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=LR(t,r)}class DR extends PS{constructor(e,t,i,r){super(e,t,i,r,r==null?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const c=e[l];if(typeof c=="string"&&AS(c)){const f=MR(c,t.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!rH.has(i)||e.length!==2)return;const[r,s]=e,o=RE(r),a=RE(s);if(o!==a)if(EE(o)&&EE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)tH(e[r])&&i.push(r);i.length&&MH(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=sf[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function CH(n){let e;return()=>(e===void 0&&(e=n()),e)}const IE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xa.test(n)||n==="0")&&!n.startsWith("url("));function wH(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function EH(n,e,t,i){const r=n[0];if(r===null)return!1;const s=n[n.length-1],o=IE(r,e),a=IE(s,e);return!o||!a?!1:wH(n)||t==="spring"&&i}class NR{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cH(),this._resolved}onKeyframesResolved(e,t){this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!EH(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(Q1(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,t);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...f},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function FR(n,e){return e?n*(1e3/e):0}const TH=5;function OR(n,e,t){const i=Math.max(e-TH,0);return FR(t-n(i),e-i)}const S2=.001,bH=.01,RH=10,PH=.05,IH=1;function BH({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s,o=1-e;o=Wa(PH,IH,o),n=Wa(bH,RH,ko(n)),o<1?(r=c=>{const f=c*o,h=f*n,p=f-t,m=j_(c,o),v=Math.exp(-h);return S2-p/m*v},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-h),_=j_(Math.pow(c,2),o);return(-r(c)+S2>0?-1:1)*((p-m)*v)/_}):(r=c=>{const f=Math.exp(-c*n),h=(c-t)*n+1;return-S2+f*h},s=c=>{const f=Math.exp(-c*n),h=(t-c)*(n*n);return f*h});const a=5/n,l=DH(r,s,a);if(n=Ua(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const LH=12;function DH(n,e,t){let i=t;for(let r=1;r<LH;r++)i=i-n(i)/e(i);return i}function j_(n,e){return n*Math.sqrt(1-e*e)}const NH=["duration","bounce"],FH=["stiffness","damping","mass"];function BE(n,e){return e.some(t=>n[t]!==void 0)}function OH(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!BE(n,FH)&&BE(n,NH)){const t=BH(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function kR({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:f,velocity:h,isResolvedFromDuration:p}=OH({...i,velocity:-ko(i.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*c)),_=s-r,x=ko(Math.sqrt(a/c)),g=Math.abs(_)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let A;if(v<1){const S=j_(x,v);A=C=>{const P=Math.exp(-v*x*C);return s-P*((m+v*x*_)/S*Math.sin(S*C)+_*Math.cos(S*C))}}else if(v===1)A=S=>s-Math.exp(-x*S)*(_+(m+x*_)*S);else{const S=x*Math.sqrt(v*v-1);A=C=>{const P=Math.exp(-v*x*C),E=Math.min(S*C,300);return s-P*((m+v*x*_)*Math.sinh(E)+S*_*Math.cosh(E))/S}}return{calculatedDuration:p&&f||null,next:S=>{const C=A(S);if(p)o.done=S>=f;else{let P=m;S!==0&&(v<1?P=OR(A,S,C):P=0);const E=Math.abs(P)<=t,I=Math.abs(s-C)<=e;o.done=E&&I}return o.value=o.done?s:C,o}}}function LE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const h=n[0],p={done:!1,value:h},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,v=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let _=t*e;const x=h+_,g=o===void 0?x:o(x);g!==x&&(_=g-h);const A=B=>-_*Math.exp(-B/i),S=B=>g+A(B),C=B=>{const R=A(B),b=S(B);p.done=Math.abs(R)<=c,p.value=p.done?g:b};let P,E;const I=B=>{m(p.value)&&(P=B,E=kR({keyframes:[p.value,v(p.value)],velocity:OR(S,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:f}))};return I(0),{calculatedDuration:null,next:B=>{let R=!1;return!E&&P===void 0&&(R=!0,C(B),I(B)),P!==void 0&&B>=P?E.next(B-P):(!R&&C(B),p)}}}const UR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,kH=1e-7,UH=12;function HH(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=UR(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>kH&&++a<UH);return o}function lp(n,e,t,i){if(n===e&&t===i)return Wi;const r=s=>HH(s,0,1,n,t);return s=>s===0||s===1?s:UR(r(s),e,i)}const zH=lp(.42,0,1,1),GH=lp(0,0,.58,1),HR=lp(.42,0,.58,1),VH=n=>Array.isArray(n)&&typeof n[0]!="number",zR=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,GR=n=>e=>1-n(1-e),LS=n=>1-Math.sin(Math.acos(n)),VR=GR(LS),WH=zR(LS),WR=lp(.33,1.53,.69,.99),DS=GR(WR),jH=zR(DS),XH=n=>(n*=2)<1?.5*DS(n):.5*(2-Math.pow(2,-10*(n-1))),DE={linear:Wi,easeIn:zH,easeInOut:HR,easeOut:GH,circIn:LS,circInOut:WH,circOut:VR,backIn:DS,backInOut:jH,backOut:WR,anticipate:XH},NE=n=>{if(Array.isArray(n)){H_(n.length===4);const[e,t,i,r]=n;return lp(e,t,i,r)}else if(typeof n=="string")return H_(DE[n]!==void 0),DE[n];return n},Mh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Dn=(n,e,t)=>n+(e-n)*t;function M2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function JH({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=M2(l,a,n+1/3),s=M2(l,a,n),o=M2(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const C2=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},KH=[V_,Wl,Iu],YH=n=>KH.find(e=>e.test(n));function FE(n){const e=YH(n);let t=e.parse(n);return e===Iu&&(t=JH(t)),t}const OE=(n,e)=>{const t=FE(n),i=FE(e),r={...t};return s=>(r.red=C2(t.red,i.red,s),r.green=C2(t.green,i.green,s),r.blue=C2(t.blue,i.blue,s),r.alpha=Dn(t.alpha,i.alpha,s),Wl.transform(r))};function X_(n,e){return t=>t>0?e:n}function ZH(n,e){return t=>Dn(n,e,t)}function NS(n){return typeof n=="number"?ZH:typeof n=="string"?AS(n)?X_:zi.test(n)?OE:$H:Array.isArray(n)?jR:typeof n=="object"?zi.test(n)?OE:QH:X_}function jR(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>NS(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function QH(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=NS(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function qH(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][r[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[s]=l,r[o]++}return i}const $H=(n,e)=>{const t=Xa.createTransformer(e),i=n1(n),r=n1(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Oo(jR(qH(i,r),r.values),t):X_(n,e)};function XR(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Dn(n,e,t):NS(n)(n,e)}function ez(n,e,t){const i=[],r=t||XR,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Wi:e;a=Oo(l,a)}i.push(a)}return i}function tz(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(H_(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=ez(e,i,r),a=o.length,l=c=>{let f=0;if(a>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const h=Mh(n[f],n[f+1],c);return o[f](h)};return t?c=>l(Wa(n[0],n[s-1],c)):l}function nz(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Mh(0,e,i);n.push(Dn(t,1,r))}}function iz(n){const e=[0];return nz(e,n.length-1),e}function rz(n,e){return n.map(t=>t*e)}function sz(n,e){return n.map(()=>e||HR).splice(0,n.length-1)}function i1({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=VH(i)?i.map(NE):NE(i),s={done:!1,value:e[0]},o=rz(t&&t.length===e.length?t:iz(e),n),a=tz(o,e,{ease:Array.isArray(r)?r:sz(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const kE=2e4;function oz(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<kE;)e+=t,i=n.next(e);return e>=kE?1/0:e}const az=n=>{const e=({timestamp:t})=>n(t);return{start:()=>gn.update(e,!0),stop:()=>ja(e),now:()=>Ci.isProcessing?Ci.timestamp:Ha.now()}},lz={decay:LE,inertia:LE,tween:i1,keyframes:i1,spring:kR},cz=n=>n/100;class FS extends NR{constructor({KeyframeResolver:e=PS,...t}){super(t),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:i,motionValue:r,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);i&&r&&r.owner?this.resolver=r.owner.resolveKeyframes(s,o,i,r):this.resolver=new e(s,o,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=lz[t]||i1;let l,c;a!==i1&&typeof e[0]!="number"&&(l=Oo(cz,XR(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=oz(f));const{calculatedDuration:h}=f,p=h+r,m=p*(i+1)-r;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:f,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),A=this.speed>=0?g<0:g>f;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let S=this.currentTime,C=s;if(m){const B=Math.min(this.currentTime,f)/h;let R=Math.floor(B),b=B%1;!b&&B>=1&&(b=1),b===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(b=1-b,_&&(b-=_/h)):v==="mirror"&&(C=o)),S=Wa(0,1,b)*h}const P=A?{done:!1,value:l[0]}:C.next(S);a&&(P.value=a(P.value));let{done:E}=P;!A&&c!==null&&(E=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return I&&r!==void 0&&(P.value=Q1(l,this.options,r)),x&&x(P.value),I&&this.finish(),P}get duration(){const{resolved:e}=this;return e?ko(e.calculatedDuration):0}get time(){return ko(this.currentTime)}set time(e){e=Ua(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ko(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=az,onPlay:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=i),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JR=n=>Array.isArray(n)&&typeof n[0]=="number";function KR(n){return!!(!n||typeof n=="string"&&n in OS||JR(n)||Array.isArray(n)&&n.every(KR))}const Bd=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,OS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function uz(n){return YR(n)||OS.easeOut}function YR(n){if(n)return JR(n)?Bd(n):Array.isArray(n)?n.map(uz):OS[n]}function fz(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const f=YR(a);return Array.isArray(f)&&(c.easing=f),n.animate(c,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const dz=CH(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hz=new Set(["opacity","clipPath","filter","transform"]),r1=10,pz=2e4;function mz(n){return n.type==="spring"||n.name==="backgroundColor"||!KR(n.ease)}function gz(n,e){const t=new FS({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<pz;)i=t.sample(s),r.push(i.value),s+=r1;return{times:void 0,keyframes:r,duration:s-r1,ease:"linear"}}class UE extends NR{constructor(e){super(e);const{name:t,motionValue:i,keyframes:r}=this.options;this.resolver=new DR(r,(s,o)=>this.onKeyframesResolved(s,o),t,i),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(mz(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,...v}=this.options,_=gz(e,v);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,s=_.times,o=_.ease,a="keyframes"}const f=fz(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return f.startTime=Ha.now(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;l.set(Q1(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ko(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ko(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ua(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Wi;const{animation:i}=t;i.timeline=e,i.onfinish=null}return Wi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(!(t.playState==="idle"||t.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:f,...h}=this.options,p=new FS({...h,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),m=Ua(this.time);l.setWithVelocity(p.sample(m-r1).value,p.sample(m).value,r1)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return dz()&&i&&hz.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const kS=(n,e,t,i={},r,s)=>o=>{const a=RS(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ua(l);let f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};qU(a)||(f={...f,...QU(n,f)}),f.duration&&(f.duration=Ua(f.duration)),f.repeatDelay&&(f.repeatDelay=Ua(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=Q1(f.keyframes,a);if(p!==void 0){gn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return!s&&UE.supports(f)?new UE(f):new FS(f)};function s1(n){return!!(Vi(n)&&n.add)}function US(n,e){n.indexOf(e)===-1&&n.push(e)}function HS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class zS{constructor(){this.subscriptions=[]}add(e){return US(this.subscriptions,e),()=>HS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HE=30,vz=n=>!isNaN(parseFloat(n));class yz{constructor(e,t={}){this.version="11.1.9",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ha.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=vz(this.current),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ha.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zS);const i=this.events[e].add(t);return e==="change"?()=>{i(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ha.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,HE);return FR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ch(n,e){return new yz(n,e)}function xz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ch(t))}function _z(n,e){const t=Z1(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=EU(s[o]);xz(n,o,a)}}function Az({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function ZR(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;const c=n.getValue("willChange");i&&(o=i);const f=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const m=n.getValue(p,(s=n.latestValues[p])!==null&&s!==void 0?s:null),v=l[p];if(v===void 0||h&&Az(h,p))continue;const _={delay:t,elapsed:0,...RS(o||{},p)};let x=!1;if(window.HandoffAppearAnimations){const S=n.getProps()[q9];if(S){const C=window.HandoffAppearAnimations(S,p);C!==null&&(_.elapsed=C,x=!0)}}m.start(kS(p,m,v,n.shouldReduceMotion&&yc.has(p)?{type:!1}:_,n,x));const g=m.animation;g&&(s1(c)&&(c.add(p),g.then(()=>c.remove(p))),f.push(g))}return a&&Promise.all(f).then(()=>{gn.update(()=>{a&&_z(n,a)})}),f}function J_(n,e,t={}){var i;const r=Z1(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(ZR(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=s;return Sz(n,e,f+c,h,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,f]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>f())}else return Promise.all([o(),a(t.delay)])}function Sz(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(Mz).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(J_(c,e,{...s,delay:t+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Mz(n,e){return n.sortNodePosition(e)}function Cz(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>J_(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=J_(n,e,t);else{const r=typeof e=="function"?Z1(n,e,t.custom):e;i=Promise.all(ZR(n,r,t))}return i.then(()=>{gn.postRender(()=>{n.notify("AnimationComplete",e)})})}const wz=[...yS].reverse(),Ez=yS.length;function Tz(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Cz(n,t,i)))}function bz(n){let e=Tz(n);const t=Pz();let i=!0;const r=l=>(c,f)=>{var h;const p=Z1(n,f,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;c={...c,..._,...v}}return c};function s(l){e=l(n)}function o(l){const c=n.getProps(),f=n.getVariantContext(!0)||{},h=[],p=new Set;let m={},v=1/0;for(let x=0;x<Ez;x++){const g=wz[x],A=t[g],S=c[g]!==void 0?c[g]:f[g],C=Ah(S),P=g===l?A.isActive:null;P===!1&&(v=x);let E=S===f[g]&&S!==c[g]&&C;if(E&&i&&n.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...m},!A.isActive&&P===null||!S&&!A.prevProp||J1(S)||typeof S=="boolean")continue;let B=Rz(A.prevProp,S)||g===l&&A.isActive&&!E&&C||x>v&&C,R=!1;const b=Array.isArray(S)?S:[S];let k=b.reduce(r(g),{});P===!1&&(k={});const{prevResolvedValues:Y={}}=A,G={...Y,...k},q=$=>{B=!0,p.has($)&&(R=!0,p.delete($)),A.needsAnimating[$]=!0;const ie=n.getValue($);ie&&(ie.liveStyle=!1)};for(const $ in G){const ie=k[$],pe=Y[$];if(m.hasOwnProperty($))continue;let F=!1;k_(ie)&&k_(pe)?F=!_R(ie,pe):F=ie!==pe,F?ie!=null?q($):p.add($):ie!==void 0&&p.has($)?q($):A.protectedKeys[$]=!0}A.prevProp=S,A.prevResolvedValues=k,A.isActive&&(m={...m,...k}),i&&n.blockInitialAnimation&&(B=!1),B&&(!E||R)&&h.push(...b.map($=>({animation:$,options:{type:g}})))}if(p.size){const x={};p.forEach(g=>{const A=n.getBaseTarget(g),S=n.getValue(g);S&&(S.liveStyle=!0),x[g]=A??null}),h.push({animation:x})}let _=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function a(l,c){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=o(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Rz(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!_R(e,n):!1}function vl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pz(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class Iz extends nl{constructor(e){super(e),e.animationState||(e.animationState=bz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),J1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Bz=0;class Lz extends nl{constructor(){super(...arguments),this.id=Bz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Dz={animation:{Feature:Iz},exit:{Feature:Lz}},zE=(n,e)=>Math.abs(n-e);function Nz(n,e){const t=zE(n.x,e.x),i=zE(n.y,e.y);return Math.sqrt(t**2+i**2)}class QR{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=E2(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Nz(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:_}=Ci;this.history.push({...v,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=w2(p,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=E2(h.type==="pointercancel"?this.lastMoveEventInfo:w2(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!mR(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=Y1(e),a=w2(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ci;this.history=[{...l,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,E2(a,this.history)),this.removeListeners=Oo(Fo(this.contextWindow,"pointermove",this.handlePointerMove),Fo(this.contextWindow,"pointerup",this.handlePointerUp),Fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ja(this.updatePoint)}}function w2(n,e){return e?{point:e(n.point)}:n}function GE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function E2({point:n},e){return{point:n,delta:GE(n,qR(e)),offset:GE(n,Fz(e)),velocity:Oz(e,.1)}}function Fz(n){return n[0]}function qR(n){return n[n.length-1]}function Oz(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=qR(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ua(e)));)t--;if(!i)return{x:0,y:0};const s=ko(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ir(n){return n.max-n.min}function K_(n,e=0,t=.01){return Math.abs(n-e)<=t}function VE(n,e,t,i=.5){n.origin=i,n.originPoint=Dn(e.min,e.max,n.origin),n.scale=Ir(t)/Ir(e),(K_(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Dn(t.min,t.max,n.origin)-n.originPoint,(K_(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Jd(n,e,t,i){VE(n.x,e.x,t.x,i?i.originX:void 0),VE(n.y,e.y,t.y,i?i.originY:void 0)}function WE(n,e,t){n.min=t.min+e.min,n.max=n.min+Ir(e)}function kz(n,e,t){WE(n.x,e.x,t.x),WE(n.y,e.y,t.y)}function jE(n,e,t){n.min=e.min-t.min,n.max=n.min+Ir(e)}function Kd(n,e,t){jE(n.x,e.x,t.x),jE(n.y,e.y,t.y)}function Uz(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Dn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Dn(t,n,i.max):Math.min(n,t)),n}function XE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Hz(n,{top:e,left:t,bottom:i,right:r}){return{x:XE(n.x,t,r),y:XE(n.y,e,i)}}function JE(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function zz(n,e){return{x:JE(n.x,e.x),y:JE(n.y,e.y)}}function Gz(n,e){let t=.5;const i=Ir(n),r=Ir(e);return r>i?t=Mh(e.min,e.max-i,n.min):i>r&&(t=Mh(n.min,n.max-r,e.min)),Wa(0,1,t)}function Vz(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Y_=.35;function Wz(n=Y_){return n===!1?n=0:n===!0&&(n=Y_),{x:KE(n,"left","right"),y:KE(n,"top","bottom")}}function KE(n,e,t){return{min:YE(n,e),max:YE(n,t)}}function YE(n,e){return typeof n=="number"?n:n[e]||0}const ZE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bu=()=>({x:ZE(),y:ZE()}),QE=()=>({min:0,max:0}),Kn=()=>({x:QE(),y:QE()});function Kr(n){return[n("x"),n("y")]}function $R({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function jz({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Xz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function T2(n){return n===void 0||n===1}function Z_({scale:n,scaleX:e,scaleY:t}){return!T2(n)||!T2(e)||!T2(t)}function Ll(n){return Z_(n)||eP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function eP(n){return qE(n.x)||qE(n.y)}function qE(n){return n&&n!=="0%"}function o1(n,e,t){const i=n-t,r=e*i;return t+r}function $E(n,e,t,i,r){return r!==void 0&&(n=o1(n,r,i)),o1(n,t,i)+e}function Q_(n,e=0,t=1,i,r){n.min=$E(n.min,e,t,i,r),n.max=$E(n.max,e,t,i,r)}function tP(n,{x:e,y:t}){Q_(n.x,e.translate,e.scale,e.originPoint),Q_(n.y,t.translate,t.scale,t.originPoint)}function Jz(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tP(n,o)),i&&Ll(s.latestValues)&&Lu(n,s.latestValues))}e.x=e5(e.x),e.y=e5(e.y)}function e5(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function _a(n,e){n.min=n.min+e,n.max=n.max+e}function t5(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Dn(n.min,n.max,s);Q_(n,e[t],e[i],o,e.scale)}const Kz=["x","scaleX","originX"],Yz=["y","scaleY","originY"];function Lu(n,e){t5(n.x,e,Kz),t5(n.y,e,Yz)}function nP(n,e){return $R(Xz(n.getBoundingClientRect(),e))}function Zz(n,e,t){const i=nP(n,t),{scroll:r}=e;return r&&(_a(i.x,r.offset.x),_a(i.y,r.offset.y)),i}const iP=({current:n})=>n?n.ownerDocument.defaultView:null,Qz=new WeakMap;class qz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Y1(f,"page").point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vR(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Qs.test(g)){const{projection:A}=this.visualElement;if(A&&A.layout){const S=A.layout.layoutBox[x];S&&(g=Ir(S)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&gn.postRender(()=>v(f,h));const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=$z(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(f,h)},a=(f,h)=>this.stop(f,h),l=()=>Kr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new QR(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:iP(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&gn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Km(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Uz(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Pu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Hz(r.layoutBox,t):this.constraints=!1,this.elastic=Wz(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Vz(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Zz(i,r.root,this.visualElement.getTransformPagePoint());let o=zz(r.layout.layoutBox,s);if(t){const a=t(jz(o));this.hasMutatedConstraints=!!a,a&&(o=$R(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Kr(f=>{if(!Km(f,t,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(kS(e,i,0,t,this.visualElement))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Kr(t=>{const{drag:i}=this.getProps();if(!Km(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Dn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Pu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Kr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Gz({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Kr(o=>{if(!Km(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Dn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Qz.set(this.visualElement,this);const e=this.visualElement.current,t=Fo(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Pu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Bo(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Kr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Y_,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Km(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $z(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class eG extends nl{constructor(e){super(e),this.removeGroupControls=Wi,this.removeListeners=Wi,this.controls=new qz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const n5=n=>(e,t)=>{n&&gn.postRender(()=>n(e,t))};class tG extends nl{constructor(){super(...arguments),this.removePointerDownListener=Wi}onPointerDown(e){this.session=new QR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:n5(e),onStart:n5(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&gn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Fo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function nG(){const n=O.useContext(pS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=O.useId();return O.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i5(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ad={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xt.test(n))n=parseFloat(n);else return n;const t=i5(n,e.target.x),i=i5(n,e.target.y);return`${t}% ${i}%`}},iG={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Xa.parse(n);if(r.length>5)return i;const s=Xa.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Dn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class rG extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;tU(sG),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||gn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rP(n){const[e,t]=nG(),i=O.useContext(tR);return z.jsx(rG,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(nR),isPresent:e,safeToRemove:t})}const sG={borderRadius:{...ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ad,borderTopRightRadius:ad,borderBottomLeftRadius:ad,borderBottomRightRadius:ad,boxShadow:iG},sP=["TopLeft","TopRight","BottomLeft","BottomRight"],oG=sP.length,r5=n=>typeof n=="string"?parseFloat(n):n,s5=n=>typeof n=="number"||xt.test(n);function aG(n,e,t,i,r,s){r?(n.opacity=Dn(0,t.opacity!==void 0?t.opacity:1,lG(i)),n.opacityExit=Dn(e.opacity!==void 0?e.opacity:1,0,cG(i))):s&&(n.opacity=Dn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<oG;o++){const a=`border${sP[o]}Radius`;let l=o5(e,a),c=o5(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||s5(l)===s5(c)?(n[a]=Math.max(Dn(r5(l),r5(c),i),0),(Qs.test(c)||Qs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Dn(e.rotate||0,t.rotate||0,i))}function o5(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const lG=oP(0,.5,VR),cG=oP(.5,.95,Wi);function oP(n,e,t){return i=>i<n?0:i>e?1:t(Mh(n,e,i))}function a5(n,e){n.min=e.min,n.max=e.max}function jr(n,e){a5(n.x,e.x),a5(n.y,e.y)}function l5(n,e,t,i,r){return n-=e,n=o1(n,1/t,i),r!==void 0&&(n=o1(n,1/r,i)),n}function uG(n,e=0,t=1,i=.5,r,s=n,o=n){if(Qs.test(e)&&(e=parseFloat(e),e=Dn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Dn(s.min,s.max,i);n===s&&(a-=e),n.min=l5(n.min,e,t,a,r),n.max=l5(n.max,e,t,a,r)}function c5(n,e,[t,i,r],s,o){uG(n,e[t],e[i],e[r],e.scale,s,o)}const fG=["x","scaleX","originX"],dG=["y","scaleY","originY"];function u5(n,e,t,i){c5(n.x,e,fG,t?t.x:void 0,i?i.x:void 0),c5(n.y,e,dG,t?t.y:void 0,i?i.y:void 0)}function f5(n){return n.translate===0&&n.scale===1}function aP(n){return f5(n.x)&&f5(n.y)}function hG(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function lP(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function d5(n){return Ir(n.x)/Ir(n.y)}class pG{constructor(){this.members=[]}add(e){US(this.members,e),e.scheduleRender()}remove(e){if(HS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h5(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:m,skewY:v}=t;c&&(i=`perspective(${c}px) ${i}`),f&&(i+=`rotate(${f}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const mG=(n,e)=>n.depth-e.depth;class gG{constructor(){this.children=[],this.isDirty=!1}add(e){US(this.children,e),this.isDirty=!0}remove(e){HS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mG),this.isDirty=!1,this.children.forEach(e)}}function vG(n,e){const t=Ha.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(ja(i),n(s-e))};return gn.read(i,!0),()=>ja(i)}function yG(n){window.MotionDebug&&window.MotionDebug.record(n)}function xG(n){return n instanceof SVGElement&&n.tagName!=="svg"}function _G(n,e,t){const i=Vi(n)?n:Ch(n);return i.start(kS("",i,e,t)),i.animation}const b2=["","X","Y","Z"],AG={visibility:"hidden"},p5=1e3;let SG=0;const Dl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function R2(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function cP({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=SG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dl.totalNodes=Dl.resolvedTargetDeltas=Dl.recalculatedProjection=0,this.nodes.forEach(wG),this.nodes.forEach(PG),this.nodes.forEach(IG),this.nodes.forEach(EG),yG(Dl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xG(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=vG(p,250),gg.hasAnimatedSinceResize&&(gg.hasAnimatedSinceResize=!1,this.nodes.forEach(g5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||FG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=f.getProps(),A=!this.targetLayout||!lP(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const C={...RS(_,"layout"),onPlay:x,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||g5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m5);return}this.isUpdating||this.nodes.forEach(bG),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(RG),this.nodes.forEach(MG),this.nodes.forEach(CG),this.clearAllSnapshots();const a=Ha.now();Ci.delta=Wa(0,1e3/60,a-Ci.timestamp),Ci.timestamp=a,Ci.isProcessing=!0,y2.update.process(Ci),y2.preRender.process(Ci),y2.render.process(Ci),Ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vS.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(TG),this.sharedNodes.forEach(LG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!aP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||Ll(this.latestValues)||f)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),OG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Kn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(_a(a.x,l.offset.x),_a(a.y,l.offset.y)),a}removeElementScroll(o){const a=Kn();jr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:h}=c;if(c!==this.root&&f&&h.layoutScroll){if(f.isRoot){jr(a,o);const{scroll:p}=this.root;p&&(_a(a.x,-p.offset.x),_a(a.y,-p.offset.y))}_a(a.x,f.offset.x),_a(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=Kn();jr(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Lu(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ll(f.latestValues)&&Lu(l,f.latestValues)}return Ll(this.latestValues)&&Lu(l,this.latestValues),l}removeTransform(o){const a=Kn();jr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ll(c.latestValues))continue;Z_(c.latestValues)&&c.updateSnapshot();const f=Kn(),h=c.measurePageBox();jr(f,h),u5(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return Ll(this.latestValues)&&u5(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ci.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),Kd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kn(),this.targetWithTransforms=Kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),tP(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),Kd(this.relativeTargetOrigin,this.target,m.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Z_(this.parent.latestValues)||eP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ci.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;jr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Jz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Kn());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Bu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Bu(),this.projectionDeltaWithTransform=Bu());const _=this.projectionTransform;Jd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=h5(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Dl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=Bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Kn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),g=!x||x.members.length<=1,A=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(NG));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const P=C/1e3;v5(h.x,o.x,P),v5(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DG(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&hG(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Kn()),jr(S,this.relativeTarget)),_&&(this.animationValues=f,aG(f,c,this.latestValues,P,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{gg.hasAnimatedSinceResize=!0,this.currentAnimation=_G(0,p5,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&uP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Kn();const h=Ir(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Ir(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}jr(a,l),Lu(a,f),Jd(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pG),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&R2("z",o,c,this.animationValues);for(let f=0;f<b2.length;f++)R2(`rotate${b2[f]}`,o,c,this.animationValues),R2(`skew${b2[f]}`,o,c,this.animationValues);o.render();for(const f in c)o.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AG;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pg(o==null?void 0:o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=pg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ll(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=h5(this.projectionDeltaWithTransform,this.treeScale,p),f&&(c.transform=f(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in e1){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=e1[_],A=c.transform==="none"?p[_]:x(p[_],h);if(g){const S=g.length;for(let C=0;C<S;C++)c[g[C]]=A}else c[_]=A}return this.options.layoutId&&(c.pointerEvents=h===this?pg(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(m5),this.root.sharedNodes.clear()}}}function MG(n){n.updateLayout()}function CG(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Kr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Ir(p);p.min=i[h].min,p.max=p.min+m}):uP(s,t.layoutBox,i)&&Kr(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Ir(i[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=Bu();Jd(a,i,t.layoutBox);const l=Bu();o?Jd(l,n.applyTransform(r,!0),t.measuredBox):Jd(l,i,t.layoutBox);const c=!aP(a);let f=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=Kn();Kd(v,t.layoutBox,p.layoutBox);const _=Kn();Kd(_,i,m.layoutBox),lP(v,_)||(f=!0),h.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function wG(n){Dl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function EG(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TG(n){n.clearSnapshot()}function m5(n){n.clearMeasurements()}function bG(n){n.isLayoutDirty=!1}function RG(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function g5(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function PG(n){n.resolveTargetDelta()}function IG(n){n.calcProjection()}function BG(n){n.resetSkewAndRotation()}function LG(n){n.removeLeadSnapshot()}function v5(n,e,t){n.translate=Dn(e.translate,0,t),n.scale=Dn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function y5(n,e,t,i){n.min=Dn(e.min,t.min,i),n.max=Dn(e.max,t.max,i)}function DG(n,e,t,i){y5(n.x,e.x,t.x,i),y5(n.y,e.y,t.y,i)}function NG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const FG={duration:.45,ease:[.4,0,.1,1]},x5=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),_5=x5("applewebkit/")&&!x5("chrome/")?Math.round:Wi;function A5(n){n.min=_5(n.min),n.max=_5(n.max)}function OG(n){A5(n.x),A5(n.y)}function uP(n,e,t){return n==="position"||n==="preserve-aspect"&&!K_(d5(e),d5(t),.2)}const kG=cP({attachResizeListener:(n,e)=>Bo(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P2={current:void 0},fP=cP({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!P2.current){const n=new kG({});n.mount(window),n.setOptions({layoutScroll:!0}),P2.current=n}return P2.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),UG={pan:{Feature:tG},drag:{Feature:eG,ProjectionNode:fP,MeasureLayout:rP}},q_={current:null},dP={current:!1};function HG(){if(dP.current=!0,!!mS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>q_.current=n.matches;n.addListener(e),e()}else q_.current=!1}function zG(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Vi(s))n.addValue(r,s),s1(i)&&i.add(r);else if(Vi(o))n.addValue(r,Ch(s,{owner:n})),s1(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Ch(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const S5=new WeakMap,GG=[...wR,zi,Xa],VG=n=>GG.find(CR(n)),hP=Object.keys(Sh),WG=hP.length,M5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jG=xS.length;function pP(n){if(n)return n.options.allowProjection!==!1?n.projection:pP(n.parent)}class XG{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(p,m,v,_)=>new this.KeyframeResolver(p,m,v,_,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>gn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=K1(t),this.isVariantNode=eR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&Vi(m)&&(m.set(l[p],!1),s1(f)&&f.add(p))}}mount(e){this.current=e,S5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),dP.current||HG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;S5.delete(this.current),this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)(e=this.features[t])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,t){const i=yc.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<WG;l++){const c=hP[l],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:m}=Sh[c];p&&(o=p),f(t)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,pP(this.parent));const{layoutId:l,layout:c,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!f||h&&Pu(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<M5.length;i++){const r=M5[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=zG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<jG;i++){const r=xS[i],s=this.props[r];(Ah(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Ch(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(SR(r)||AR(r))?r=parseFloat(r):!VG(r)&&Xa.test(t)&&(r=LR(e,t)),this.setBaseTarget(e,Vi(r)?r.get():r)),Vi(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=bS(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new zS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class mP extends XG{constructor(){super(...arguments),this.KeyframeResolver=DR}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}}function JG(n){return window.getComputedStyle(n)}class KG extends mP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(yc.has(t)){const i=BS(t);return i&&i.default||0}else{const i=JG(e),r=(sR(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nP(e,t)}build(e,t,i,r){MS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return TS(e,t,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){uR(e,t,i,r)}}class YG extends mP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yc.has(t)){const i=BS(t);return i&&i.default||0}return t=fR.has(t)?t:gS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Kn()}scrapeMotionValuesFromProps(e,t,i){return hR(e,t,i)}build(e,t,i,r){wS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){dR(e,t,i,r)}mount(e){this.isSVGTag=ES(e.tagName),super.mount(e)}}const ZG=(n,e)=>_S(n)?new YG(e,{enableHardwareAcceleration:!1}):new KG(e,{allowProjection:n!==O.Fragment,enableHardwareAcceleration:!0}),QG={layout:{ProjectionNode:fP,MeasureLayout:rP}},qG={...Dz,...WU,...UG,...QG},il=$k((n,e)=>IU(n,e,qG,ZG)),Wu=({children:n,...e})=>z.jsx(il.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},...e,children:n}),$_=({children:n,...e})=>z.jsx(il.div,{initial:{opacity:0,x:100},whileInView:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},...e,children:n}),$G=({children:n,...e})=>z.jsx(il.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},exit:{opacity:0,x:100},transition:{duration:.7},...e,children:n}),gP=({children:n,...e})=>z.jsx(il.div,{initial:{opacity:0,y:-100},whileInView:{opacity:1,y:0},exit:{opacity:0,x:100},transition:{duration:.7},...e,children:n}),eV=({children:n,i:e,...t})=>z.jsx(il.div,{initial:{opacity:0,y:-100},whileInView:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3,delay:.1*e},...t,children:n}),vg=({children:n,i:e,...t})=>z.jsx(il.div,{initial:{opacity:0,y:100},whileInView:{opacity:1,y:0},exit:{opacity:0,x:100},transition:{duration:.3,delay:.1*e},...t,children:n}),wo=({children:n,i:e,...t})=>z.jsx(il.div,{initial:{opacity:0,x:100},whileInView:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3,delay:.1*e},...t,children:n}),tV=({children:n,i:e,...t})=>z.jsx(il.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3,delay:.1*e},...t,children:n}),nV=()=>{const[n,e]=O.useState(!1),t=({text:i,className:r,replayActive:s})=>{const{ref:o,replay:a}=K9({text:i,range:[12448,12543],speed:.5,tick:2,seed:5,onAnimationEnd:()=>{setTimeout(()=>{e(!n)},4e3)}});let l;return s?l=z.jsx("p",{ref:o,onMouseOver:a,className:r}):l=z.jsx("p",{ref:o,className:r}),l};return z.jsxs("div",{className:"flex flex-col relative h-[100vh] sm:p-responsiveLayout md:p-layout justify-center items-center text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",id:"intro",children:[z.jsxs("div",{className:"flex flex-col relative -mt-12",children:[z.jsx(t,{text:"Douglas Nicida",className:"text-myRed text-md lg:text-2xl uppercase tracking-widest w-fit",replayActive:!0}),z.jsxs("div",{className:"flex flex-col relative mt-5",children:[z.jsxs("div",{className:"flex h-auto mb-10 md:mb-9 lg:mb-16",children:[z.jsx(t,{text:"Dev Web",className:"uppercase text-4xl sm:text-6xl lg:text-8xl font-bold",replayActive:!1}),z.jsxs("div",{className:"rotate-[90deg] ml-[16px] md:ml-[44px] lg:ml-11 mt-2 md:-mt-3 lg:mt-0",children:[z.jsx("div",{className:"bg-introDetails h-[7px] w-[40px] md:w-[60px] lg:w-[80px]"}),z.jsx("div",{className:"bg-introDetails h-[40px] md:h-[120px] lg:h-[140px] w-[7px] lg:w-[7px]"})]})]}),z.jsxs("div",{className:"flex h-auto ml-8 sm:ml-10 md:ml-12 lg:ml-16 -mt-8 md:-mt-16 lg:-mt-20",children:[z.jsxs("div",{className:"rotate-[270deg] -mt-[38px] md:-mt-16",children:[z.jsx("div",{className:"bg-introDetails h-[7px] lg:h-[7px] w-[40px] md:w-[60px] lg:w-[80px]"}),z.jsx("div",{className:"bg-introDetails h-[40px] md:h-[120px] lg:h-[140px] w-[7px] lg:w-[7px]"})]}),n===!1?z.jsx(t,{text:"FULLSTACK",className:"uppercase text-4xl sm:text-6xl lg:text-8xl font-bold md:ml-10 w-fit",replayActive:!1}):z.jsx(t,{text:"DESIGNER",className:"uppercase text-4xl sm:text-6xl lg:text-8xl font-bold md:ml-10 w-fit",replayActive:!1})]})]})]}),z.jsx("div",{className:"sm:absolute mt-14 sm:mt-0 right-[0px] bottom-14 p-responsiveLayout xl:p-layout",children:z.jsxs("div",{className:"flex sm:flex-col items-center gap-x-4 sm:gap-y-7 sm:gap-x-0 relative",children:[z.jsx(wo,{i:2,children:z.jsx("div",{className:"w-[100px] h-[3px] sm:w-[3px] sm:h-[150px] lg:h-[200px] dark:bg-headerItems bg-black/40 transition-all duration-200 ease-in-out"})}),z.jsx(wo,{i:4,children:z.jsx("a",{href:"https://github.com/douglasnicida",target:"_blank",rel:"noopener noreferrer",children:z.jsx(hS,{className:"size-7 lg:size-8 xl:size-9 cursor-pointer dark:fill-backgroundLight fill-backgroundDark dark:hover:fill-github hover:fill-github transition-all duration-300 ease-in-out"})})}),z.jsx(wo,{i:6,children:z.jsx("a",{href:"https://www.linkedin.com/in/douglasnicida/",target:"_blank",rel:"noopener noreferrer",children:z.jsx(Y9,{className:"size-7 lg:size-8 xl:size-9 cursor-pointer dark:fill-backgroundLight fill-backgroundDark dark:hover:fill-sky hover:fill-sky transition-all duration-300 ease-in-out"})})})]})}),z.jsx(Uk,{className:"absolute animate-bounce bottom-20 md:bottom-14 dark:stroke-backgroundLight stroke-backgroundDark"})]})},vP=({isAbout:n,children:e,className:t})=>z.jsxs("div",{className:`flex p-[2px] ${t}
        ${n===!0?"w-[265px] sm:min-w-[500px] h-fit md:min-h-[281px] xl:w-[860px] xl:h-[463px] mt-28":"w-[270px] sm:w-[323px] mt-20"}
        bg-gradient-to-b from-[#232323] from-[35%] to-[#6F6F6F] relative justify-center`,children:[z.jsx("div",{className:`flex  dark:bg-containerDark bg-containerLight w-full h-full 
            ${n===!0?"md:min-w-[323px] xl:w-[856px] justify-center items-center sm:p-[38px] px-[10px] py-[20px]":"xl:w-[324px] xl:h-[278px] p-[40px]"} `,children:e}),z.jsxs("div",{className:`absolute ${n?"-top-[23px] -left-[28px] md:-top-[43px] md:-left-[48px]":"-top-[23px] -left-[28px] md:-top-[16px] md:-left-[16px]"}`,children:[z.jsx("div",{className:`absolute top-0 w-[3px] ${n?"h-[455px]":"h-[269px]"} bg-gradient-to-t from-[#131313] from-[10%] to-[#868686]`}),z.jsx("div",{className:`absolute top-0 h-[3px] ${n?"w-[90px]":"w-[40px]"} bg-[#868686] left-[0px]`}),z.jsx("div",{className:`absolute top-0 h-[3px] ${n?"w-[90px] left-[100px]":"w-[40px] left-[50px]"} bg-[#868686]`})]}),z.jsxs("div",{className:`absolute ${n?"-bottom-[23px] -right-[28px] md:-bottom-[43px] md:-right-[48px]":"-bottom-[23px] -right-[28px] md:-bottom-[16px] md:-right-[16px]"}`,children:[z.jsx("div",{className:`absolute bottom-0 w-[3px] ${n?"h-[455px]":"h-[269px]"} bg-gradient-to-b from-[#131313] from-[10%] to-[#868686]`}),z.jsx("div",{className:`absolute bottom-0 h-[3px] ${n?"w-[90px]":"w-[40px]"} bg-[#868686] right-[0px]`}),z.jsx("div",{className:`absolute bottom-0 h-[3px] ${n?"w-[90px] right-[100px]":"w-[40px] right-[50px]"} bg-[#868686]`})]})]}),ju=({classNameIn:n,classNameOut:e,text:t,icon:i,onClick:r,href:s})=>z.jsx("button",{className:`flex p-[1px] min-w-[200px] min-h-[43px] md:min-w-[200px] md:h-[59px] relative ${e}
        dark:bg-[linear-gradient(0deg,rgba(111,111,111,1)0%,rgba(35,35,35,1)28%,rgba(35,35,35,1)69%,rgba(111,111,111,1)100%)]
        bg-[linear-gradient(0deg,rgba(0,0,0,1)0%,rgba(243,243,243,1)28%,rgba(243,243,243,1)69%,rgba(0,0,0,1)100%)] 
        transition-all duration-500 ease-in-out`,onClick:r,children:z.jsx("a",{className:`flex ${n} w-full h-full justify-center items-center border-[4px] border-solid
            dark:border-containerDark border-containerLight transition-all duration-200 ease-linear`,href:s,target:"_blank",rel:"noreferrer",children:z.jsx("span",{className:"uppercase font-semibold text-[19px] md:text-[21px] text-white leading-9 md:leading-3",children:t})})}),iV="/assets/Curr%C3%ADculo%20-%20Douglas%20Nicida-CgqvlkHl.pdf",rV=()=>{const n=({text:i,className:r,replayActive:s})=>{const{ref:o,replay:a}=K9({text:i,range:[12448,12543],speed:.5,tick:2,seed:5});let l;return s?l=z.jsx("p",{ref:o,onMouseOver:a,className:r}):l=z.jsx("p",{ref:o,className:r}),l};function e(){const i=iV,r=document.createElement("a");r.href=i,r.download="DouglasNicidaCV.pdf",document.body.appendChild(r),r.click()}const t=z.jsxs("div",{className:"flex flex-col xl:flex-row w-fit h-full gap-y-7 lg:gap-x-10 md:gap-y-0 md:items-center lg:items-start",children:[z.jsx(Wu,{className:"sm:flex hidden",children:z.jsx("div",{className:"hidden drop-shadow-image sm:flex w-[150px] md:w-[217px] xl:w-[317px] h-[145px] md:h-[215px] xl:h-[380px] bg-meAI hover:bg-me rounded-xl bg-cover bg-center md:place-self-center transition-all duration-200 ease-linear"})}),z.jsxs("div",{className:"flex flex-col w-max mt-4 xl:mt-0",children:[z.jsx($_,{transition:{delay:.2,duration:.2},children:z.jsx(n,{className:"px-[19px] py-[2px] w-fit h-auto uppercase drop-shadow-subtitle dark:bg-[#0F0F0F] bg-white text-myRed text-[16px] md:text-[20px] rounded-full",replayActive:!0,text:"Sobre mim"})}),z.jsx($_,{transition:{delay:.4,duration:.2},children:z.jsxs("p",{className:"text-justify w-fit max-w-[200px] sm:max-w-[450px] mt-4 md:mt-5 text-[14px] md:text-[16px]",children:["Atualmente quero ingressar no mercado de trabalho na área de Desenvolvimento Web ou Mobile. ",z.jsx("br",{}),"Estou cursando Ciências da Computação na UNESP, atuando como desenvolvedor voluntário em dois projetos de bolsa de extensão da própria universidade, sendo um deles Web e outro Mobile, utilizo as tecnologias ",z.jsx("b",{className:"underline",children:"ReactJS, TailWindCSS"})," para o Web e para o Mobile utilizo ",z.jsx("b",{className:"underline",children:"React Native"}),", Android SDK além de JavaScript, HTML, CSS e Firebase para ambos."]})})]})]});return z.jsxs("div",{className:"flex flex-col relative min-h-[100vh] h-auto w-full md:w-full sm:p-responsiveLayout md:p-layout justify-center items-center text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",children:[z.jsx("div",{className:"mt-5 md:mt-20",id:"about",children:z.jsx(vP,{isAbout:!0,children:t})}),z.jsx(ju,{classNameIn:"bg-myRed hover:bg-myRedHover sm:hover:border-y-[7px] lg:hover:border-y-[9px] ",classNameOut:"mt-12 sm:mt-8",text:"Download CV",onClick:e}),z.jsx("div",{className:"hidden sm:flex absolute left-0 bottom-20 md:bottom-10",children:z.jsxs("div",{className:"flex flex-col gap-y-3",children:[z.jsx("div",{className:"w-10 h-[2px] dark:bg-introDetails bg-backgroundDark"}),z.jsx("div",{className:"w-20 h-[2px] dark:bg-introDetails bg-backgroundDark"}),z.jsx("div",{className:"w-32 h-[2px] dark:bg-introDetails bg-backgroundDark"})]})})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xc="164",Nl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yP=0,e3=1,xP=2,sV=3,_P=0,q1=1,Yd=2,_s=3,no=0,nr=1,es=2,qs=0,tc=1,t3=2,n3=3,i3=4,AP=5,Ca=100,SP=101,MP=102,CP=103,wP=104,EP=200,TP=201,bP=202,RP=203,a1=204,l1=205,PP=206,IP=207,BP=208,LP=209,DP=210,NP=211,FP=212,OP=213,kP=214,UP=0,HP=1,zP=2,wh=3,GP=4,VP=5,WP=6,jP=7,cp=0,XP=1,JP=2,$s=0,KP=1,YP=2,ZP=3,GS=4,QP=5,qP=6,$P=7,r3="attached",e7="detached",Ja=300,io=301,Ka=302,of=303,Eh=304,Ef=306,Ya=1e3,Zn=1001,af=1002,Qn=1003,$1=1004,oV=1004,jl=1005,aV=1005,qt=1006,Xu=1007,lV=1007,rs=1008,s3=1008,Br=1009,VS=1010,WS=1011,jS=1012,ev=1013,Za=1014,qn=1015,vi=1016,XS=1017,JS=1018,Tf=1020,t7=35902,n7=1021,i7=1022,ci=1023,r7=1024,s7=1025,nc=1026,lf=1027,tv=1028,KS=1029,o7=1030,YS=1031,ZS=1033,yg=33776,xg=33777,_g=33778,Ag=33779,o3=35840,a3=35841,l3=35842,c3=35843,u3=36196,f3=37492,d3=37496,h3=37808,p3=37809,m3=37810,g3=37811,v3=37812,y3=37813,x3=37814,_3=37815,A3=37816,S3=37817,M3=37818,C3=37819,w3=37820,E3=37821,Sg=36492,T3=36494,b3=36495,a7=36283,R3=36284,P3=36285,I3=36286,l7=2200,c7=2201,u7=2202,cf=2300,dc=2301,Mg=2302,Xl=2400,Jl=2401,Th=2402,nv=2500,QS=2501,f7=0,qS=1,c1=2,d7=3200,h7=3201,rl=0,p7=1,bo="",Cr="srgb",us="srgb-linear",iv="display-p3",up="display-p3-linear",bh="linear",pn="srgb",Rh="rec709",Ph="p3",cV=0,Ol=7680,uV=7681,fV=7682,dV=7683,hV=34055,pV=34056,mV=5386,gV=512,vV=513,yV=514,xV=515,_V=516,AV=517,SV=518,B3=519,m7=512,g7=513,v7=514,$S=515,y7=516,x7=517,_7=518,A7=519,Ih=35044,MV=35048,CV=35040,wV=35045,EV=35049,TV=35041,bV=35046,RV=35050,PV=35042,IV="100",L3="300 es",Js=2e3,Bh=2001;class oo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let C5=1234567;const ic=Math.PI/180,uf=180/Math.PI;function Rr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ki[n&255]+ki[n>>8&255]+ki[n>>16&255]+ki[n>>24&255]+"-"+ki[e&255]+ki[e>>8&255]+"-"+ki[e>>16&15|64]+ki[e>>24&255]+"-"+ki[t&63|128]+ki[t>>8&255]+"-"+ki[t>>16&255]+ki[t>>24&255]+ki[i&255]+ki[i>>8&255]+ki[i>>16&255]+ki[i>>24&255]).toLowerCase()}function Vn(n,e,t){return Math.max(e,Math.min(t,n))}function e4(n,e){return(n%e+e)%e}function BV(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function LV(n,e,t){return n!==e?(t-n)/(e-n):0}function Zd(n,e,t){return(1-t)*n+t*e}function DV(n,e,t,i){return Zd(n,e,1-Math.exp(-t*i))}function NV(n,e=1){return e-Math.abs(e4(n,e*2)-e)}function FV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function OV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function kV(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UV(n,e){return n+Math.random()*(e-n)}function HV(n){return n*(.5-Math.random())}function zV(n){n!==void 0&&(C5=n);let e=C5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function GV(n){return n*ic}function VV(n){return n*uf}function WV(n){return(n&n-1)===0&&n!==0}function jV(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function XV(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function JV(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),f=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*f,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*f,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*f,a*c);break;case"XZX":n.set(a*f,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*f,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function $i(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Bt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ks={DEG2RAD:ic,RAD2DEG:uf,generateUUID:Rr,clamp:Vn,euclideanModulo:e4,mapLinear:BV,inverseLerp:LV,lerp:Zd,damp:DV,pingpong:NV,smoothstep:FV,smootherstep:OV,randInt:kV,randFloat:UV,randFloatSpread:HV,seededRandom:zV,degToRad:GV,radToDeg:VV,isPowerOfTwo:WV,ceilPowerOfTwo:jV,floorPowerOfTwo:XV,setQuaternionFromProperEuler:JV,normalize:Bt,denormalize:$i};class Te{constructor(e=0,t=0){Te.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class It{constructor(e,t,i,r,s,o,a,l,c){It.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=i,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],f=i[4],h=i[7],p=i[2],m=i[5],v=i[8],_=r[0],x=r[3],g=r[6],A=r[1],S=r[4],C=r[7],P=r[2],E=r[5],I=r[8];return s[0]=o*_+a*A+l*P,s[3]=o*x+a*S+l*E,s[6]=o*g+a*C+l*I,s[1]=c*_+f*A+h*P,s[4]=c*x+f*S+h*E,s[7]=c*g+f*C+h*I,s[2]=p*_+m*A+v*P,s[5]=p*x+m*S+v*E,s[8]=p*g+m*C+v*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return t*o*f-t*a*c-i*s*f+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*l-f*s,m=c*s-o*l,v=t*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=h*_,e[1]=(r*c-f*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(f*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-c*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(I2.makeScale(e,t)),this}rotate(e){return this.premultiply(I2.makeRotation(-e)),this}translate(e,t){return this.premultiply(I2.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const I2=new It;function S7(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const KV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Du(n,e){return new KV[n](e)}function Lh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function M7(){const n=Lh("canvas");return n.style.display="block",n}const w5={};function C7(n){n in w5||(w5[n]=!0,console.warn(n))}const E5=new It().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),T5=new It().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ym={[us]:{transfer:bh,primaries:Rh,toReference:n=>n,fromReference:n=>n},[Cr]:{transfer:pn,primaries:Rh,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[up]:{transfer:bh,primaries:Ph,toReference:n=>n.applyMatrix3(T5),fromReference:n=>n.applyMatrix3(E5)},[iv]:{transfer:pn,primaries:Ph,toReference:n=>n.convertSRGBToLinear().applyMatrix3(T5),fromReference:n=>n.applyMatrix3(E5).convertLinearToSRGB()}},YV=new Set([us,up]),cn={enabled:!0,_workingColorSpace:us,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!YV.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Ym[e].toReference,r=Ym[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Ym[n].primaries},getTransfer:function(n){return n===bo?bh:Ym[n].transfer}};function Ju(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function B2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Gc;class w7{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Gc===void 0&&(Gc=Lh("canvas")),Gc.width=e.width,Gc.height=e.height;const i=Gc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Gc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Lh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ju(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ju(t[i]/255)*255):t[i]=Ju(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZV=0;class Kl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZV++}),this.uuid=Rr(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(L2(r[o].image)):s.push(L2(r[o]))}else s=L2(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function L2(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?w7.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QV=0;class $t extends oo{constructor(e=$t.DEFAULT_IMAGE,t=$t.DEFAULT_MAPPING,i=Zn,r=Zn,s=qt,o=rs,a=ci,l=Br,c=$t.DEFAULT_ANISOTROPY,f=bo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QV++}),this.uuid=Rr(),this.name="",this.source=new Kl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ja)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ya:e.x=e.x-Math.floor(e.x);break;case Zn:e.x=e.x<0?0:1;break;case af:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ya:e.y=e.y-Math.floor(e.y);break;case Zn:e.y=e.y<0?0:1;break;case af:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}$t.DEFAULT_IMAGE=null;$t.DEFAULT_MAPPING=Ja;$t.DEFAULT_ANISOTROPY=1;class un{constructor(e=0,t=0,i=0,r=1){un.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],f=l[4],h=l[8],p=l[1],m=l[5],v=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-_)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+_)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,C=(m+1)/2,P=(g+1)/2,E=(f+p)/4,I=(h+_)/4,B=(v+x)/4;return S>C&&S>P?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=E/i,s=I/i):C>P?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=E/r,s=B/r):P<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(P),i=I/s,r=B/s),this.set(i,r,s,t),this}let A=Math.sqrt((x-v)*(x-v)+(h-_)*(h-_)+(p-f)*(p-f));return Math.abs(A)<.001&&(A=1),this.x=(x-v)/A,this.y=(h-_)/A,this.z=(p-f)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class E7 extends oo{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new un(0,0,e,t),this.scissorTest=!1,this.viewport=new un(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:qt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new $t(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Kl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ri extends E7{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class rv extends $t{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qV extends Ri{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new rv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class t4 extends $t{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $V extends Ri{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new t4(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class $n{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],f=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=_;return}if(h!==_||l!==p||c!==m||f!==v){let x=1-a;const g=l*p+c*m+f*v+h*_,A=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const P=Math.sqrt(S),E=Math.atan2(P,g*A);x=Math.sin(x*E)/P,a=Math.sin(a*E)/P}const C=a*A;if(l=l*x+p*C,c=c*x+m*C,f=f*x+v*C,h=h*x+_*C,x===1-a){const P=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=P,c*=P,f*=P,h*=P}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],f=i[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+f*h+l*m-c*p,e[t+1]=l*v+f*p+c*h-a*m,e[t+2]=c*v+f*m+a*p-l*h,e[t+3]=f*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),f=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"YXZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"ZXY":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"ZYX":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"YZX":this._x=p*f*h+c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h-p*m*v;break;case"XZY":this._x=p*f*h-c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],f=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,f=t._w;return this._x=i*f+o*a+r*c-s*l,this._y=r*f+o*l+s*a-i*c,this._z=s*f+o*c+i*l-r*a,this._w=o*f-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),h=Math.sin((1-t)*f)/c,p=Math.sin(t*f)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,i=0){H.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(b5.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(b5.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),f=2*(a*t-s*r),h=2*(s*i-o*t);return this.x=t+l*c+o*h-a*f,this.y=i+l*f+a*c-s*h,this.z=r+l*h+s*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return D2.copy(this).projectOnVector(e),this.sub(D2)}reflect(e){return this.sub(D2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const D2=new H,b5=new $n;class _i{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ms.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ms.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ms.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,ms):ms.fromBufferAttribute(s,o),ms.applyMatrix4(e.matrixWorld),this.expandByPoint(ms);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Zm.copy(i.boundingBox)),Zm.applyMatrix4(e.matrixWorld),this.union(Zm)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ms),ms.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ld),Qm.subVectors(this.max,ld),Vc.subVectors(e.a,ld),Wc.subVectors(e.b,ld),jc.subVectors(e.c,ld),oa.subVectors(Wc,Vc),aa.subVectors(jc,Wc),yl.subVectors(Vc,jc);let t=[0,-oa.z,oa.y,0,-aa.z,aa.y,0,-yl.z,yl.y,oa.z,0,-oa.x,aa.z,0,-aa.x,yl.z,0,-yl.x,-oa.y,oa.x,0,-aa.y,aa.x,0,-yl.y,yl.x,0];return!N2(t,Vc,Wc,jc,Qm)||(t=[1,0,0,0,1,0,0,0,1],!N2(t,Vc,Wc,jc,Qm))?!1:(qm.crossVectors(oa,aa),t=[qm.x,qm.y,qm.z],N2(t,Vc,Wc,jc,Qm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ms).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ms).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(go[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),go[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),go[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),go[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),go[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),go[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),go[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),go[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(go),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const go=[new H,new H,new H,new H,new H,new H,new H,new H],ms=new H,Zm=new _i,Vc=new H,Wc=new H,jc=new H,oa=new H,aa=new H,yl=new H,ld=new H,Qm=new H,qm=new H,xl=new H;function N2(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){xl.fromArray(n,s);const a=r.x*Math.abs(xl.x)+r.y*Math.abs(xl.y)+r.z*Math.abs(xl.z),l=e.dot(xl),c=t.dot(xl),f=i.dot(xl);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const eW=new _i,cd=new H,F2=new H;class Ai{constructor(e=new H,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):eW.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;cd.subVectors(e,this.center);const t=cd.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(cd,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(F2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(cd.copy(e.center).add(F2)),this.expandByPoint(cd.copy(e.center).sub(F2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vo=new H,O2=new H,$m=new H,la=new H,k2=new H,e0=new H,U2=new H;class _c{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vo.copy(this.origin).addScaledVector(this.direction,t),vo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){O2.copy(e).add(t).multiplyScalar(.5),$m.copy(t).sub(e).normalize(),la.copy(this.origin).sub(O2);const s=e.distanceTo(t)*.5,o=-this.direction.dot($m),a=la.dot(this.direction),l=-la.dot($m),c=la.lengthSq(),f=Math.abs(1-o*o);let h,p,m,v;if(f>0)if(h=o*l-a,p=o*a-l,v=s*f,h>=0)if(p>=-v)if(p<=v){const _=1/f;h*=_,p*=_,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(O2).addScaledVector($m,p),m}intersectSphere(e,t){vo.subVectors(e.center,this.origin);const i=vo.dot(this.direction),r=vo.dot(vo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,vo)!==null}intersectTriangle(e,t,i,r,s){k2.subVectors(t,e),e0.subVectors(i,e),U2.crossVectors(k2,e0);let o=this.direction.dot(U2),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;la.subVectors(this.origin,e);const l=a*this.direction.dot(e0.crossVectors(la,e0));if(l<0)return null;const c=a*this.direction.dot(k2.cross(la));if(c<0||l+c>o)return null;const f=-a*la.dot(U2);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(e,t,i,r,s,o,a,l,c,f,h,p,m,v,_,x){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,f,h,p,m,v,_,x)}set(e,t,i,r,s,o,a,l,c,f,h,p,m,v,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=f,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Xc.setFromMatrixColumn(e,0).length(),s=1/Xc.setFromMatrixColumn(e,1).length(),o=1/Xc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,v=a*f,_=a*h;t[0]=l*f,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-_*c,t[9]=-a*l,t[2]=_-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,v=c*f,_=c*h;t[0]=p+_*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=m*a-v,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,v=c*f,_=c*h;t[0]=p-_*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*f,t[9]=_-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,v=a*f,_=a*h;t[0]=l*f,t[4]=v*c-m,t[8]=p*c+_,t[1]=l*h,t[5]=_*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,_=a*c;t[0]=l*f,t[4]=_-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-c*f,t[6]=m*h+v,t[10]=p-_*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,_=a*c;t[0]=l*f,t[4]=-h,t[8]=c*f,t[1]=p*h+_,t[5]=o*f,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*f,t[10]=_*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tW,e,nW)}lookAt(e,t,i){const r=this.elements;return Ar.subVectors(e,t),Ar.lengthSq()===0&&(Ar.z=1),Ar.normalize(),ca.crossVectors(i,Ar),ca.lengthSq()===0&&(Math.abs(i.z)===1?Ar.x+=1e-4:Ar.z+=1e-4,Ar.normalize(),ca.crossVectors(i,Ar)),ca.normalize(),t0.crossVectors(Ar,ca),r[0]=ca.x,r[4]=t0.x,r[8]=Ar.x,r[1]=ca.y,r[5]=t0.y,r[9]=Ar.y,r[2]=ca.z,r[6]=t0.z,r[10]=Ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],f=i[1],h=i[5],p=i[9],m=i[13],v=i[2],_=i[6],x=i[10],g=i[14],A=i[3],S=i[7],C=i[11],P=i[15],E=r[0],I=r[4],B=r[8],R=r[12],b=r[1],k=r[5],Y=r[9],G=r[13],q=r[2],$=r[6],ie=r[10],pe=r[14],F=r[3],K=r[7],V=r[11],ne=r[15];return s[0]=o*E+a*b+l*q+c*F,s[4]=o*I+a*k+l*$+c*K,s[8]=o*B+a*Y+l*ie+c*V,s[12]=o*R+a*G+l*pe+c*ne,s[1]=f*E+h*b+p*q+m*F,s[5]=f*I+h*k+p*$+m*K,s[9]=f*B+h*Y+p*ie+m*V,s[13]=f*R+h*G+p*pe+m*ne,s[2]=v*E+_*b+x*q+g*F,s[6]=v*I+_*k+x*$+g*K,s[10]=v*B+_*Y+x*ie+g*V,s[14]=v*R+_*G+x*pe+g*ne,s[3]=A*E+S*b+C*q+P*F,s[7]=A*I+S*k+C*$+P*K,s[11]=A*B+S*Y+C*ie+P*V,s[15]=A*R+S*G+C*pe+P*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],m=e[14],v=e[3],_=e[7],x=e[11],g=e[15];return v*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+_*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*f-s*l*f)+x*(+t*c*h-t*a*m-s*o*h+i*o*m+s*a*f-i*c*f)+g*(-r*a*f-t*l*h+t*a*p+r*o*h-i*o*p+i*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],m=e[11],v=e[12],_=e[13],x=e[14],g=e[15],A=h*x*c-_*p*c+_*l*m-a*x*m-h*l*g+a*p*g,S=v*p*c-f*x*c-v*l*m+o*x*m+f*l*g-o*p*g,C=f*_*c-v*h*c+v*a*m-o*_*m-f*a*g+o*h*g,P=v*h*l-f*_*l-v*a*p+o*_*p+f*a*x-o*h*x,E=t*A+i*S+r*C+s*P;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/E;return e[0]=A*I,e[1]=(_*p*s-h*x*s-_*r*m+i*x*m+h*r*g-i*p*g)*I,e[2]=(a*x*s-_*l*s+_*r*c-i*x*c-a*r*g+i*l*g)*I,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*I,e[4]=S*I,e[5]=(f*x*s-v*p*s+v*r*m-t*x*m-f*r*g+t*p*g)*I,e[6]=(v*l*s-o*x*s-v*r*c+t*x*c+o*r*g-t*l*g)*I,e[7]=(o*p*s-f*l*s+f*r*c-t*p*c-o*r*m+t*l*m)*I,e[8]=C*I,e[9]=(v*h*s-f*_*s-v*i*m+t*_*m+f*i*g-t*h*g)*I,e[10]=(o*_*s-v*a*s+v*i*c-t*_*c-o*i*g+t*a*g)*I,e[11]=(f*a*s-o*h*s-f*i*c+t*h*c+o*i*m-t*a*m)*I,e[12]=P*I,e[13]=(f*_*r-v*h*r+v*i*p-t*_*p-f*i*x+t*h*x)*I,e[14]=(v*a*r-o*_*r-v*i*l+t*_*l+o*i*x-t*a*x)*I,e[15]=(o*h*r-f*a*r+f*i*l-t*h*l-o*i*p+t*a*p)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,f*a+i,f*l-r*o,0,c*l-r*a,f*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,f=o+o,h=a+a,p=s*c,m=s*f,v=s*h,_=o*f,x=o*h,g=a*h,A=l*c,S=l*f,C=l*h,P=i.x,E=i.y,I=i.z;return r[0]=(1-(_+g))*P,r[1]=(m+C)*P,r[2]=(v-S)*P,r[3]=0,r[4]=(m-C)*E,r[5]=(1-(p+g))*E,r[6]=(x+A)*E,r[7]=0,r[8]=(v+S)*I,r[9]=(x-A)*I,r[10]=(1-(p+_))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Xc.set(r[0],r[1],r[2]).length();const o=Xc.set(r[4],r[5],r[6]).length(),a=Xc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],gs.copy(this);const c=1/s,f=1/o,h=1/a;return gs.elements[0]*=c,gs.elements[1]*=c,gs.elements[2]*=c,gs.elements[4]*=f,gs.elements[5]*=f,gs.elements[6]*=f,gs.elements[8]*=h,gs.elements[9]*=h,gs.elements[10]*=h,t.setFromRotationMatrix(gs),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Js){const l=this.elements,c=2*s/(t-e),f=2*s/(i-r),h=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Js)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Bh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Js){const l=this.elements,c=1/(t-e),f=1/(i-r),h=1/(o-s),p=(t+e)*c,m=(i+r)*f;let v,_;if(a===Js)v=(o+s)*h,_=-2*h;else if(a===Bh)v=s*h,_=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Xc=new H,gs=new dt,tW=new H(0,0,0),nW=new H(1,1,1),ca=new H,t0=new H,Ar=new H,R5=new dt,P5=new $n;class ir{constructor(e=0,t=0,i=0,r=ir.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],f=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return R5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(R5,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return P5.setFromEuler(this),this.setFromQuaternion(P5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ir.DEFAULT_ORDER="XYZ";class rc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let iW=0;const I5=new H,Jc=new $n,yo=new dt,n0=new H,ud=new H,rW=new H,sW=new $n,B5=new H(1,0,0),L5=new H(0,1,0),D5=new H(0,0,1),N5={type:"added"},oW={type:"removed"},Kc={type:"childadded",child:null},H2={type:"childremoved",child:null};class Wt extends oo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:iW++}),this.uuid=Rr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DEFAULT_UP.clone();const e=new H,t=new ir,i=new $n,r=new H(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dt},normalMatrix:{value:new It}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=Wt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jc.setFromAxisAngle(e,t),this.quaternion.multiply(Jc),this}rotateOnWorldAxis(e,t){return Jc.setFromAxisAngle(e,t),this.quaternion.premultiply(Jc),this}rotateX(e){return this.rotateOnAxis(B5,e)}rotateY(e){return this.rotateOnAxis(L5,e)}rotateZ(e){return this.rotateOnAxis(D5,e)}translateOnAxis(e,t){return I5.copy(e).applyQuaternion(this.quaternion),this.position.add(I5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(B5,e)}translateY(e){return this.translateOnAxis(L5,e)}translateZ(e){return this.translateOnAxis(D5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?n0.copy(e):n0.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ud.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yo.lookAt(ud,n0,this.up):yo.lookAt(n0,ud,this.up),this.quaternion.setFromRotationMatrix(yo),r&&(yo.extractRotation(r.matrixWorld),Jc.setFromRotationMatrix(yo),this.quaternion.premultiply(Jc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(N5),Kc.child=e,this.dispatchEvent(Kc),Kc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(oW),H2.child=e,this.dispatchEvent(H2),H2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yo.multiply(e.parent.matrixWorld)),e.applyMatrix4(yo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(N5),Kc.child=e,this.dispatchEvent(Kc),Kc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ud,e,rW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ud,sW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),f.length>0&&(i.images=f),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Wt.DEFAULT_UP=new H(0,1,0);Wt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const vs=new H,xo=new H,z2=new H,_o=new H,Yc=new H,Zc=new H,F5=new H,G2=new H,V2=new H,W2=new H;class wr{constructor(e=new H,t=new H,i=new H){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),vs.subVectors(e,t),r.cross(vs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){vs.subVectors(r,t),xo.subVectors(i,t),z2.subVectors(e,t);const o=vs.dot(vs),a=vs.dot(xo),l=vs.dot(z2),c=xo.dot(xo),f=xo.dot(z2),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(c*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,_o)===null?!1:_o.x>=0&&_o.y>=0&&_o.x+_o.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,_o)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,_o.x),l.addScaledVector(o,_o.y),l.addScaledVector(a,_o.z),l)}static isFrontFacing(e,t,i,r){return vs.subVectors(i,t),xo.subVectors(e,t),vs.cross(xo).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return vs.subVectors(this.c,this.b),xo.subVectors(this.a,this.b),vs.cross(xo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return wr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return wr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return wr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Yc.subVectors(r,i),Zc.subVectors(s,i),G2.subVectors(e,i);const l=Yc.dot(G2),c=Zc.dot(G2);if(l<=0&&c<=0)return t.copy(i);V2.subVectors(e,r);const f=Yc.dot(V2),h=Zc.dot(V2);if(f>=0&&h<=f)return t.copy(r);const p=l*h-f*c;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(i).addScaledVector(Yc,o);W2.subVectors(e,s);const m=Yc.dot(W2),v=Zc.dot(W2);if(v>=0&&m<=v)return t.copy(s);const _=m*c-l*v;if(_<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(Zc,a);const x=f*v-m*h;if(x<=0&&h-f>=0&&m-v>=0)return F5.subVectors(s,r),a=(h-f)/(h-f+(m-v)),t.copy(r).addScaledVector(F5,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(Yc,o).addScaledVector(Zc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const T7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ua={h:0,s:0,l:0},i0={h:0,s:0,l:0};function j2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class We{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Cr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=cn.workingColorSpace){return this.r=e,this.g=t,this.b=i,cn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=cn.workingColorSpace){if(e=e4(e,1),t=Vn(t,0,1),i=Vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=j2(o,s,e+1/3),this.g=j2(o,s,e),this.b=j2(o,s,e-1/3)}return cn.toWorkingColorSpace(this,r),this}setStyle(e,t=Cr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Cr){const i=T7[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ju(e.r),this.g=Ju(e.g),this.b=Ju(e.b),this}copyLinearToSRGB(e){return this.r=B2(e.r),this.g=B2(e.g),this.b=B2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Cr){return cn.fromWorkingColorSpace(Ui.copy(this),e),Math.round(Vn(Ui.r*255,0,255))*65536+Math.round(Vn(Ui.g*255,0,255))*256+Math.round(Vn(Ui.b*255,0,255))}getHexString(e=Cr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=cn.workingColorSpace){cn.fromWorkingColorSpace(Ui.copy(this),t);const i=Ui.r,r=Ui.g,s=Ui.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=cn.workingColorSpace){return cn.fromWorkingColorSpace(Ui.copy(this),t),e.r=Ui.r,e.g=Ui.g,e.b=Ui.b,e}getStyle(e=Cr){cn.fromWorkingColorSpace(Ui.copy(this),e);const t=Ui.r,i=Ui.g,r=Ui.b;return e!==Cr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(ua),this.setHSL(ua.h+e,ua.s+t,ua.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ua),e.getHSL(i0);const i=Zd(ua.h,i0.h,t),r=Zd(ua.s,i0.s,t),s=Zd(ua.l,i0.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ui=new We;We.NAMES=T7;let aW=0;class si extends oo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:aW++}),this.uuid=Rr(),this.name="",this.type="Material",this.blending=tc,this.side=no,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=a1,this.blendDst=l1,this.blendEquation=Ca,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new We(0,0,0),this.blendAlpha=0,this.depthFunc=wh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=B3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ol,this.stencilZFail=Ol,this.stencilZPass=Ol,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==tc&&(i.blending=this.blending),this.side!==no&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==a1&&(i.blendSrc=this.blendSrc),this.blendDst!==l1&&(i.blendDst=this.blendDst),this.blendEquation!==Ca&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==wh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==B3&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ol&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ol&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ol&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class hr extends si{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=cp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ro=lW();function lW(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ur(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Vn(n,-65504,65504),Ro.floatView[0]=n;const e=Ro.uint32View[0],t=e>>23&511;return Ro.baseTable[t]+((e&8388607)>>Ro.shiftTable[t])}function Ld(n){const e=n>>10;return Ro.uint32View[0]=Ro.mantissaTable[Ro.offsetTable[e]+(n&1023)]+Ro.exponentTable[e],Ro.floatView[0]}const Yl={toHalfFloat:ur,fromHalfFloat:Ld},ni=new H,r0=new Te;class jt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ih,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=qn,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return C7("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)r0.fromBufferAttribute(this,t),r0.applyMatrix3(e),this.setXY(t,r0.x,r0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix3(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix4(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ni.fromBufferAttribute(this,t),ni.applyNormalMatrix(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ni.fromBufferAttribute(this,t),ni.transformDirection(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=$i(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Bt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=$i(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=$i(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=$i(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=$i(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array),s=Bt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ih&&(e.usage=this.usage),e}}class cW extends jt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class uW extends jt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class fW extends jt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class dW extends jt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class n4 extends jt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class hW extends jt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class i4 extends jt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class pW extends jt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Ld(this.array[e*this.itemSize]);return this.normalized&&(t=$i(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize]=ur(t),this}getY(e){let t=Ld(this.array[e*this.itemSize+1]);return this.normalized&&(t=$i(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+1]=ur(t),this}getZ(e){let t=Ld(this.array[e*this.itemSize+2]);return this.normalized&&(t=$i(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+2]=ur(t),this}getW(e){let t=Ld(this.array[e*this.itemSize+3]);return this.normalized&&(t=$i(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+3]=ur(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array)),this.array[e+0]=ur(t),this.array[e+1]=ur(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array)),this.array[e+0]=ur(t),this.array[e+1]=ur(i),this.array[e+2]=ur(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array),s=Bt(s,this.array)),this.array[e+0]=ur(t),this.array[e+1]=ur(i),this.array[e+2]=ur(r),this.array[e+3]=ur(s),this}}class st extends jt{constructor(e,t,i){super(new Float32Array(e),t,i)}}let mW=0;const Xr=new dt,X2=new Wt,Qc=new H,Sr=new _i,fd=new _i,mi=new H;class Pt extends oo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mW++}),this.uuid=Rr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(S7(e)?i4:n4)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new It().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xr.makeRotationFromQuaternion(e),this.applyMatrix4(Xr),this}rotateX(e){return Xr.makeRotationX(e),this.applyMatrix4(Xr),this}rotateY(e){return Xr.makeRotationY(e),this.applyMatrix4(Xr),this}rotateZ(e){return Xr.makeRotationZ(e),this.applyMatrix4(Xr),this}translate(e,t,i){return Xr.makeTranslation(e,t,i),this.applyMatrix4(Xr),this}scale(e,t,i){return Xr.makeScale(e,t,i),this.applyMatrix4(Xr),this}lookAt(e){return X2.lookAt(e),X2.updateMatrix(),this.applyMatrix4(X2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new st(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _i);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Sr.setFromBufferAttribute(s),this.morphTargetsRelative?(mi.addVectors(this.boundingBox.min,Sr.min),this.boundingBox.expandByPoint(mi),mi.addVectors(this.boundingBox.max,Sr.max),this.boundingBox.expandByPoint(mi)):(this.boundingBox.expandByPoint(Sr.min),this.boundingBox.expandByPoint(Sr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){const i=this.boundingSphere.center;if(Sr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];fd.setFromBufferAttribute(a),this.morphTargetsRelative?(mi.addVectors(Sr.min,fd.min),Sr.expandByPoint(mi),mi.addVectors(Sr.max,fd.max),Sr.expandByPoint(mi)):(Sr.expandByPoint(fd.min),Sr.expandByPoint(fd.max))}Sr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)mi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(mi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)mi.fromBufferAttribute(a,c),l&&(Qc.fromBufferAttribute(e,c),mi.add(Qc)),r=Math.max(r,i.distanceToSquared(mi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jt(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let B=0;B<i.count;B++)a[B]=new H,l[B]=new H;const c=new H,f=new H,h=new H,p=new Te,m=new Te,v=new Te,_=new H,x=new H;function g(B,R,b){c.fromBufferAttribute(i,B),f.fromBufferAttribute(i,R),h.fromBufferAttribute(i,b),p.fromBufferAttribute(s,B),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,b),f.sub(c),h.sub(c),m.sub(p),v.sub(p);const k=1/(m.x*v.y-v.x*m.y);isFinite(k)&&(_.copy(f).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(k),x.copy(h).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(k),a[B].add(_),a[R].add(_),a[b].add(_),l[B].add(x),l[R].add(x),l[b].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let B=0,R=A.length;B<R;++B){const b=A[B],k=b.start,Y=b.count;for(let G=k,q=k+Y;G<q;G+=3)g(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const S=new H,C=new H,P=new H,E=new H;function I(B){P.fromBufferAttribute(r,B),E.copy(P);const R=a[B];S.copy(R),S.sub(P.multiplyScalar(P.dot(R))).normalize(),C.crossVectors(E,R);const k=C.dot(l[B])<0?-1:1;o.setXYZW(B,S.x,S.y,S.z,k)}for(let B=0,R=A.length;B<R;++B){const b=A[B],k=b.start,Y=b.count;for(let G=k,q=k+Y;G<q;G+=3)I(e.getX(G+0)),I(e.getX(G+1)),I(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new jt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new H,s=new H,o=new H,a=new H,l=new H,c=new H,f=new H,h=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,x),a.add(f),l.add(f),c.add(f),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)mi.fromBufferAttribute(e,t),mi.normalize(),e.setXYZ(t,mi.x,mi.y,mi.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(l.length*f);let m=0,v=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*f;for(let g=0;g<f;g++)p[v++]=c[m++]}return new jt(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const O5=new dt,_l=new _c,s0=new Ai,k5=new H,qc=new H,$c=new H,eu=new H,J2=new H,o0=new H,a0=new Te,l0=new Te,c0=new Te,U5=new H,H5=new H,z5=new H,u0=new H,f0=new H;class An extends Wt{constructor(e=new Pt,t=new hr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){o0.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],h=s[l];f!==0&&(J2.fromBufferAttribute(h,e),o?o0.addScaledVector(J2,f):o0.addScaledVector(J2.sub(t),f))}t.add(o0)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),s0.copy(i.boundingSphere),s0.applyMatrix4(s),_l.copy(e.ray).recast(e.near),!(s0.containsPoint(_l.origin)===!1&&(_l.intersectSphere(s0,k5)===null||_l.origin.distanceToSquared(k5)>(e.far-e.near)**2))&&(O5.copy(s).invert(),_l.copy(e.ray).applyMatrix4(O5),!(i.boundingBox!==null&&_l.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,_l)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],A=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let C=A,P=S;C<P;C+=3){const E=a.getX(C),I=a.getX(C+1),B=a.getX(C+2);r=d0(this,g,e,i,c,f,h,E,I,B),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const A=a.getX(x),S=a.getX(x+1),C=a.getX(x+2);r=d0(this,o,e,i,c,f,h,A,S,C),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],A=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let C=A,P=S;C<P;C+=3){const E=C,I=C+1,B=C+2;r=d0(this,g,e,i,c,f,h,E,I,B),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const A=x,S=x+1,C=x+2;r=d0(this,o,e,i,c,f,h,A,S,C),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function gW(n,e,t,i,r,s,o,a){let l;if(e.side===nr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===no,a),l===null)return null;f0.copy(a),f0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(f0);return c<t.near||c>t.far?null:{distance:c,point:f0.clone(),object:n}}function d0(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,qc),n.getVertexPosition(l,$c),n.getVertexPosition(c,eu);const f=gW(n,e,t,i,qc,$c,eu,u0);if(f){r&&(a0.fromBufferAttribute(r,a),l0.fromBufferAttribute(r,l),c0.fromBufferAttribute(r,c),f.uv=wr.getInterpolation(u0,qc,$c,eu,a0,l0,c0,new Te)),s&&(a0.fromBufferAttribute(s,a),l0.fromBufferAttribute(s,l),c0.fromBufferAttribute(s,c),f.uv1=wr.getInterpolation(u0,qc,$c,eu,a0,l0,c0,new Te)),o&&(U5.fromBufferAttribute(o,a),H5.fromBufferAttribute(o,l),z5.fromBufferAttribute(o,c),f.normal=wr.getInterpolation(u0,qc,$c,eu,U5,H5,z5,new H),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new H,materialIndex:0};wr.getNormal(qc,$c,eu,h.normal),f.face=h}return f}class Ac extends Pt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new st(c,3)),this.setAttribute("normal",new st(f,3)),this.setAttribute("uv",new st(h,2));function v(_,x,g,A,S,C,P,E,I,B,R){const b=C/I,k=P/B,Y=C/2,G=P/2,q=E/2,$=I+1,ie=B+1;let pe=0,F=0;const K=new H;for(let V=0;V<ie;V++){const ne=V*k-G;for(let ue=0;ue<$;ue++){const Be=ue*b-Y;K[_]=Be*A,K[x]=ne*S,K[g]=q,c.push(K.x,K.y,K.z),K[_]=0,K[x]=0,K[g]=E>0?1:-1,f.push(K.x,K.y,K.z),h.push(ue/I),h.push(1-V/B),pe+=1}}for(let V=0;V<B;V++)for(let ne=0;ne<I;ne++){const ue=p+ne+$*V,Be=p+ne+$*(V+1),se=p+(ne+1)+$*(V+1),we=p+(ne+1)+$*V;l.push(ue,Be,we),l.push(Be,se,we),F+=6}a.addGroup(m,F,R),m+=F,p+=pe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ac(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ff(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Qi(n){const e={};for(let t=0;t<n.length;t++){const i=ff(n[t]);for(const r in i)e[r]=i[r]}return e}function vW(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function b7(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:cn.workingColorSpace}const r4={clone:ff,merge:Qi};var yW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Pi extends si{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yW,this.fragmentShader=xW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ff(e.uniforms),this.uniformsGroups=vW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class fp extends Wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt,this.coordinateSystem=Js}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const fa=new H,G5=new Te,V5=new Te;class Ln extends fp{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=uf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ic*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return uf*2*Math.atan(Math.tan(ic*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){fa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(fa.x,fa.y).multiplyScalar(-e/fa.z),fa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(fa.x,fa.y).multiplyScalar(-e/fa.z)}getViewSize(e,t){return this.getViewBounds(e,G5,V5),t.subVectors(V5,G5)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ic*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const tu=-90,nu=1;class R7 extends Wt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ln(tu,nu,e,t);r.layers=this.layers,this.add(r);const s=new Ln(tu,nu,e,t);s.layers=this.layers,this.add(s);const o=new Ln(tu,nu,e,t);o.layers=this.layers,this.add(o);const a=new Ln(tu,nu,e,t);a.layers=this.layers,this.add(a);const l=new Ln(tu,nu,e,t);l.layers=this.layers,this.add(l);const c=new Ln(tu,nu,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Js)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Bh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,f]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,f),e.setRenderTarget(h,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class dp extends $t{constructor(e,t,i,r,s,o,a,l,c,f){e=e!==void 0?e:[],t=t!==void 0?t:io,super(e,t,i,r,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class s4 extends Ri{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new dp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:qt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ac(5,5,5),s=new Pi({name:"CubemapFromEquirect",uniforms:ff(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:nr,blending:qs});s.uniforms.tEquirect.value=t;const o=new An(r,s),a=t.minFilter;return t.minFilter===rs&&(t.minFilter=qt),new R7(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const K2=new H,_W=new H,AW=new It;class Eo{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=K2.subVectors(i,t).cross(_W.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(K2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||AW.getNormalMatrix(e),r=this.coplanarPoint(K2).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Al=new Ai,h0=new H;class hp{constructor(e=new Eo,t=new Eo,i=new Eo,r=new Eo,s=new Eo,o=new Eo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Js){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],f=r[5],h=r[6],p=r[7],m=r[8],v=r[9],_=r[10],x=r[11],g=r[12],A=r[13],S=r[14],C=r[15];if(i[0].setComponents(l-s,p-c,x-m,C-g).normalize(),i[1].setComponents(l+s,p+c,x+m,C+g).normalize(),i[2].setComponents(l+o,p+f,x+v,C+A).normalize(),i[3].setComponents(l-o,p-f,x-v,C-A).normalize(),i[4].setComponents(l-a,p-h,x-_,C-S).normalize(),t===Js)i[5].setComponents(l+a,p+h,x+_,C+S).normalize();else if(t===Bh)i[5].setComponents(a,h,_,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Al.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Al.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Al)}intersectsSprite(e){return Al.center.set(0,0,0),Al.radius=.7071067811865476,Al.applyMatrix4(e.matrixWorld),this.intersectsSphere(Al)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(h0.x=r.normal.x>0?e.max.x:e.min.x,h0.y=r.normal.y>0?e.max.y:e.min.y,h0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(h0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function P7(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function SW(n){const e=new WeakMap;function t(a,l){const c=a.array,f=a.usage,h=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,f),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function i(a,l,c){const f=l.array,h=l._updateRange,p=l.updateRanges;if(n.bindBuffer(c,a),h.count===-1&&p.length===0&&n.bufferSubData(c,0,f),p.length!==0){for(let m=0,v=p.length;m<v;m++){const _=p[m];n.bufferSubData(c,_.start*f.BYTES_PER_ELEMENT,f,_.start,_.count)}l.clearUpdateRanges()}h.count!==-1&&(n.bufferSubData(c,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class Jo extends Pt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,f=l+1,h=e/a,p=t/l,m=[],v=[],_=[],x=[];for(let g=0;g<f;g++){const A=g*p-o;for(let S=0;S<c;S++){const C=S*h-s;v.push(C,-A,0),_.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const S=A+c*g,C=A+c*(g+1),P=A+1+c*(g+1),E=A+1+c*g;m.push(S,C,E),m.push(C,P,E)}this.setIndex(m),this.setAttribute("position",new st(v,3)),this.setAttribute("normal",new st(_,3)),this.setAttribute("uv",new st(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jo(e.width,e.height,e.widthSegments,e.heightSegments)}}var MW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,CW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,wW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,EW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TW=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,PW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IW=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,BW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,LW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,DW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,NW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,OW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,UW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,GW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,VW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,jW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,XW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,JW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,KW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,YW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ZW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,QW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$W="gl_FragColor = linearToOutputTexel( gl_FragColor );",ej=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,tj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nj=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ij=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,rj=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,oj=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aj=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lj=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cj=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uj=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,fj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,dj=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hj=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,pj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,mj=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,gj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,vj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,yj=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_j=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Aj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Sj=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Mj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Cj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,wj=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Ej=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Tj=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bj=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Rj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Pj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ij=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Bj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Lj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Dj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Nj=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Fj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Oj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,kj=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Uj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Hj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Gj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Wj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,jj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Xj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Jj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Kj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Yj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Zj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Qj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$j=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eX=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tX=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nX=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iX=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rX=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,sX=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oX=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aX=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lX=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cX=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,uX=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fX=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dX=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hX=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pX=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mX=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gX=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,vX=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,yX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_X=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AX=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const SX=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,MX=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wX=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,RX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,PX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,IX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,BX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,LX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DX=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,OX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,VX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,WX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,JX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,QX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$X=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,eJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:MW,alphahash_pars_fragment:CW,alphamap_fragment:wW,alphamap_pars_fragment:EW,alphatest_fragment:TW,alphatest_pars_fragment:bW,aomap_fragment:RW,aomap_pars_fragment:PW,batching_pars_vertex:IW,batching_vertex:BW,begin_vertex:LW,beginnormal_vertex:DW,bsdfs:NW,iridescence_fragment:FW,bumpmap_pars_fragment:OW,clipping_planes_fragment:kW,clipping_planes_pars_fragment:UW,clipping_planes_pars_vertex:HW,clipping_planes_vertex:zW,color_fragment:GW,color_pars_fragment:VW,color_pars_vertex:WW,color_vertex:jW,common:XW,cube_uv_reflection_fragment:JW,defaultnormal_vertex:KW,displacementmap_pars_vertex:YW,displacementmap_vertex:ZW,emissivemap_fragment:QW,emissivemap_pars_fragment:qW,colorspace_fragment:$W,colorspace_pars_fragment:ej,envmap_fragment:tj,envmap_common_pars_fragment:nj,envmap_pars_fragment:ij,envmap_pars_vertex:rj,envmap_physical_pars_fragment:mj,envmap_vertex:sj,fog_vertex:oj,fog_pars_vertex:aj,fog_fragment:lj,fog_pars_fragment:cj,gradientmap_pars_fragment:uj,lightmap_pars_fragment:fj,lights_lambert_fragment:dj,lights_lambert_pars_fragment:hj,lights_pars_begin:pj,lights_toon_fragment:gj,lights_toon_pars_fragment:vj,lights_phong_fragment:yj,lights_phong_pars_fragment:xj,lights_physical_fragment:_j,lights_physical_pars_fragment:Aj,lights_fragment_begin:Sj,lights_fragment_maps:Mj,lights_fragment_end:Cj,logdepthbuf_fragment:wj,logdepthbuf_pars_fragment:Ej,logdepthbuf_pars_vertex:Tj,logdepthbuf_vertex:bj,map_fragment:Rj,map_pars_fragment:Pj,map_particle_fragment:Ij,map_particle_pars_fragment:Bj,metalnessmap_fragment:Lj,metalnessmap_pars_fragment:Dj,morphinstance_vertex:Nj,morphcolor_vertex:Fj,morphnormal_vertex:Oj,morphtarget_pars_vertex:kj,morphtarget_vertex:Uj,normal_fragment_begin:Hj,normal_fragment_maps:zj,normal_pars_fragment:Gj,normal_pars_vertex:Vj,normal_vertex:Wj,normalmap_pars_fragment:jj,clearcoat_normal_fragment_begin:Xj,clearcoat_normal_fragment_maps:Jj,clearcoat_pars_fragment:Kj,iridescence_pars_fragment:Yj,opaque_fragment:Zj,packing:Qj,premultiplied_alpha_fragment:qj,project_vertex:$j,dithering_fragment:eX,dithering_pars_fragment:tX,roughnessmap_fragment:nX,roughnessmap_pars_fragment:iX,shadowmap_pars_fragment:rX,shadowmap_pars_vertex:sX,shadowmap_vertex:oX,shadowmask_pars_fragment:aX,skinbase_vertex:lX,skinning_pars_vertex:cX,skinning_vertex:uX,skinnormal_vertex:fX,specularmap_fragment:dX,specularmap_pars_fragment:hX,tonemapping_fragment:pX,tonemapping_pars_fragment:mX,transmission_fragment:gX,transmission_pars_fragment:vX,uv_pars_fragment:yX,uv_pars_vertex:xX,uv_vertex:_X,worldpos_vertex:AX,background_vert:SX,background_frag:MX,backgroundCube_vert:CX,backgroundCube_frag:wX,cube_vert:EX,cube_frag:TX,depth_vert:bX,depth_frag:RX,distanceRGBA_vert:PX,distanceRGBA_frag:IX,equirect_vert:BX,equirect_frag:LX,linedashed_vert:DX,linedashed_frag:NX,meshbasic_vert:FX,meshbasic_frag:OX,meshlambert_vert:kX,meshlambert_frag:UX,meshmatcap_vert:HX,meshmatcap_frag:zX,meshnormal_vert:GX,meshnormal_frag:VX,meshphong_vert:WX,meshphong_frag:jX,meshphysical_vert:XX,meshphysical_frag:JX,meshtoon_vert:KX,meshtoon_frag:YX,points_vert:ZX,points_frag:QX,shadow_vert:qX,shadow_frag:$X,sprite_vert:eJ,sprite_frag:tJ},Xe={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new It}},envmap:{envMap:{value:null},envMapRotation:{value:new It},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new It}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new It}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new It},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new It},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new It},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new It}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new It}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new It}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0},uvTransform:{value:new It}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}}},Ms={basic:{uniforms:Qi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:Qi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:Qi([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:Qi([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:Qi([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new We(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:Qi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:Qi([Xe.points,Xe.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:Qi([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:Qi([Xe.common,Xe.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:Qi([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:Qi([Xe.sprite,Xe.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new It}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:Qi([Xe.common,Xe.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:Qi([Xe.lights,Xe.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};Ms.physical={uniforms:Qi([Ms.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new It},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new It},clearcoatNormalScale:{value:new Te(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new It},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new It},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new It},sheen:{value:0},sheenColor:{value:new We(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new It},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new It},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new It},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new It},attenuationDistance:{value:0},attenuationColor:{value:new We(0)},specularColor:{value:new We(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new It},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new It},anisotropyVector:{value:new Te},anisotropyMap:{value:null},anisotropyMapTransform:{value:new It}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const p0={r:0,b:0,g:0},Sl=new ir,nJ=new dt;function iJ(n,e,t,i,r,s,o){const a=new We(0);let l=s===!0?0:1,c,f,h=null,p=0,m=null;function v(A){let S=A.isScene===!0?A.background:null;return S&&S.isTexture&&(S=(A.backgroundBlurriness>0?t:e).get(S)),S}function _(A){let S=!1;const C=v(A);C===null?g(a,l):C&&C.isColor&&(g(C,1),S=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil)}function x(A,S){const C=v(S);C&&(C.isCubeTexture||C.mapping===Ef)?(f===void 0&&(f=new An(new Ac(1,1,1),new Pi({name:"BackgroundCubeMaterial",uniforms:ff(Ms.backgroundCube.uniforms),vertexShader:Ms.backgroundCube.vertexShader,fragmentShader:Ms.backgroundCube.fragmentShader,side:nr,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,E,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),Sl.copy(S.backgroundRotation),Sl.x*=-1,Sl.y*=-1,Sl.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Sl.y*=-1,Sl.z*=-1),f.material.uniforms.envMap.value=C,f.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(nJ.makeRotationFromEuler(Sl)),f.material.toneMapped=cn.getTransfer(C.colorSpace)!==pn,(h!==C||p!==C.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=C,p=C.version,m=n.toneMapping),f.layers.enableAll(),A.unshift(f,f.geometry,f.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new An(new Jo(2,2),new Pi({name:"BackgroundMaterial",uniforms:ff(Ms.background.uniforms),vertexShader:Ms.background.vertexShader,fragmentShader:Ms.background.fragmentShader,side:no,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=cn.getTransfer(C.colorSpace)!==pn,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||p!==C.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=C,p=C.version,m=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function g(A,S){A.getRGB(p0,b7(n)),i.buffers.color.setClear(p0.r,p0.g,p0.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(A,S=1){a.set(A),l=S,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,g(a,l)},render:_,addToRenderList:x}}function rJ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(b,k,Y,G,q){let $=!1;const ie=h(G,Y,k);s!==ie&&(s=ie,c(s.object)),$=m(b,G,Y,q),$&&v(b,G,Y,q),q!==null&&e.update(q,n.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,C(b,k,Y,G),q!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return n.createVertexArray()}function c(b){return n.bindVertexArray(b)}function f(b){return n.deleteVertexArray(b)}function h(b,k,Y){const G=Y.wireframe===!0;let q=i[b.id];q===void 0&&(q={},i[b.id]=q);let $=q[k.id];$===void 0&&($={},q[k.id]=$);let ie=$[G];return ie===void 0&&(ie=p(l()),$[G]=ie),ie}function p(b){const k=[],Y=[],G=[];for(let q=0;q<t;q++)k[q]=0,Y[q]=0,G[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:Y,attributeDivisors:G,object:b,attributes:{},index:null}}function m(b,k,Y,G){const q=s.attributes,$=k.attributes;let ie=0;const pe=Y.getAttributes();for(const F in pe)if(pe[F].location>=0){const V=q[F];let ne=$[F];if(ne===void 0&&(F==="instanceMatrix"&&b.instanceMatrix&&(ne=b.instanceMatrix),F==="instanceColor"&&b.instanceColor&&(ne=b.instanceColor)),V===void 0||V.attribute!==ne||ne&&V.data!==ne.data)return!0;ie++}return s.attributesNum!==ie||s.index!==G}function v(b,k,Y,G){const q={},$=k.attributes;let ie=0;const pe=Y.getAttributes();for(const F in pe)if(pe[F].location>=0){let V=$[F];V===void 0&&(F==="instanceMatrix"&&b.instanceMatrix&&(V=b.instanceMatrix),F==="instanceColor"&&b.instanceColor&&(V=b.instanceColor));const ne={};ne.attribute=V,V&&V.data&&(ne.data=V.data),q[F]=ne,ie++}s.attributes=q,s.attributesNum=ie,s.index=G}function _(){const b=s.newAttributes;for(let k=0,Y=b.length;k<Y;k++)b[k]=0}function x(b){g(b,0)}function g(b,k){const Y=s.newAttributes,G=s.enabledAttributes,q=s.attributeDivisors;Y[b]=1,G[b]===0&&(n.enableVertexAttribArray(b),G[b]=1),q[b]!==k&&(n.vertexAttribDivisor(b,k),q[b]=k)}function A(){const b=s.newAttributes,k=s.enabledAttributes;for(let Y=0,G=k.length;Y<G;Y++)k[Y]!==b[Y]&&(n.disableVertexAttribArray(Y),k[Y]=0)}function S(b,k,Y,G,q,$,ie){ie===!0?n.vertexAttribIPointer(b,k,Y,q,$):n.vertexAttribPointer(b,k,Y,G,q,$)}function C(b,k,Y,G){_();const q=G.attributes,$=Y.getAttributes(),ie=k.defaultAttributeValues;for(const pe in $){const F=$[pe];if(F.location>=0){let K=q[pe];if(K===void 0&&(pe==="instanceMatrix"&&b.instanceMatrix&&(K=b.instanceMatrix),pe==="instanceColor"&&b.instanceColor&&(K=b.instanceColor)),K!==void 0){const V=K.normalized,ne=K.itemSize,ue=e.get(K);if(ue===void 0)continue;const Be=ue.buffer,se=ue.type,we=ue.bytesPerElement,Se=se===n.INT||se===n.UNSIGNED_INT||K.gpuType===ev;if(K.isInterleavedBufferAttribute){const be=K.data,ot=be.stride,_t=K.offset;if(be.isInstancedInterleavedBuffer){for(let ae=0;ae<F.locationSize;ae++)g(F.location+ae,be.meshPerAttribute);b.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let ae=0;ae<F.locationSize;ae++)x(F.location+ae);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let ae=0;ae<F.locationSize;ae++)S(F.location+ae,ne/F.locationSize,se,V,ot*we,(_t+ne/F.locationSize*ae)*we,Se)}else{if(K.isInstancedBufferAttribute){for(let be=0;be<F.locationSize;be++)g(F.location+be,K.meshPerAttribute);b.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let be=0;be<F.locationSize;be++)x(F.location+be);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let be=0;be<F.locationSize;be++)S(F.location+be,ne/F.locationSize,se,V,ne*we,ne/F.locationSize*be*we,Se)}}else if(ie!==void 0){const V=ie[pe];if(V!==void 0)switch(V.length){case 2:n.vertexAttrib2fv(F.location,V);break;case 3:n.vertexAttrib3fv(F.location,V);break;case 4:n.vertexAttrib4fv(F.location,V);break;default:n.vertexAttrib1fv(F.location,V)}}}}A()}function P(){B();for(const b in i){const k=i[b];for(const Y in k){const G=k[Y];for(const q in G)f(G[q].object),delete G[q];delete k[Y]}delete i[b]}}function E(b){if(i[b.id]===void 0)return;const k=i[b.id];for(const Y in k){const G=k[Y];for(const q in G)f(G[q].object),delete G[q];delete k[Y]}delete i[b.id]}function I(b){for(const k in i){const Y=i[k];if(Y[b.id]===void 0)continue;const G=Y[b.id];for(const q in G)f(G[q].object),delete G[q];delete Y[b.id]}}function B(){R(),o=!0,s!==r&&(s=r,c(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:B,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:E,releaseStatesOfProgram:I,initAttributes:_,enableAttribute:x,disableUnusedAttributes:A}}function sJ(n,e,t){let i;function r(c){i=c}function s(c,f){n.drawArrays(i,c,f),t.update(f,i,1)}function o(c,f,h){h!==0&&(n.drawArraysInstanced(i,c,f,h),t.update(f,i,h))}function a(c,f,h){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<h;m++)this.render(c[m],f[m]);else{p.multiDrawArraysWEBGL(i,c,0,f,0,h);let m=0;for(let v=0;v<h;v++)m+=f[v];t.update(m,i,1)}}function l(c,f,h,p){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],f[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,f,0,p,0,h);let v=0;for(let _=0;_<h;_++)v+=f[_];for(let _=0;_<p.length;_++)t.update(v,i,p[_])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function oJ(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){return!(E!==ci&&i.convert(E)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(E){const I=E===vi&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==Br&&i.convert(E)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==qn&&!I)}function l(E){if(E==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const h=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),_=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),S=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),C=m>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:_,maxAttributes:x,maxVertexUniforms:g,maxVaryings:A,maxFragmentUniforms:S,vertexTextures:C,maxSamples:P}}function aJ(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Eo,a=new It,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=f(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||v===null||v.length===0||s&&!x)s?f(null):c();else{const A=s?0:i,S=A*4;let C=g.clippingState||null;l.value=C,C=f(v,p,S,m);for(let P=0;P!==S;++P)C[P]=t[P];g.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(h,p,m,v){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,v!==!0||x===null){const g=m+_*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,C=m;S!==_;++S,C+=4)o.copy(h[S]).applyMatrix4(A,a),o.normal.toArray(x,C),x[C+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function lJ(n){let e=new WeakMap;function t(o,a){return a===of?o.mapping=io:a===Eh&&(o.mapping=Ka),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===of||a===Eh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new s4(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class ws extends fp{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Nu=4,W5=[.125,.215,.35,.446,.526,.582],Ul=20,Y2=new ws,j5=new We;let Z2=null,Q2=0,q2=0,$2=!1;const kl=(1+Math.sqrt(5))/2,iu=1/kl,X5=[new H(-kl,iu,0),new H(kl,iu,0),new H(-iu,0,kl),new H(iu,0,kl),new H(0,kl,-iu),new H(0,kl,iu),new H(-1,1,-1),new H(1,1,-1),new H(-1,1,1),new H(1,1,1)];class D3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Z2=this._renderer.getRenderTarget(),Q2=this._renderer.getActiveCubeFace(),q2=this._renderer.getActiveMipmapLevel(),$2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Y5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=K5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Z2,Q2,q2),this._renderer.xr.enabled=$2,e.scissorTest=!1,m0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===io||e.mapping===Ka?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Z2=this._renderer.getRenderTarget(),Q2=this._renderer.getActiveCubeFace(),q2=this._renderer.getActiveMipmapLevel(),$2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:qt,minFilter:qt,generateMipmaps:!1,type:vi,format:ci,colorSpace:us,depthBuffer:!1},r=J5(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=J5(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cJ(s)),this._blurMaterial=uJ(s,e,t)}return r}_compileMaterial(e){const t=new An(this._lodPlanes[0],e);this._renderer.compile(t,Y2)}_sceneToCubeUV(e,t,i,r){const a=new Ln(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(j5),f.toneMapping=$s,f.autoClear=!1;const m=new hr({name:"PMREM.Background",side:nr,depthWrite:!1,depthTest:!1}),v=new An(new Ac,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(j5),_=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;m0(r,A*S,g>2?S:0,S,S),f.setRenderTarget(r),_&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===io||e.mapping===Ka;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Y5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=K5());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new An(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;m0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Y2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=X5[(r-s-1)%X5.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new An(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ul-1),_=s/v,x=isFinite(s)?1+Math.floor(f*_):Ul;x>Ul&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ul}`);const g=[];let A=0;for(let I=0;I<Ul;++I){const B=I/_,R=Math.exp(-B*B/2);g.push(R),I===0?A+=R:I<x&&(A+=2*R)}for(let I=0;I<g.length;I++)g[I]=g[I]/A;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const C=this._sizeLods[r],P=3*C*(r>S-Nu?r-S+Nu:0),E=4*(this._cubeSize-C);m0(t,P,E,3*C,2*C),l.setRenderTarget(t),l.render(h,Y2)}}function cJ(n){const e=[],t=[],i=[];let r=n;const s=n-Nu+1+W5.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Nu?l=W5[o-n+Nu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,v=6,_=3,x=2,g=1,A=new Float32Array(_*v*m),S=new Float32Array(x*v*m),C=new Float32Array(g*v*m);for(let E=0;E<m;E++){const I=E%3*2/3-1,B=E>2?0:-1,R=[I,B,0,I+2/3,B,0,I+2/3,B+1,0,I,B,0,I+2/3,B+1,0,I,B+1,0];A.set(R,_*v*E),S.set(p,x*v*E);const b=[E,E,E,E,E,E];C.set(b,g*v*E)}const P=new Pt;P.setAttribute("position",new jt(A,_)),P.setAttribute("uv",new jt(S,x)),P.setAttribute("faceIndex",new jt(C,g)),e.push(P),r>Nu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function J5(n,e,t){const i=new Ri(n,e,t);return i.texture.mapping=Ef,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function m0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function uJ(n,e,t){const i=new Float32Array(Ul),r=new H(0,1,0);return new Pi({name:"SphericalGaussianBlur",defines:{n:Ul,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:o4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function K5(){return new Pi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function Y5(){return new Pi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function o4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fJ(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===of||l===Eh,f=l===io||l===Ka;if(c||f){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new D3(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return c&&m&&m.height>0||f&&m&&r(m)?(t===null&&(t=new D3(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function dJ(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function hJ(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const _=p.morphAttributes[v];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const v in m){const _=m[v];for(let x=0,g=_.length;x<g;x++)e.update(_[x],n.ARRAY_BUFFER)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let _=0;if(m!==null){const A=m.array;_=m.version;for(let S=0,C=A.length;S<C;S+=3){const P=A[S+0],E=A[S+1],I=A[S+2];p.push(P,E,E,I,I,P)}}else if(v!==void 0){const A=v.array;_=v.version;for(let S=0,C=A.length/3-1;S<C;S+=3){const P=S+0,E=S+1,I=S+2;p.push(P,E,E,I,I,P)}}else return;const x=new(S7(p)?i4:n4)(p,1);x.version=_;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function pJ(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function c(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function f(p,m,v){if(v===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<v;x++)this.render(p[x]/o,m[x]);else{_.multiDrawElementsWEBGL(i,m,0,s,p,0,v);let x=0;for(let g=0;g<v;g++)x+=m[g];t.update(x,i,1)}}function h(p,m,v,_){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],_[g]);else{x.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,_,0,v);let g=0;for(let A=0;A<v;A++)g+=m[A];for(let A=0;A<_.length;A++)t.update(g,i,_[A])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=h}function mJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function gJ(n,e,t){const i=new WeakMap,r=new un;function s(o,a,l){const c=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=f!==void 0?f.length:0;let p=i.get(a);if(p===void 0||p.count!==h){let b=function(){B.dispose(),i.delete(a),a.removeEventListener("dispose",b)};var m=b;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,_=a.morphAttributes.normal!==void 0,x=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let C=0;v===!0&&(C=1),_===!0&&(C=2),x===!0&&(C=3);let P=a.attributes.position.count*C,E=1;P>e.maxTextureSize&&(E=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const I=new Float32Array(P*E*4*h),B=new rv(I,P,E,h);B.type=qn,B.needsUpdate=!0;const R=C*4;for(let k=0;k<h;k++){const Y=g[k],G=A[k],q=S[k],$=P*E*4*k;for(let ie=0;ie<Y.count;ie++){const pe=ie*R;v===!0&&(r.fromBufferAttribute(Y,ie),I[$+pe+0]=r.x,I[$+pe+1]=r.y,I[$+pe+2]=r.z,I[$+pe+3]=0),_===!0&&(r.fromBufferAttribute(G,ie),I[$+pe+4]=r.x,I[$+pe+5]=r.y,I[$+pe+6]=r.z,I[$+pe+7]=0),x===!0&&(r.fromBufferAttribute(q,ie),I[$+pe+8]=r.x,I[$+pe+9]=r.y,I[$+pe+10]=r.z,I[$+pe+11]=q.itemSize===4?r.w:1)}}p={count:h,texture:B,size:new Te(P,E)},i.set(a,p),a.addEventListener("dispose",b)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let x=0;x<c.length;x++)v+=c[x];const _=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function vJ(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,f=l.geometry,h=e.get(l,f);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class a4 extends $t{constructor(e,t,i,r,s,o,a,l,c,f){if(f=f!==void 0?f:nc,f!==nc&&f!==lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===nc&&(i=Za),i===void 0&&f===lf&&(i=Tf),super(null,r,s,o,a,l,f,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Qn,this.minFilter=l!==void 0?l:Qn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const I7=new $t,B7=new a4(1,1);B7.compareFunction=$S;const L7=new rv,D7=new t4,N7=new dp,Z5=[],Q5=[],q5=new Float32Array(16),$5=new Float32Array(9),eT=new Float32Array(4);function bf(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Z5[r];if(s===void 0&&(s=new Float32Array(r),Z5[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function ui(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function fi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function sv(n,e){let t=Q5[e];t===void 0&&(t=new Int32Array(e),Q5[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function yJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function xJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ui(t,e))return;n.uniform2fv(this.addr,e),fi(t,e)}}function _J(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ui(t,e))return;n.uniform3fv(this.addr,e),fi(t,e)}}function AJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ui(t,e))return;n.uniform4fv(this.addr,e),fi(t,e)}}function SJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ui(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),fi(t,e)}else{if(ui(t,i))return;eT.set(i),n.uniformMatrix2fv(this.addr,!1,eT),fi(t,i)}}function MJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ui(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),fi(t,e)}else{if(ui(t,i))return;$5.set(i),n.uniformMatrix3fv(this.addr,!1,$5),fi(t,i)}}function CJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ui(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),fi(t,e)}else{if(ui(t,i))return;q5.set(i),n.uniformMatrix4fv(this.addr,!1,q5),fi(t,i)}}function wJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function EJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ui(t,e))return;n.uniform2iv(this.addr,e),fi(t,e)}}function TJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ui(t,e))return;n.uniform3iv(this.addr,e),fi(t,e)}}function bJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ui(t,e))return;n.uniform4iv(this.addr,e),fi(t,e)}}function RJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function PJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ui(t,e))return;n.uniform2uiv(this.addr,e),fi(t,e)}}function IJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ui(t,e))return;n.uniform3uiv(this.addr,e),fi(t,e)}}function BJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ui(t,e))return;n.uniform4uiv(this.addr,e),fi(t,e)}}function LJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?B7:I7;t.setTexture2D(e||s,r)}function DJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||D7,r)}function NJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||N7,r)}function FJ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||L7,r)}function OJ(n){switch(n){case 5126:return yJ;case 35664:return xJ;case 35665:return _J;case 35666:return AJ;case 35674:return SJ;case 35675:return MJ;case 35676:return CJ;case 5124:case 35670:return wJ;case 35667:case 35671:return EJ;case 35668:case 35672:return TJ;case 35669:case 35673:return bJ;case 5125:return RJ;case 36294:return PJ;case 36295:return IJ;case 36296:return BJ;case 35678:case 36198:case 36298:case 36306:case 35682:return LJ;case 35679:case 36299:case 36307:return DJ;case 35680:case 36300:case 36308:case 36293:return NJ;case 36289:case 36303:case 36311:case 36292:return FJ}}function kJ(n,e){n.uniform1fv(this.addr,e)}function UJ(n,e){const t=bf(e,this.size,2);n.uniform2fv(this.addr,t)}function HJ(n,e){const t=bf(e,this.size,3);n.uniform3fv(this.addr,t)}function zJ(n,e){const t=bf(e,this.size,4);n.uniform4fv(this.addr,t)}function GJ(n,e){const t=bf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function VJ(n,e){const t=bf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function WJ(n,e){const t=bf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function jJ(n,e){n.uniform1iv(this.addr,e)}function XJ(n,e){n.uniform2iv(this.addr,e)}function JJ(n,e){n.uniform3iv(this.addr,e)}function KJ(n,e){n.uniform4iv(this.addr,e)}function YJ(n,e){n.uniform1uiv(this.addr,e)}function ZJ(n,e){n.uniform2uiv(this.addr,e)}function QJ(n,e){n.uniform3uiv(this.addr,e)}function qJ(n,e){n.uniform4uiv(this.addr,e)}function $J(n,e,t){const i=this.cache,r=e.length,s=sv(t,r);ui(i,s)||(n.uniform1iv(this.addr,s),fi(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||I7,s[o])}function eK(n,e,t){const i=this.cache,r=e.length,s=sv(t,r);ui(i,s)||(n.uniform1iv(this.addr,s),fi(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||D7,s[o])}function tK(n,e,t){const i=this.cache,r=e.length,s=sv(t,r);ui(i,s)||(n.uniform1iv(this.addr,s),fi(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||N7,s[o])}function nK(n,e,t){const i=this.cache,r=e.length,s=sv(t,r);ui(i,s)||(n.uniform1iv(this.addr,s),fi(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||L7,s[o])}function iK(n){switch(n){case 5126:return kJ;case 35664:return UJ;case 35665:return HJ;case 35666:return zJ;case 35674:return GJ;case 35675:return VJ;case 35676:return WJ;case 5124:case 35670:return jJ;case 35667:case 35671:return XJ;case 35668:case 35672:return JJ;case 35669:case 35673:return KJ;case 5125:return YJ;case 36294:return ZJ;case 36295:return QJ;case 36296:return qJ;case 35678:case 36198:case 36298:case 36306:case 35682:return $J;case 35679:case 36299:case 36307:return eK;case 35680:case 36300:case 36308:case 36293:return tK;case 36289:case 36303:case 36311:case 36292:return nK}}class rK{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=OJ(t.type)}}class sK{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=iK(t.type)}}class oK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const ex=/(\w+)(\])?(\[|\.)?/g;function tT(n,e){n.seq.push(e),n.map[e.id]=e}function aK(n,e,t){const i=n.name,r=i.length;for(ex.lastIndex=0;;){const s=ex.exec(i),o=ex.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){tT(t,c===void 0?new rK(a,n,e):new sK(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new oK(a),tT(t,h)),t=h}}}class Cg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);aK(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function nT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const lK=37297;let cK=0;function uK(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function fK(n){const e=cn.getPrimaries(cn.workingColorSpace),t=cn.getPrimaries(n);let i;switch(e===t?i="":e===Ph&&t===Rh?i="LinearDisplayP3ToLinearSRGB":e===Rh&&t===Ph&&(i="LinearSRGBToLinearDisplayP3"),n){case us:case up:return[i,"LinearTransferOETF"];case Cr:case iv:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function iT(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+uK(n.getShaderSource(e),o)}else return r}function dK(n,e){const t=fK(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function hK(n,e){let t;switch(e){case KP:t="Linear";break;case YP:t="Reinhard";break;case ZP:t="OptimizedCineon";break;case GS:t="ACESFilmic";break;case qP:t="AgX";break;case $P:t="Neutral";break;case QP:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function pK(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Dd).join(`
`)}function mK(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function gK(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Dd(n){return n!==""}function rT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const vK=/^[ \t]*#include +<([\w\d./]+)>/gm;function N3(n){return n.replace(vK,xK)}const yK=new Map;function xK(n,e){let t=Lt[e];if(t===void 0){const i=yK.get(e);if(i!==void 0)t=Lt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return N3(t)}const _K=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oT(n){return n.replace(_K,AK)}function AK(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function aT(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SK(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===q1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Yd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===_s&&(e="SHADOWMAP_TYPE_VSM"),e}function MK(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case io:case Ka:e="ENVMAP_TYPE_CUBE";break;case Ef:e="ENVMAP_TYPE_CUBE_UV";break}return e}function CK(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ka:e="ENVMAP_MODE_REFRACTION";break}return e}function wK(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case cp:e="ENVMAP_BLENDING_MULTIPLY";break;case XP:e="ENVMAP_BLENDING_MIX";break;case JP:e="ENVMAP_BLENDING_ADD";break}return e}function EK(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function TK(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=SK(t),c=MK(t),f=CK(t),h=wK(t),p=EK(t),m=pK(t),v=mK(s),_=r.createProgram();let x,g,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Dd).join(`
`),x.length>0&&(x+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Dd).join(`
`),g.length>0&&(g+=`
`)):(x=[aT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Dd).join(`
`),g=[aT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$s?"#define TONE_MAPPING":"",t.toneMapping!==$s?Lt.tonemapping_pars_fragment:"",t.toneMapping!==$s?hK("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,dK("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Dd).join(`
`)),o=N3(o),o=rT(o,t),o=sT(o,t),a=N3(a),a=rT(a,t),a=sT(a,t),o=oT(o),a=oT(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===L3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===L3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=A+x+o,C=A+g+a,P=nT(r,r.VERTEX_SHADER,S),E=nT(r,r.FRAGMENT_SHADER,C);r.attachShader(_,P),r.attachShader(_,E),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_);function I(k){if(n.debug.checkShaderErrors){const Y=r.getProgramInfoLog(_).trim(),G=r.getShaderInfoLog(P).trim(),q=r.getShaderInfoLog(E).trim();let $=!0,ie=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,P,E);else{const pe=iT(r,P,"vertex"),F=iT(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+Y+`
`+pe+`
`+F)}else Y!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Y):(G===""||q==="")&&(ie=!1);ie&&(k.diagnostics={runnable:$,programLog:Y,vertexShader:{log:G,prefix:x},fragmentShader:{log:q,prefix:g}})}r.deleteShader(P),r.deleteShader(E),B=new Cg(r,_),R=gK(r,_)}let B;this.getUniforms=function(){return B===void 0&&I(this),B};let R;this.getAttributes=function(){return R===void 0&&I(this),R};let b=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return b===!1&&(b=r.getProgramParameter(_,lK)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=cK++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=P,this.fragmentShader=E,this}let bK=0;class RK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new PK(e),t.set(e,i)),i}}class PK{constructor(e){this.id=bK++,this.code=e,this.usedTimes=0}}function IK(n,e,t,i,r,s,o){const a=new rc,l=new RK,c=new Set,f=[],h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(R){return c.add(R),R===0?"uv":`uv${R}`}function x(R,b,k,Y,G){const q=Y.fog,$=G.geometry,ie=R.isMeshStandardMaterial?Y.environment:null,pe=(R.isMeshStandardMaterial?t:e).get(R.envMap||ie),F=pe&&pe.mapping===Ef?pe.image.height:null,K=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const V=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ne=V!==void 0?V.length:0;let ue=0;$.morphAttributes.position!==void 0&&(ue=1),$.morphAttributes.normal!==void 0&&(ue=2),$.morphAttributes.color!==void 0&&(ue=3);let Be,se,we,Se;if(K){const Dt=Ms[K];Be=Dt.vertexShader,se=Dt.fragmentShader}else Be=R.vertexShader,se=R.fragmentShader,l.update(R),we=l.getVertexShaderID(R),Se=l.getFragmentShaderID(R);const be=n.getRenderTarget(),ot=G.isInstancedMesh===!0,_t=G.isBatchedMesh===!0,ae=!!R.map,ht=!!R.matcap,me=!!pe,ve=!!R.aoMap,he=!!R.lightMap,De=!!R.bumpMap,Le=!!R.normalMap,Ze=!!R.displacementMap,at=!!R.emissiveMap,Z=!!R.metalnessMap,U=!!R.roughnessMap,fe=R.anisotropy>0,Re=R.clearcoat>0,Ie=R.dispersion>0,Pe=R.iridescence>0,it=R.sheen>0,Ge=R.transmission>0,Ue=fe&&!!R.anisotropyMap,yt=Re&&!!R.clearcoatMap,Oe=Re&&!!R.clearcoatNormalMap,rt=Re&&!!R.clearcoatRoughnessMap,wt=Pe&&!!R.iridescenceMap,pt=Pe&&!!R.iridescenceThicknessMap,Je=it&&!!R.sheenColorMap,lt=it&&!!R.sheenRoughnessMap,Mt=!!R.specularMap,te=!!R.specularColorMap,_e=!!R.specularIntensityMap,Q=Ge&&!!R.transmissionMap,ye=Ge&&!!R.thicknessMap,ee=!!R.gradientMap,Fe=!!R.alphaMap,Ve=R.alphaTest>0,kt=!!R.alphaHash,Xt=!!R.extensions;let Ut=$s;R.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Ut=n.toneMapping);const nn={shaderID:K,shaderType:R.type,shaderName:R.name,vertexShader:Be,fragmentShader:se,defines:R.defines,customVertexShaderID:we,customFragmentShaderID:Se,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:_t,instancing:ot,instancingColor:ot&&G.instanceColor!==null,instancingMorph:ot&&G.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:be===null?n.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:us,alphaToCoverage:!!R.alphaToCoverage,map:ae,matcap:ht,envMap:me,envMapMode:me&&pe.mapping,envMapCubeUVHeight:F,aoMap:ve,lightMap:he,bumpMap:De,normalMap:Le,displacementMap:p&&Ze,emissiveMap:at,normalMapObjectSpace:Le&&R.normalMapType===p7,normalMapTangentSpace:Le&&R.normalMapType===rl,metalnessMap:Z,roughnessMap:U,anisotropy:fe,anisotropyMap:Ue,clearcoat:Re,clearcoatMap:yt,clearcoatNormalMap:Oe,clearcoatRoughnessMap:rt,dispersion:Ie,iridescence:Pe,iridescenceMap:wt,iridescenceThicknessMap:pt,sheen:it,sheenColorMap:Je,sheenRoughnessMap:lt,specularMap:Mt,specularColorMap:te,specularIntensityMap:_e,transmission:Ge,transmissionMap:Q,thicknessMap:ye,gradientMap:ee,opaque:R.transparent===!1&&R.blending===tc&&R.alphaToCoverage===!1,alphaMap:Fe,alphaTest:Ve,alphaHash:kt,combine:R.combine,mapUv:ae&&_(R.map.channel),aoMapUv:ve&&_(R.aoMap.channel),lightMapUv:he&&_(R.lightMap.channel),bumpMapUv:De&&_(R.bumpMap.channel),normalMapUv:Le&&_(R.normalMap.channel),displacementMapUv:Ze&&_(R.displacementMap.channel),emissiveMapUv:at&&_(R.emissiveMap.channel),metalnessMapUv:Z&&_(R.metalnessMap.channel),roughnessMapUv:U&&_(R.roughnessMap.channel),anisotropyMapUv:Ue&&_(R.anisotropyMap.channel),clearcoatMapUv:yt&&_(R.clearcoatMap.channel),clearcoatNormalMapUv:Oe&&_(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rt&&_(R.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&_(R.iridescenceMap.channel),iridescenceThicknessMapUv:pt&&_(R.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&_(R.sheenColorMap.channel),sheenRoughnessMapUv:lt&&_(R.sheenRoughnessMap.channel),specularMapUv:Mt&&_(R.specularMap.channel),specularColorMapUv:te&&_(R.specularColorMap.channel),specularIntensityMapUv:_e&&_(R.specularIntensityMap.channel),transmissionMapUv:Q&&_(R.transmissionMap.channel),thicknessMapUv:ye&&_(R.thicknessMap.channel),alphaMapUv:Fe&&_(R.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Le||fe),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!$.attributes.uv&&(ae||Fe),fog:!!q,useFog:R.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:ue,numDirLights:b.directional.length,numPointLights:b.point.length,numSpotLights:b.spot.length,numSpotLightMaps:b.spotLightMap.length,numRectAreaLights:b.rectArea.length,numHemiLights:b.hemi.length,numDirLightShadows:b.directionalShadowMap.length,numPointLightShadows:b.pointShadowMap.length,numSpotLightShadows:b.spotShadowMap.length,numSpotLightShadowsWithMaps:b.numSpotLightShadowsWithMaps,numLightProbes:b.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ut,useLegacyLights:n._useLegacyLights,decodeVideoTexture:ae&&R.map.isVideoTexture===!0&&cn.getTransfer(R.map.colorSpace)===pn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===es,flipSided:R.side===nr,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:Xt&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Xt&&R.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return nn.vertexUv1s=c.has(1),nn.vertexUv2s=c.has(2),nn.vertexUv3s=c.has(3),c.clear(),nn}function g(R){const b=[];if(R.shaderID?b.push(R.shaderID):(b.push(R.customVertexShaderID),b.push(R.customFragmentShaderID)),R.defines!==void 0)for(const k in R.defines)b.push(k),b.push(R.defines[k]);return R.isRawShaderMaterial===!1&&(A(b,R),S(b,R),b.push(n.outputColorSpace)),b.push(R.customProgramCacheKey),b.join()}function A(R,b){R.push(b.precision),R.push(b.outputColorSpace),R.push(b.envMapMode),R.push(b.envMapCubeUVHeight),R.push(b.mapUv),R.push(b.alphaMapUv),R.push(b.lightMapUv),R.push(b.aoMapUv),R.push(b.bumpMapUv),R.push(b.normalMapUv),R.push(b.displacementMapUv),R.push(b.emissiveMapUv),R.push(b.metalnessMapUv),R.push(b.roughnessMapUv),R.push(b.anisotropyMapUv),R.push(b.clearcoatMapUv),R.push(b.clearcoatNormalMapUv),R.push(b.clearcoatRoughnessMapUv),R.push(b.iridescenceMapUv),R.push(b.iridescenceThicknessMapUv),R.push(b.sheenColorMapUv),R.push(b.sheenRoughnessMapUv),R.push(b.specularMapUv),R.push(b.specularColorMapUv),R.push(b.specularIntensityMapUv),R.push(b.transmissionMapUv),R.push(b.thicknessMapUv),R.push(b.combine),R.push(b.fogExp2),R.push(b.sizeAttenuation),R.push(b.morphTargetsCount),R.push(b.morphAttributeCount),R.push(b.numDirLights),R.push(b.numPointLights),R.push(b.numSpotLights),R.push(b.numSpotLightMaps),R.push(b.numHemiLights),R.push(b.numRectAreaLights),R.push(b.numDirLightShadows),R.push(b.numPointLightShadows),R.push(b.numSpotLightShadows),R.push(b.numSpotLightShadowsWithMaps),R.push(b.numLightProbes),R.push(b.shadowMapType),R.push(b.toneMapping),R.push(b.numClippingPlanes),R.push(b.numClipIntersection),R.push(b.depthPacking)}function S(R,b){a.disableAll(),b.supportsVertexTextures&&a.enable(0),b.instancing&&a.enable(1),b.instancingColor&&a.enable(2),b.instancingMorph&&a.enable(3),b.matcap&&a.enable(4),b.envMap&&a.enable(5),b.normalMapObjectSpace&&a.enable(6),b.normalMapTangentSpace&&a.enable(7),b.clearcoat&&a.enable(8),b.iridescence&&a.enable(9),b.alphaTest&&a.enable(10),b.vertexColors&&a.enable(11),b.vertexAlphas&&a.enable(12),b.vertexUv1s&&a.enable(13),b.vertexUv2s&&a.enable(14),b.vertexUv3s&&a.enable(15),b.vertexTangents&&a.enable(16),b.anisotropy&&a.enable(17),b.alphaHash&&a.enable(18),b.batching&&a.enable(19),b.dispersion&&a.enable(20),R.push(a.mask),a.disableAll(),b.fog&&a.enable(0),b.useFog&&a.enable(1),b.flatShading&&a.enable(2),b.logarithmicDepthBuffer&&a.enable(3),b.skinning&&a.enable(4),b.morphTargets&&a.enable(5),b.morphNormals&&a.enable(6),b.morphColors&&a.enable(7),b.premultipliedAlpha&&a.enable(8),b.shadowMapEnabled&&a.enable(9),b.useLegacyLights&&a.enable(10),b.doubleSided&&a.enable(11),b.flipSided&&a.enable(12),b.useDepthPacking&&a.enable(13),b.dithering&&a.enable(14),b.transmission&&a.enable(15),b.sheen&&a.enable(16),b.opaque&&a.enable(17),b.pointsUvs&&a.enable(18),b.decodeVideoTexture&&a.enable(19),b.alphaToCoverage&&a.enable(20),R.push(a.mask)}function C(R){const b=v[R.type];let k;if(b){const Y=Ms[b];k=r4.clone(Y.uniforms)}else k=R.uniforms;return k}function P(R,b){let k;for(let Y=0,G=f.length;Y<G;Y++){const q=f[Y];if(q.cacheKey===b){k=q,++k.usedTimes;break}}return k===void 0&&(k=new TK(n,b,R,s),f.push(k)),k}function E(R){if(--R.usedTimes===0){const b=f.indexOf(R);f[b]=f[f.length-1],f.pop(),R.destroy()}}function I(R){l.remove(R)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:C,acquireProgram:P,releaseProgram:E,releaseShaderCache:I,programs:f,dispose:B}}function BK(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function LK(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function lT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function cT(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,v,_,x){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:_,group:x},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=_,g.group=x),e++,g}function a(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(h,p){t.length>1&&t.sort(h||LK),i.length>1&&i.sort(p||lT),r.length>1&&r.sort(p||lT)}function f(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:f,sort:c}}function DK(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new cT,n.set(i,[o])):r>=s.length?(o=new cT,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function NK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new We};break;case"SpotLight":t={position:new H,direction:new H,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new We,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new We,groundColor:new We};break;case"RectAreaLight":t={color:new We,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function FK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let OK=0;function kK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function UK(n){const e=new NK,t=FK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new H);const r=new H,s=new dt,o=new dt;function a(c,f){let h=0,p=0,m=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let v=0,_=0,x=0,g=0,A=0,S=0,C=0,P=0,E=0,I=0,B=0;c.sort(kK);const R=f===!0?Math.PI:1;for(let k=0,Y=c.length;k<Y;k++){const G=c[k],q=G.color,$=G.intensity,ie=G.distance,pe=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)h+=q.r*$*R,p+=q.g*$*R,m+=q.b*$*R;else if(G.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(G.sh.coefficients[F],$);B++}else if(G.isDirectionalLight){const F=e.get(G);if(F.color.copy(G.color).multiplyScalar(G.intensity*R),G.castShadow){const K=G.shadow,V=t.get(G);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,i.directionalShadow[v]=V,i.directionalShadowMap[v]=pe,i.directionalShadowMatrix[v]=G.shadow.matrix,S++}i.directional[v]=F,v++}else if(G.isSpotLight){const F=e.get(G);F.position.setFromMatrixPosition(G.matrixWorld),F.color.copy(q).multiplyScalar($*R),F.distance=ie,F.coneCos=Math.cos(G.angle),F.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),F.decay=G.decay,i.spot[x]=F;const K=G.shadow;if(G.map&&(i.spotLightMap[E]=G.map,E++,K.updateMatrices(G),G.castShadow&&I++),i.spotLightMatrix[x]=K.matrix,G.castShadow){const V=t.get(G);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,i.spotShadow[x]=V,i.spotShadowMap[x]=pe,P++}x++}else if(G.isRectAreaLight){const F=e.get(G);F.color.copy(q).multiplyScalar($),F.halfWidth.set(G.width*.5,0,0),F.halfHeight.set(0,G.height*.5,0),i.rectArea[g]=F,g++}else if(G.isPointLight){const F=e.get(G);if(F.color.copy(G.color).multiplyScalar(G.intensity*R),F.distance=G.distance,F.decay=G.decay,G.castShadow){const K=G.shadow,V=t.get(G);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,V.shadowCameraNear=K.camera.near,V.shadowCameraFar=K.camera.far,i.pointShadow[_]=V,i.pointShadowMap[_]=pe,i.pointShadowMatrix[_]=G.shadow.matrix,C++}i.point[_]=F,_++}else if(G.isHemisphereLight){const F=e.get(G);F.skyColor.copy(G.color).multiplyScalar($*R),F.groundColor.copy(G.groundColor).multiplyScalar($*R),i.hemi[A]=F,A++}}g>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Xe.LTC_FLOAT_1,i.rectAreaLTC2=Xe.LTC_FLOAT_2):(i.rectAreaLTC1=Xe.LTC_HALF_1,i.rectAreaLTC2=Xe.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=m;const b=i.hash;(b.directionalLength!==v||b.pointLength!==_||b.spotLength!==x||b.rectAreaLength!==g||b.hemiLength!==A||b.numDirectionalShadows!==S||b.numPointShadows!==C||b.numSpotShadows!==P||b.numSpotMaps!==E||b.numLightProbes!==B)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=g,i.point.length=_,i.hemi.length=A,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+E-I,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=B,b.directionalLength=v,b.pointLength=_,b.spotLength=x,b.rectAreaLength=g,b.hemiLength=A,b.numDirectionalShadows=S,b.numPointShadows=C,b.numSpotShadows=P,b.numSpotMaps=E,b.numLightProbes=B,i.version=OK++)}function l(c,f){let h=0,p=0,m=0,v=0,_=0;const x=f.matrixWorldInverse;for(let g=0,A=c.length;g<A;g++){const S=c[g];if(S.isDirectionalLight){const C=i.directional[h];C.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(x),h++}else if(S.isSpotLight){const C=i.spot[m];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(x),m++}else if(S.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),o.identity(),s.copy(S.matrixWorld),s.premultiply(x),o.extractRotation(s),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const C=i.point[p];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(x),p++}else if(S.isHemisphereLight){const C=i.hemi[_];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(x),_++}}}return{setup:a,setupView:l,state:i}}function uT(n){const e=new UK(n),t=[],i=[];function r(f){c.camera=f,t.length=0,i.length=0}function s(f){t.push(f)}function o(f){i.push(f)}function a(f){e.setup(t,f)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function HK(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new uT(n),e.set(r,[a])):s>=o.length?(a=new uT(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}class ov extends si{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=d7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class l4 extends si{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const zK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function VK(n,e,t){let i=new hp;const r=new Te,s=new Te,o=new un,a=new ov({depthPacking:h7}),l=new l4,c={},f=t.maxTextureSize,h={[no]:nr,[nr]:no,[es]:es},p=new Pi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:zK,fragmentShader:GK}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Pt;v.setAttribute("position",new jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new An(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q1;let g=this.type;this.render=function(E,I,B){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||E.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),Y=n.state;Y.setBlending(qs),Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const G=g!==_s&&this.type===_s,q=g===_s&&this.type!==_s;for(let $=0,ie=E.length;$<ie;$++){const pe=E[$],F=pe.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",pe,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;r.copy(F.mapSize);const K=F.getFrameExtents();if(r.multiply(K),s.copy(F.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/K.x),r.x=s.x*K.x,F.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/K.y),r.y=s.y*K.y,F.mapSize.y=s.y)),F.map===null||G===!0||q===!0){const ne=this.type!==_s?{minFilter:Qn,magFilter:Qn}:{};F.map!==null&&F.map.dispose(),F.map=new Ri(r.x,r.y,ne),F.map.texture.name=pe.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const V=F.getViewportCount();for(let ne=0;ne<V;ne++){const ue=F.getViewport(ne);o.set(s.x*ue.x,s.y*ue.y,s.x*ue.z,s.y*ue.w),Y.viewport(o),F.updateMatrices(pe,ne),i=F.getFrustum(),C(I,B,F.camera,pe,this.type)}F.isPointLightShadow!==!0&&this.type===_s&&A(F,B),F.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(R,b,k)};function A(E,I){const B=e.update(_);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Ri(r.x,r.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(I,null,B,p,_,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(I,null,B,m,_,null)}function S(E,I,B,R){let b=null;const k=B.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(k!==void 0)b=k;else if(b=B.isPointLight===!0?l:a,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const Y=b.uuid,G=I.uuid;let q=c[Y];q===void 0&&(q={},c[Y]=q);let $=q[G];$===void 0&&($=b.clone(),q[G]=$,I.addEventListener("dispose",P)),b=$}if(b.visible=I.visible,b.wireframe=I.wireframe,R===_s?b.side=I.shadowSide!==null?I.shadowSide:I.side:b.side=I.shadowSide!==null?I.shadowSide:h[I.side],b.alphaMap=I.alphaMap,b.alphaTest=I.alphaTest,b.map=I.map,b.clipShadows=I.clipShadows,b.clippingPlanes=I.clippingPlanes,b.clipIntersection=I.clipIntersection,b.displacementMap=I.displacementMap,b.displacementScale=I.displacementScale,b.displacementBias=I.displacementBias,b.wireframeLinewidth=I.wireframeLinewidth,b.linewidth=I.linewidth,B.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const Y=n.properties.get(b);Y.light=B}return b}function C(E,I,B,R,b){if(E.visible===!1)return;if(E.layers.test(I.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&b===_s)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,E.matrixWorld);const G=e.update(E),q=E.material;if(Array.isArray(q)){const $=G.groups;for(let ie=0,pe=$.length;ie<pe;ie++){const F=$[ie],K=q[F.materialIndex];if(K&&K.visible){const V=S(E,K,R,b);E.onBeforeShadow(n,E,I,B,G,V,F),n.renderBufferDirect(B,null,G,V,E,F),E.onAfterShadow(n,E,I,B,G,V,F)}}}else if(q.visible){const $=S(E,q,R,b);E.onBeforeShadow(n,E,I,B,G,$,null),n.renderBufferDirect(B,null,G,$,E,null),E.onAfterShadow(n,E,I,B,G,$,null)}}const Y=E.children;for(let G=0,q=Y.length;G<q;G++)C(Y[G],I,B,R,b)}function P(E){E.target.removeEventListener("dispose",P);for(const B in c){const R=c[B],b=E.target.uuid;b in R&&(R[b].dispose(),delete R[b])}}}function WK(n){function e(){let Q=!1;const ye=new un;let ee=null;const Fe=new un(0,0,0,0);return{setMask:function(Ve){ee!==Ve&&!Q&&(n.colorMask(Ve,Ve,Ve,Ve),ee=Ve)},setLocked:function(Ve){Q=Ve},setClear:function(Ve,kt,Xt,Ut,nn){nn===!0&&(Ve*=Ut,kt*=Ut,Xt*=Ut),ye.set(Ve,kt,Xt,Ut),Fe.equals(ye)===!1&&(n.clearColor(Ve,kt,Xt,Ut),Fe.copy(ye))},reset:function(){Q=!1,ee=null,Fe.set(-1,0,0,0)}}}function t(){let Q=!1,ye=null,ee=null,Fe=null;return{setTest:function(Ve){Ve?Se(n.DEPTH_TEST):be(n.DEPTH_TEST)},setMask:function(Ve){ye!==Ve&&!Q&&(n.depthMask(Ve),ye=Ve)},setFunc:function(Ve){if(ee!==Ve){switch(Ve){case UP:n.depthFunc(n.NEVER);break;case HP:n.depthFunc(n.ALWAYS);break;case zP:n.depthFunc(n.LESS);break;case wh:n.depthFunc(n.LEQUAL);break;case GP:n.depthFunc(n.EQUAL);break;case VP:n.depthFunc(n.GEQUAL);break;case WP:n.depthFunc(n.GREATER);break;case jP:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ee=Ve}},setLocked:function(Ve){Q=Ve},setClear:function(Ve){Fe!==Ve&&(n.clearDepth(Ve),Fe=Ve)},reset:function(){Q=!1,ye=null,ee=null,Fe=null}}}function i(){let Q=!1,ye=null,ee=null,Fe=null,Ve=null,kt=null,Xt=null,Ut=null,nn=null;return{setTest:function(Dt){Q||(Dt?Se(n.STENCIL_TEST):be(n.STENCIL_TEST))},setMask:function(Dt){ye!==Dt&&!Q&&(n.stencilMask(Dt),ye=Dt)},setFunc:function(Dt,Wn,hn){(ee!==Dt||Fe!==Wn||Ve!==hn)&&(n.stencilFunc(Dt,Wn,hn),ee=Dt,Fe=Wn,Ve=hn)},setOp:function(Dt,Wn,hn){(kt!==Dt||Xt!==Wn||Ut!==hn)&&(n.stencilOp(Dt,Wn,hn),kt=Dt,Xt=Wn,Ut=hn)},setLocked:function(Dt){Q=Dt},setClear:function(Dt){nn!==Dt&&(n.clearStencil(Dt),nn=Dt)},reset:function(){Q=!1,ye=null,ee=null,Fe=null,Ve=null,kt=null,Xt=null,Ut=null,nn=null}}}const r=new e,s=new t,o=new i,a=new WeakMap,l=new WeakMap;let c={},f={},h=new WeakMap,p=[],m=null,v=!1,_=null,x=null,g=null,A=null,S=null,C=null,P=null,E=new We(0,0,0),I=0,B=!1,R=null,b=null,k=null,Y=null,G=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,ie=0;const pe=n.getParameter(n.VERSION);pe.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(pe)[1]),$=ie>=1):pe.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(pe)[1]),$=ie>=2);let F=null,K={};const V=n.getParameter(n.SCISSOR_BOX),ne=n.getParameter(n.VIEWPORT),ue=new un().fromArray(V),Be=new un().fromArray(ne);function se(Q,ye,ee,Fe){const Ve=new Uint8Array(4),kt=n.createTexture();n.bindTexture(Q,kt),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Xt=0;Xt<ee;Xt++)Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY?n.texImage3D(ye,0,n.RGBA,1,1,Fe,0,n.RGBA,n.UNSIGNED_BYTE,Ve):n.texImage2D(ye+Xt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ve);return kt}const we={};we[n.TEXTURE_2D]=se(n.TEXTURE_2D,n.TEXTURE_2D,1),we[n.TEXTURE_CUBE_MAP]=se(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[n.TEXTURE_2D_ARRAY]=se(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),we[n.TEXTURE_3D]=se(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Se(n.DEPTH_TEST),s.setFunc(wh),De(!1),Le(e3),Se(n.CULL_FACE),ve(qs);function Se(Q){c[Q]!==!0&&(n.enable(Q),c[Q]=!0)}function be(Q){c[Q]!==!1&&(n.disable(Q),c[Q]=!1)}function ot(Q,ye){return f[Q]!==ye?(n.bindFramebuffer(Q,ye),f[Q]=ye,Q===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ye),Q===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ye),!0):!1}function _t(Q,ye){let ee=p,Fe=!1;if(Q){ee=h.get(ye),ee===void 0&&(ee=[],h.set(ye,ee));const Ve=Q.textures;if(ee.length!==Ve.length||ee[0]!==n.COLOR_ATTACHMENT0){for(let kt=0,Xt=Ve.length;kt<Xt;kt++)ee[kt]=n.COLOR_ATTACHMENT0+kt;ee.length=Ve.length,Fe=!0}}else ee[0]!==n.BACK&&(ee[0]=n.BACK,Fe=!0);Fe&&n.drawBuffers(ee)}function ae(Q){return m!==Q?(n.useProgram(Q),m=Q,!0):!1}const ht={[Ca]:n.FUNC_ADD,[SP]:n.FUNC_SUBTRACT,[MP]:n.FUNC_REVERSE_SUBTRACT};ht[CP]=n.MIN,ht[wP]=n.MAX;const me={[EP]:n.ZERO,[TP]:n.ONE,[bP]:n.SRC_COLOR,[a1]:n.SRC_ALPHA,[DP]:n.SRC_ALPHA_SATURATE,[BP]:n.DST_COLOR,[PP]:n.DST_ALPHA,[RP]:n.ONE_MINUS_SRC_COLOR,[l1]:n.ONE_MINUS_SRC_ALPHA,[LP]:n.ONE_MINUS_DST_COLOR,[IP]:n.ONE_MINUS_DST_ALPHA,[NP]:n.CONSTANT_COLOR,[FP]:n.ONE_MINUS_CONSTANT_COLOR,[OP]:n.CONSTANT_ALPHA,[kP]:n.ONE_MINUS_CONSTANT_ALPHA};function ve(Q,ye,ee,Fe,Ve,kt,Xt,Ut,nn,Dt){if(Q===qs){v===!0&&(be(n.BLEND),v=!1);return}if(v===!1&&(Se(n.BLEND),v=!0),Q!==AP){if(Q!==_||Dt!==B){if((x!==Ca||S!==Ca)&&(n.blendEquation(n.FUNC_ADD),x=Ca,S=Ca),Dt)switch(Q){case tc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t3:n.blendFunc(n.ONE,n.ONE);break;case n3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case i3:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case tc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t3:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case n3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case i3:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}g=null,A=null,C=null,P=null,E.set(0,0,0),I=0,_=Q,B=Dt}return}Ve=Ve||ye,kt=kt||ee,Xt=Xt||Fe,(ye!==x||Ve!==S)&&(n.blendEquationSeparate(ht[ye],ht[Ve]),x=ye,S=Ve),(ee!==g||Fe!==A||kt!==C||Xt!==P)&&(n.blendFuncSeparate(me[ee],me[Fe],me[kt],me[Xt]),g=ee,A=Fe,C=kt,P=Xt),(Ut.equals(E)===!1||nn!==I)&&(n.blendColor(Ut.r,Ut.g,Ut.b,nn),E.copy(Ut),I=nn),_=Q,B=!1}function he(Q,ye){Q.side===es?be(n.CULL_FACE):Se(n.CULL_FACE);let ee=Q.side===nr;ye&&(ee=!ee),De(ee),Q.blending===tc&&Q.transparent===!1?ve(qs):ve(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.blendColor,Q.blendAlpha,Q.premultipliedAlpha),s.setFunc(Q.depthFunc),s.setTest(Q.depthTest),s.setMask(Q.depthWrite),r.setMask(Q.colorWrite);const Fe=Q.stencilWrite;o.setTest(Fe),Fe&&(o.setMask(Q.stencilWriteMask),o.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),o.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),at(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?Se(n.SAMPLE_ALPHA_TO_COVERAGE):be(n.SAMPLE_ALPHA_TO_COVERAGE)}function De(Q){R!==Q&&(Q?n.frontFace(n.CW):n.frontFace(n.CCW),R=Q)}function Le(Q){Q!==yP?(Se(n.CULL_FACE),Q!==b&&(Q===e3?n.cullFace(n.BACK):Q===xP?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):be(n.CULL_FACE),b=Q}function Ze(Q){Q!==k&&($&&n.lineWidth(Q),k=Q)}function at(Q,ye,ee){Q?(Se(n.POLYGON_OFFSET_FILL),(Y!==ye||G!==ee)&&(n.polygonOffset(ye,ee),Y=ye,G=ee)):be(n.POLYGON_OFFSET_FILL)}function Z(Q){Q?Se(n.SCISSOR_TEST):be(n.SCISSOR_TEST)}function U(Q){Q===void 0&&(Q=n.TEXTURE0+q-1),F!==Q&&(n.activeTexture(Q),F=Q)}function fe(Q,ye,ee){ee===void 0&&(F===null?ee=n.TEXTURE0+q-1:ee=F);let Fe=K[ee];Fe===void 0&&(Fe={type:void 0,texture:void 0},K[ee]=Fe),(Fe.type!==Q||Fe.texture!==ye)&&(F!==ee&&(n.activeTexture(ee),F=ee),n.bindTexture(Q,ye||we[Q]),Fe.type=Q,Fe.texture=ye)}function Re(){const Q=K[F];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function Ie(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Pe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function it(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ge(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function yt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Oe(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function rt(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function wt(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function pt(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Je(Q){ue.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),ue.copy(Q))}function lt(Q){Be.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),Be.copy(Q))}function Mt(Q,ye){let ee=l.get(ye);ee===void 0&&(ee=new WeakMap,l.set(ye,ee));let Fe=ee.get(Q);Fe===void 0&&(Fe=n.getUniformBlockIndex(ye,Q.name),ee.set(Q,Fe))}function te(Q,ye){const Fe=l.get(ye).get(Q);a.get(ye)!==Fe&&(n.uniformBlockBinding(ye,Fe,Q.__bindingPointIndex),a.set(ye,Fe))}function _e(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},F=null,K={},f={},h=new WeakMap,p=[],m=null,v=!1,_=null,x=null,g=null,A=null,S=null,C=null,P=null,E=new We(0,0,0),I=0,B=!1,R=null,b=null,k=null,Y=null,G=null,ue.set(0,0,n.canvas.width,n.canvas.height),Be.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Se,disable:be,bindFramebuffer:ot,drawBuffers:_t,useProgram:ae,setBlending:ve,setMaterial:he,setFlipSided:De,setCullFace:Le,setLineWidth:Ze,setPolygonOffset:at,setScissorTest:Z,activeTexture:U,bindTexture:fe,unbindTexture:Re,compressedTexImage2D:Ie,compressedTexImage3D:Pe,texImage2D:wt,texImage3D:pt,updateUBOMapping:Mt,uniformBlockBinding:te,texStorage2D:Oe,texStorage3D:rt,texSubImage2D:it,texSubImage3D:Ge,compressedTexSubImage2D:Ue,compressedTexSubImage3D:yt,scissor:Je,viewport:lt,reset:_e}}function jK(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Te,f=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(Z,U){return m?new OffscreenCanvas(Z,U):Lh("canvas")}function _(Z,U,fe){let Re=1;const Ie=at(Z);if((Ie.width>fe||Ie.height>fe)&&(Re=fe/Math.max(Ie.width,Ie.height)),Re<1)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||typeof VideoFrame<"u"&&Z instanceof VideoFrame){const Pe=Math.floor(Re*Ie.width),it=Math.floor(Re*Ie.height);h===void 0&&(h=v(Pe,it));const Ge=U?v(Pe,it):h;return Ge.width=Pe,Ge.height=it,Ge.getContext("2d").drawImage(Z,0,0,Pe,it),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Pe+"x"+it+")."),Ge}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),Z;return Z}function x(Z){return Z.generateMipmaps&&Z.minFilter!==Qn&&Z.minFilter!==qt}function g(Z){n.generateMipmap(Z)}function A(Z,U,fe,Re,Ie=!1){if(Z!==null){if(n[Z]!==void 0)return n[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Pe=U;if(U===n.RED&&(fe===n.FLOAT&&(Pe=n.R32F),fe===n.HALF_FLOAT&&(Pe=n.R16F),fe===n.UNSIGNED_BYTE&&(Pe=n.R8)),U===n.RED_INTEGER&&(fe===n.UNSIGNED_BYTE&&(Pe=n.R8UI),fe===n.UNSIGNED_SHORT&&(Pe=n.R16UI),fe===n.UNSIGNED_INT&&(Pe=n.R32UI),fe===n.BYTE&&(Pe=n.R8I),fe===n.SHORT&&(Pe=n.R16I),fe===n.INT&&(Pe=n.R32I)),U===n.RG&&(fe===n.FLOAT&&(Pe=n.RG32F),fe===n.HALF_FLOAT&&(Pe=n.RG16F),fe===n.UNSIGNED_BYTE&&(Pe=n.RG8)),U===n.RG_INTEGER&&(fe===n.UNSIGNED_BYTE&&(Pe=n.RG8UI),fe===n.UNSIGNED_SHORT&&(Pe=n.RG16UI),fe===n.UNSIGNED_INT&&(Pe=n.RG32UI),fe===n.BYTE&&(Pe=n.RG8I),fe===n.SHORT&&(Pe=n.RG16I),fe===n.INT&&(Pe=n.RG32I)),U===n.RGB&&fe===n.UNSIGNED_INT_5_9_9_9_REV&&(Pe=n.RGB9_E5),U===n.RGBA){const it=Ie?bh:cn.getTransfer(Re);fe===n.FLOAT&&(Pe=n.RGBA32F),fe===n.HALF_FLOAT&&(Pe=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(Pe=it===pn?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(Pe=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(Pe=n.RGB5_A1)}return(Pe===n.R16F||Pe===n.R32F||Pe===n.RG16F||Pe===n.RG32F||Pe===n.RGBA16F||Pe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Pe}function S(Z,U){return x(Z)===!0||Z.isFramebufferTexture&&Z.minFilter!==Qn&&Z.minFilter!==qt?Math.log2(Math.max(U.width,U.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?U.mipmaps.length:1}function C(Z){const U=Z.target;U.removeEventListener("dispose",C),E(U),U.isVideoTexture&&f.delete(U)}function P(Z){const U=Z.target;U.removeEventListener("dispose",P),B(U)}function E(Z){const U=i.get(Z);if(U.__webglInit===void 0)return;const fe=Z.source,Re=p.get(fe);if(Re){const Ie=Re[U.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&I(Z),Object.keys(Re).length===0&&p.delete(fe)}i.remove(Z)}function I(Z){const U=i.get(Z);n.deleteTexture(U.__webglTexture);const fe=Z.source,Re=p.get(fe);delete Re[U.__cacheKey],o.memory.textures--}function B(Z){const U=i.get(Z);if(Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(U.__webglFramebuffer[Re]))for(let Ie=0;Ie<U.__webglFramebuffer[Re].length;Ie++)n.deleteFramebuffer(U.__webglFramebuffer[Re][Ie]);else n.deleteFramebuffer(U.__webglFramebuffer[Re]);U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer[Re])}else{if(Array.isArray(U.__webglFramebuffer))for(let Re=0;Re<U.__webglFramebuffer.length;Re++)n.deleteFramebuffer(U.__webglFramebuffer[Re]);else n.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&n.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&n.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let Re=0;Re<U.__webglColorRenderbuffer.length;Re++)U.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(U.__webglColorRenderbuffer[Re]);U.__webglDepthRenderbuffer&&n.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const fe=Z.textures;for(let Re=0,Ie=fe.length;Re<Ie;Re++){const Pe=i.get(fe[Re]);Pe.__webglTexture&&(n.deleteTexture(Pe.__webglTexture),o.memory.textures--),i.remove(fe[Re])}i.remove(Z)}let R=0;function b(){R=0}function k(){const Z=R;return Z>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+r.maxTextures),R+=1,Z}function Y(Z){const U=[];return U.push(Z.wrapS),U.push(Z.wrapT),U.push(Z.wrapR||0),U.push(Z.magFilter),U.push(Z.minFilter),U.push(Z.anisotropy),U.push(Z.internalFormat),U.push(Z.format),U.push(Z.type),U.push(Z.generateMipmaps),U.push(Z.premultiplyAlpha),U.push(Z.flipY),U.push(Z.unpackAlignment),U.push(Z.colorSpace),U.join()}function G(Z,U){const fe=i.get(Z);if(Z.isVideoTexture&&Le(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&fe.__version!==Z.version){const Re=Z.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(fe,Z,U);return}}t.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+U)}function q(Z,U){const fe=i.get(Z);if(Z.version>0&&fe.__version!==Z.version){ue(fe,Z,U);return}t.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+U)}function $(Z,U){const fe=i.get(Z);if(Z.version>0&&fe.__version!==Z.version){ue(fe,Z,U);return}t.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+U)}function ie(Z,U){const fe=i.get(Z);if(Z.version>0&&fe.__version!==Z.version){Be(fe,Z,U);return}t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+U)}const pe={[Ya]:n.REPEAT,[Zn]:n.CLAMP_TO_EDGE,[af]:n.MIRRORED_REPEAT},F={[Qn]:n.NEAREST,[$1]:n.NEAREST_MIPMAP_NEAREST,[jl]:n.NEAREST_MIPMAP_LINEAR,[qt]:n.LINEAR,[Xu]:n.LINEAR_MIPMAP_NEAREST,[rs]:n.LINEAR_MIPMAP_LINEAR},K={[m7]:n.NEVER,[A7]:n.ALWAYS,[g7]:n.LESS,[$S]:n.LEQUAL,[v7]:n.EQUAL,[_7]:n.GEQUAL,[y7]:n.GREATER,[x7]:n.NOTEQUAL};function V(Z,U){if(U.type===qn&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===qt||U.magFilter===Xu||U.magFilter===jl||U.magFilter===rs||U.minFilter===qt||U.minFilter===Xu||U.minFilter===jl||U.minFilter===rs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Z,n.TEXTURE_WRAP_S,pe[U.wrapS]),n.texParameteri(Z,n.TEXTURE_WRAP_T,pe[U.wrapT]),(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Z,n.TEXTURE_WRAP_R,pe[U.wrapR]),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,F[U.magFilter]),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,F[U.minFilter]),U.compareFunction&&(n.texParameteri(Z,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Z,n.TEXTURE_COMPARE_FUNC,K[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===Qn||U.minFilter!==jl&&U.minFilter!==rs||U.type===qn&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||i.get(U).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Z,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),i.get(U).__currentAnisotropy=U.anisotropy}}}function ne(Z,U){let fe=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,U.addEventListener("dispose",C));const Re=U.source;let Ie=p.get(Re);Ie===void 0&&(Ie={},p.set(Re,Ie));const Pe=Y(U);if(Pe!==Z.__cacheKey){Ie[Pe]===void 0&&(Ie[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ie[Pe].usedTimes++;const it=Ie[Z.__cacheKey];it!==void 0&&(Ie[Z.__cacheKey].usedTimes--,it.usedTimes===0&&I(U)),Z.__cacheKey=Pe,Z.__webglTexture=Ie[Pe].texture}return fe}function ue(Z,U,fe){let Re=n.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),U.isData3DTexture&&(Re=n.TEXTURE_3D);const Ie=ne(Z,U),Pe=U.source;t.bindTexture(Re,Z.__webglTexture,n.TEXTURE0+fe);const it=i.get(Pe);if(Pe.version!==it.__version||Ie===!0){t.activeTexture(n.TEXTURE0+fe);const Ge=cn.getPrimaries(cn.workingColorSpace),Ue=U.colorSpace===bo?null:cn.getPrimaries(U.colorSpace),yt=U.colorSpace===bo||Ge===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,U.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,U.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Oe=_(U.image,!1,r.maxTextureSize);Oe=Ze(U,Oe);const rt=s.convert(U.format,U.colorSpace),wt=s.convert(U.type);let pt=A(U.internalFormat,rt,wt,U.colorSpace,U.isVideoTexture);V(Re,U);let Je;const lt=U.mipmaps,Mt=U.isVideoTexture!==!0,te=it.__version===void 0||Ie===!0,_e=Pe.dataReady,Q=S(U,Oe);if(U.isDepthTexture)pt=n.DEPTH_COMPONENT16,U.type===qn?pt=n.DEPTH_COMPONENT32F:U.type===Za?pt=n.DEPTH_COMPONENT24:U.type===Tf&&(pt=n.DEPTH24_STENCIL8),te&&(Mt?t.texStorage2D(n.TEXTURE_2D,1,pt,Oe.width,Oe.height):t.texImage2D(n.TEXTURE_2D,0,pt,Oe.width,Oe.height,0,rt,wt,null));else if(U.isDataTexture)if(lt.length>0){Mt&&te&&t.texStorage2D(n.TEXTURE_2D,Q,pt,lt[0].width,lt[0].height);for(let ye=0,ee=lt.length;ye<ee;ye++)Je=lt[ye],Mt?_e&&t.texSubImage2D(n.TEXTURE_2D,ye,0,0,Je.width,Je.height,rt,wt,Je.data):t.texImage2D(n.TEXTURE_2D,ye,pt,Je.width,Je.height,0,rt,wt,Je.data);U.generateMipmaps=!1}else Mt?(te&&t.texStorage2D(n.TEXTURE_2D,Q,pt,Oe.width,Oe.height),_e&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Oe.width,Oe.height,rt,wt,Oe.data)):t.texImage2D(n.TEXTURE_2D,0,pt,Oe.width,Oe.height,0,rt,wt,Oe.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){Mt&&te&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Q,pt,lt[0].width,lt[0].height,Oe.depth);for(let ye=0,ee=lt.length;ye<ee;ye++)Je=lt[ye],U.format!==ci?rt!==null?Mt?_e&&t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ye,0,0,0,Je.width,Je.height,Oe.depth,rt,Je.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ye,pt,Je.width,Je.height,Oe.depth,0,Je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?_e&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ye,0,0,0,Je.width,Je.height,Oe.depth,rt,wt,Je.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ye,pt,Je.width,Je.height,Oe.depth,0,rt,wt,Je.data)}else{Mt&&te&&t.texStorage2D(n.TEXTURE_2D,Q,pt,lt[0].width,lt[0].height);for(let ye=0,ee=lt.length;ye<ee;ye++)Je=lt[ye],U.format!==ci?rt!==null?Mt?_e&&t.compressedTexSubImage2D(n.TEXTURE_2D,ye,0,0,Je.width,Je.height,rt,Je.data):t.compressedTexImage2D(n.TEXTURE_2D,ye,pt,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mt?_e&&t.texSubImage2D(n.TEXTURE_2D,ye,0,0,Je.width,Je.height,rt,wt,Je.data):t.texImage2D(n.TEXTURE_2D,ye,pt,Je.width,Je.height,0,rt,wt,Je.data)}else if(U.isDataArrayTexture)Mt?(te&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Q,pt,Oe.width,Oe.height,Oe.depth),_e&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,rt,wt,Oe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,pt,Oe.width,Oe.height,Oe.depth,0,rt,wt,Oe.data);else if(U.isData3DTexture)Mt?(te&&t.texStorage3D(n.TEXTURE_3D,Q,pt,Oe.width,Oe.height,Oe.depth),_e&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,rt,wt,Oe.data)):t.texImage3D(n.TEXTURE_3D,0,pt,Oe.width,Oe.height,Oe.depth,0,rt,wt,Oe.data);else if(U.isFramebufferTexture){if(te)if(Mt)t.texStorage2D(n.TEXTURE_2D,Q,pt,Oe.width,Oe.height);else{let ye=Oe.width,ee=Oe.height;for(let Fe=0;Fe<Q;Fe++)t.texImage2D(n.TEXTURE_2D,Fe,pt,ye,ee,0,rt,wt,null),ye>>=1,ee>>=1}}else if(lt.length>0){if(Mt&&te){const ye=at(lt[0]);t.texStorage2D(n.TEXTURE_2D,Q,pt,ye.width,ye.height)}for(let ye=0,ee=lt.length;ye<ee;ye++)Je=lt[ye],Mt?_e&&t.texSubImage2D(n.TEXTURE_2D,ye,0,0,rt,wt,Je):t.texImage2D(n.TEXTURE_2D,ye,pt,rt,wt,Je);U.generateMipmaps=!1}else if(Mt){if(te){const ye=at(Oe);t.texStorage2D(n.TEXTURE_2D,Q,pt,ye.width,ye.height)}_e&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,rt,wt,Oe)}else t.texImage2D(n.TEXTURE_2D,0,pt,rt,wt,Oe);x(U)&&g(Re),it.__version=Pe.version,U.onUpdate&&U.onUpdate(U)}Z.__version=U.version}function Be(Z,U,fe){if(U.image.length!==6)return;const Re=ne(Z,U),Ie=U.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Z.__webglTexture,n.TEXTURE0+fe);const Pe=i.get(Ie);if(Ie.version!==Pe.__version||Re===!0){t.activeTexture(n.TEXTURE0+fe);const it=cn.getPrimaries(cn.workingColorSpace),Ge=U.colorSpace===bo?null:cn.getPrimaries(U.colorSpace),Ue=U.colorSpace===bo||it===Ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,U.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,U.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ue);const yt=U.isCompressedTexture||U.image[0].isCompressedTexture,Oe=U.image[0]&&U.image[0].isDataTexture,rt=[];for(let ee=0;ee<6;ee++)!yt&&!Oe?rt[ee]=_(U.image[ee],!0,r.maxCubemapSize):rt[ee]=Oe?U.image[ee].image:U.image[ee],rt[ee]=Ze(U,rt[ee]);const wt=rt[0],pt=s.convert(U.format,U.colorSpace),Je=s.convert(U.type),lt=A(U.internalFormat,pt,Je,U.colorSpace),Mt=U.isVideoTexture!==!0,te=Pe.__version===void 0||Re===!0,_e=Ie.dataReady;let Q=S(U,wt);V(n.TEXTURE_CUBE_MAP,U);let ye;if(yt){Mt&&te&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Q,lt,wt.width,wt.height);for(let ee=0;ee<6;ee++){ye=rt[ee].mipmaps;for(let Fe=0;Fe<ye.length;Fe++){const Ve=ye[Fe];U.format!==ci?pt!==null?Mt?_e&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe,0,0,Ve.width,Ve.height,pt,Ve.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe,lt,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Mt?_e&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe,0,0,Ve.width,Ve.height,pt,Je,Ve.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe,lt,Ve.width,Ve.height,0,pt,Je,Ve.data)}}}else{if(ye=U.mipmaps,Mt&&te){ye.length>0&&Q++;const ee=at(rt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Q,lt,ee.width,ee.height)}for(let ee=0;ee<6;ee++)if(Oe){Mt?_e&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,0,0,rt[ee].width,rt[ee].height,pt,Je,rt[ee].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,lt,rt[ee].width,rt[ee].height,0,pt,Je,rt[ee].data);for(let Fe=0;Fe<ye.length;Fe++){const kt=ye[Fe].image[ee].image;Mt?_e&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe+1,0,0,kt.width,kt.height,pt,Je,kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe+1,lt,kt.width,kt.height,0,pt,Je,kt.data)}}else{Mt?_e&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,0,0,pt,Je,rt[ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,lt,pt,Je,rt[ee]);for(let Fe=0;Fe<ye.length;Fe++){const Ve=ye[Fe];Mt?_e&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe+1,0,0,pt,Je,Ve.image[ee]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe+1,lt,pt,Je,Ve.image[ee])}}}x(U)&&g(n.TEXTURE_CUBE_MAP),Pe.__version=Ie.version,U.onUpdate&&U.onUpdate(U)}Z.__version=U.version}function se(Z,U,fe,Re,Ie,Pe){const it=s.convert(fe.format,fe.colorSpace),Ge=s.convert(fe.type),Ue=A(fe.internalFormat,it,Ge,fe.colorSpace);if(!i.get(U).__hasExternalTextures){const Oe=Math.max(1,U.width>>Pe),rt=Math.max(1,U.height>>Pe);Ie===n.TEXTURE_3D||Ie===n.TEXTURE_2D_ARRAY?t.texImage3D(Ie,Pe,Ue,Oe,rt,U.depth,0,it,Ge,null):t.texImage2D(Ie,Pe,Ue,Oe,rt,0,it,Ge,null)}t.bindFramebuffer(n.FRAMEBUFFER,Z),De(U)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Ie,i.get(fe).__webglTexture,0,he(U)):(Ie===n.TEXTURE_2D||Ie>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Ie,i.get(fe).__webglTexture,Pe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function we(Z,U,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,Z),U.depthBuffer&&!U.stencilBuffer){let Re=n.DEPTH_COMPONENT24;if(fe||De(U)){const Ie=U.depthTexture;Ie&&Ie.isDepthTexture&&(Ie.type===qn?Re=n.DEPTH_COMPONENT32F:Ie.type===Za&&(Re=n.DEPTH_COMPONENT24));const Pe=he(U);De(U)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Pe,Re,U.width,U.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Pe,Re,U.width,U.height)}else n.renderbufferStorage(n.RENDERBUFFER,Re,U.width,U.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Z)}else if(U.depthBuffer&&U.stencilBuffer){const Re=he(U);fe&&De(U)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,U.width,U.height):De(U)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,U.width,U.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Z)}else{const Re=U.textures;for(let Ie=0;Ie<Re.length;Ie++){const Pe=Re[Ie],it=s.convert(Pe.format,Pe.colorSpace),Ge=s.convert(Pe.type),Ue=A(Pe.internalFormat,it,Ge,Pe.colorSpace),yt=he(U);fe&&De(U)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,Ue,U.width,U.height):De(U)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yt,Ue,U.width,U.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,U.width,U.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Se(Z,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Z),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),G(U.depthTexture,0);const Re=i.get(U.depthTexture).__webglTexture,Ie=he(U);if(U.depthTexture.format===nc)De(U)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else if(U.depthTexture.format===lf)De(U)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function be(Z){const U=i.get(Z),fe=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!U.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Se(U.__webglFramebuffer,Z)}else if(fe){U.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(n.FRAMEBUFFER,U.__webglFramebuffer[Re]),U.__webglDepthbuffer[Re]=n.createRenderbuffer(),we(U.__webglDepthbuffer[Re],Z,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=n.createRenderbuffer(),we(U.__webglDepthbuffer,Z,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function ot(Z,U,fe){const Re=i.get(Z);U!==void 0&&se(Re.__webglFramebuffer,Z,Z.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),fe!==void 0&&be(Z)}function _t(Z){const U=Z.texture,fe=i.get(Z),Re=i.get(U);Z.addEventListener("dispose",P);const Ie=Z.textures,Pe=Z.isWebGLCubeRenderTarget===!0,it=Ie.length>1;if(it||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=U.version,o.memory.textures++),Pe){fe.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)if(U.mipmaps&&U.mipmaps.length>0){fe.__webglFramebuffer[Ge]=[];for(let Ue=0;Ue<U.mipmaps.length;Ue++)fe.__webglFramebuffer[Ge][Ue]=n.createFramebuffer()}else fe.__webglFramebuffer[Ge]=n.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){fe.__webglFramebuffer=[];for(let Ge=0;Ge<U.mipmaps.length;Ge++)fe.__webglFramebuffer[Ge]=n.createFramebuffer()}else fe.__webglFramebuffer=n.createFramebuffer();if(it)for(let Ge=0,Ue=Ie.length;Ge<Ue;Ge++){const yt=i.get(Ie[Ge]);yt.__webglTexture===void 0&&(yt.__webglTexture=n.createTexture(),o.memory.textures++)}if(Z.samples>0&&De(Z)===!1){fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let Ge=0;Ge<Ie.length;Ge++){const Ue=Ie[Ge];fe.__webglColorRenderbuffer[Ge]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ge]);const yt=s.convert(Ue.format,Ue.colorSpace),Oe=s.convert(Ue.type),rt=A(Ue.internalFormat,yt,Oe,Ue.colorSpace,Z.isXRRenderTarget===!0),wt=he(Z);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,rt,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ge])}n.bindRenderbuffer(n.RENDERBUFFER,null),Z.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),we(fe.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Pe){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),V(n.TEXTURE_CUBE_MAP,U);for(let Ge=0;Ge<6;Ge++)if(U.mipmaps&&U.mipmaps.length>0)for(let Ue=0;Ue<U.mipmaps.length;Ue++)se(fe.__webglFramebuffer[Ge][Ue],Z,U,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ue);else se(fe.__webglFramebuffer[Ge],Z,U,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0);x(U)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(it){for(let Ge=0,Ue=Ie.length;Ge<Ue;Ge++){const yt=Ie[Ge],Oe=i.get(yt);t.bindTexture(n.TEXTURE_2D,Oe.__webglTexture),V(n.TEXTURE_2D,yt),se(fe.__webglFramebuffer,Z,yt,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,0),x(yt)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ge=n.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(Ge=Z.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ge,Re.__webglTexture),V(Ge,U),U.mipmaps&&U.mipmaps.length>0)for(let Ue=0;Ue<U.mipmaps.length;Ue++)se(fe.__webglFramebuffer[Ue],Z,U,n.COLOR_ATTACHMENT0,Ge,Ue);else se(fe.__webglFramebuffer,Z,U,n.COLOR_ATTACHMENT0,Ge,0);x(U)&&g(Ge),t.unbindTexture()}Z.depthBuffer&&be(Z)}function ae(Z){const U=Z.textures;for(let fe=0,Re=U.length;fe<Re;fe++){const Ie=U[fe];if(x(Ie)){const Pe=Z.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,it=i.get(Ie).__webglTexture;t.bindTexture(Pe,it),g(Pe),t.unbindTexture()}}}const ht=[],me=[];function ve(Z){if(Z.samples>0){if(De(Z)===!1){const U=Z.textures,fe=Z.width,Re=Z.height;let Ie=n.COLOR_BUFFER_BIT;const Pe=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=i.get(Z),Ge=U.length>1;if(Ge)for(let Ue=0;Ue<U.length;Ue++)t.bindFramebuffer(n.FRAMEBUFFER,it.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,it.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,it.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,it.__webglFramebuffer);for(let Ue=0;Ue<U.length;Ue++){if(Z.resolveDepthBuffer&&(Z.depthBuffer&&(Ie|=n.DEPTH_BUFFER_BIT),Z.stencilBuffer&&Z.resolveStencilBuffer&&(Ie|=n.STENCIL_BUFFER_BIT)),Ge){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,it.__webglColorRenderbuffer[Ue]);const yt=i.get(U[Ue]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,yt,0)}n.blitFramebuffer(0,0,fe,Re,0,0,fe,Re,Ie,n.NEAREST),l===!0&&(ht.length=0,me.length=0,ht.push(n.COLOR_ATTACHMENT0+Ue),Z.depthBuffer&&Z.resolveDepthBuffer===!1&&(ht.push(Pe),me.push(Pe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,me)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ht))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ge)for(let Ue=0;Ue<U.length;Ue++){t.bindFramebuffer(n.FRAMEBUFFER,it.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,it.__webglColorRenderbuffer[Ue]);const yt=i.get(U[Ue]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,it.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,yt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,it.__webglMultisampledFramebuffer)}else if(Z.depthBuffer&&Z.resolveDepthBuffer===!1&&l){const U=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[U])}}}function he(Z){return Math.min(r.maxSamples,Z.samples)}function De(Z){const U=i.get(Z);return Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Le(Z){const U=o.render.frame;f.get(Z)!==U&&(f.set(Z,U),Z.update())}function Ze(Z,U){const fe=Z.colorSpace,Re=Z.format,Ie=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||fe!==us&&fe!==bo&&(cn.getTransfer(fe)===pn?(Re!==ci||Ie!==Br)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),U}function at(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement?(c.width=Z.naturalWidth||Z.width,c.height=Z.naturalHeight||Z.height):typeof VideoFrame<"u"&&Z instanceof VideoFrame?(c.width=Z.displayWidth,c.height=Z.displayHeight):(c.width=Z.width,c.height=Z.height),c}this.allocateTextureUnit=k,this.resetTextureUnits=b,this.setTexture2D=G,this.setTexture2DArray=q,this.setTexture3D=$,this.setTextureCube=ie,this.rebindTextures=ot,this.setupRenderTarget=_t,this.updateRenderTargetMipmap=ae,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=se,this.useMultisampledRTT=De}function F7(n,e){function t(i,r=bo){let s;const o=cn.getTransfer(r);if(i===Br)return n.UNSIGNED_BYTE;if(i===XS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===JS)return n.UNSIGNED_SHORT_5_5_5_1;if(i===t7)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===VS)return n.BYTE;if(i===WS)return n.SHORT;if(i===jS)return n.UNSIGNED_SHORT;if(i===ev)return n.INT;if(i===Za)return n.UNSIGNED_INT;if(i===qn)return n.FLOAT;if(i===vi)return n.HALF_FLOAT;if(i===n7)return n.ALPHA;if(i===i7)return n.RGB;if(i===ci)return n.RGBA;if(i===r7)return n.LUMINANCE;if(i===s7)return n.LUMINANCE_ALPHA;if(i===nc)return n.DEPTH_COMPONENT;if(i===lf)return n.DEPTH_STENCIL;if(i===tv)return n.RED;if(i===KS)return n.RED_INTEGER;if(i===o7)return n.RG;if(i===YS)return n.RG_INTEGER;if(i===ZS)return n.RGBA_INTEGER;if(i===yg||i===xg||i===_g||i===Ag)if(o===pn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===yg)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===xg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===_g)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Ag)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===yg)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===xg)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===_g)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Ag)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===o3||i===a3||i===l3||i===c3)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===o3)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===a3)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===l3)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===c3)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===u3||i===f3||i===d3)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===u3||i===f3)return o===pn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===d3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===h3||i===p3||i===m3||i===g3||i===v3||i===y3||i===x3||i===_3||i===A3||i===S3||i===M3||i===C3||i===w3||i===E3)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===h3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===p3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===m3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===g3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===v3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===y3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===x3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===_3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===A3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===S3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===M3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===C3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===w3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===E3)return o===pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Sg||i===T3||i===b3)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Sg)return o===pn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===T3)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===b3)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===a7||i===R3||i===P3||i===I3)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Sg)return s.COMPRESSED_RED_RGTC1_EXT;if(i===R3)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===P3)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===I3)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Tf?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class O7 extends Ln{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Lo extends Wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XK={type:"move"};class tx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(c,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(XK)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Lo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const JK=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,KK=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class YK{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new $t,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}render(e,t){if(this.texture!==null){if(this.mesh===null){const i=t.cameras[0].viewport,r=new Pi({vertexShader:JK,fragmentShader:KK,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new An(new Jo(20,20),r)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class ZK extends oo{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,h=null,p=null,m=null,v=null;const _=new YK,x=t.getContextAttributes();let g=null,A=null;const S=[],C=[],P=new Te;let E=null;const I=new Ln;I.layers.enable(1),I.viewport=new un;const B=new Ln;B.layers.enable(2),B.viewport=new un;const R=[I,B],b=new O7;b.layers.enable(1),b.layers.enable(2);let k=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let we=S[se];return we===void 0&&(we=new tx,S[se]=we),we.getTargetRaySpace()},this.getControllerGrip=function(se){let we=S[se];return we===void 0&&(we=new tx,S[se]=we),we.getGripSpace()},this.getHand=function(se){let we=S[se];return we===void 0&&(we=new tx,S[se]=we),we.getHandSpace()};function G(se){const we=C.indexOf(se.inputSource);if(we===-1)return;const Se=S[we];Se!==void 0&&(Se.update(se.inputSource,se.frame,c||o),Se.dispatchEvent({type:se.type,data:se.inputSource}))}function q(){r.removeEventListener("select",G),r.removeEventListener("selectstart",G),r.removeEventListener("selectend",G),r.removeEventListener("squeeze",G),r.removeEventListener("squeezestart",G),r.removeEventListener("squeezeend",G),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",$);for(let se=0;se<S.length;se++){const we=C[se];we!==null&&(C[se]=null,S[se].disconnect(we))}k=null,Y=null,_.reset(),e.setRenderTarget(g),m=null,p=null,h=null,r=null,A=null,Be.stop(),i.isPresenting=!1,e.setPixelRatio(E),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",q),r.addEventListener("inputsourceschange",$),x.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(P),r.renderState.layers===void 0){const we={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,we),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Ri(m.framebufferWidth,m.framebufferHeight,{format:ci,type:Br,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let we=null,Se=null,be=null;x.depth&&(be=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=x.stencil?lf:nc,Se=x.stencil?Tf:Za);const ot={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(ot),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new Ri(p.textureWidth,p.textureHeight,{format:ci,type:Br,depthTexture:new a4(p.textureWidth,p.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Be.setContext(r),Be.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function $(se){for(let we=0;we<se.removed.length;we++){const Se=se.removed[we],be=C.indexOf(Se);be>=0&&(C[be]=null,S[be].disconnect(Se))}for(let we=0;we<se.added.length;we++){const Se=se.added[we];let be=C.indexOf(Se);if(be===-1){for(let _t=0;_t<S.length;_t++)if(_t>=C.length){C.push(Se),be=_t;break}else if(C[_t]===null){C[_t]=Se,be=_t;break}if(be===-1)break}const ot=S[be];ot&&ot.connect(Se)}}const ie=new H,pe=new H;function F(se,we,Se){ie.setFromMatrixPosition(we.matrixWorld),pe.setFromMatrixPosition(Se.matrixWorld);const be=ie.distanceTo(pe),ot=we.projectionMatrix.elements,_t=Se.projectionMatrix.elements,ae=ot[14]/(ot[10]-1),ht=ot[14]/(ot[10]+1),me=(ot[9]+1)/ot[5],ve=(ot[9]-1)/ot[5],he=(ot[8]-1)/ot[0],De=(_t[8]+1)/_t[0],Le=ae*he,Ze=ae*De,at=be/(-he+De),Z=at*-he;we.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Z),se.translateZ(at),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const U=ae+at,fe=ht+at,Re=Le-Z,Ie=Ze+(be-Z),Pe=me*ht/fe*U,it=ve*ht/fe*U;se.projectionMatrix.makePerspective(Re,Ie,Pe,it,U,fe),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function K(se,we){we===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(we.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;_.texture!==null&&(se.near=_.depthNear,se.far=_.depthFar),b.near=B.near=I.near=se.near,b.far=B.far=I.far=se.far,(k!==b.near||Y!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),k=b.near,Y=b.far,I.near=k,I.far=Y,B.near=k,B.far=Y,I.updateProjectionMatrix(),B.updateProjectionMatrix(),se.updateProjectionMatrix());const we=se.parent,Se=b.cameras;K(b,we);for(let be=0;be<Se.length;be++)K(Se[be],we);Se.length===2?F(b,I,B):b.projectionMatrix.copy(I.projectionMatrix),V(se,b,we)};function V(se,we,Se){Se===null?se.matrix.copy(we.matrixWorld):(se.matrix.copy(Se.matrixWorld),se.matrix.invert(),se.matrix.multiply(we.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(we.projectionMatrix),se.projectionMatrixInverse.copy(we.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=uf*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.hasDepthSensing=function(){return _.texture!==null};let ne=null;function ue(se,we){if(f=we.getViewerPose(c||o),v=we,f!==null){const Se=f.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let be=!1;Se.length!==b.cameras.length&&(b.cameras.length=0,be=!0);for(let _t=0;_t<Se.length;_t++){const ae=Se[_t];let ht=null;if(m!==null)ht=m.getViewport(ae);else{const ve=h.getViewSubImage(p,ae);ht=ve.viewport,_t===0&&(e.setRenderTargetTextures(A,ve.colorTexture,p.ignoreDepthValues?void 0:ve.depthStencilTexture),e.setRenderTarget(A))}let me=R[_t];me===void 0&&(me=new Ln,me.layers.enable(_t),me.viewport=new un,R[_t]=me),me.matrix.fromArray(ae.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(ae.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(ht.x,ht.y,ht.width,ht.height),_t===0&&(b.matrix.copy(me.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),be===!0&&b.cameras.push(me)}const ot=r.enabledFeatures;if(ot&&ot.includes("depth-sensing")){const _t=h.getDepthInformation(Se[0]);_t&&_t.isValid&&_t.texture&&_.init(e,_t,r.renderState)}}for(let Se=0;Se<S.length;Se++){const be=C[Se],ot=S[Se];be!==null&&ot!==void 0&&ot.update(be,we,c||o)}_.render(e,b),ne&&ne(se,we),we.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:we}),v=null}const Be=new P7;Be.setAnimationLoop(ue),this.setAnimationLoop=function(se){ne=se},this.dispose=function(){}}}const Ml=new ir,QK=new dt;function qK(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,b7(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,A,S,C){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),f(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,C)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,A,S):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===nr&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===nr&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const A=e.get(g),S=A.envMap,C=A.envMapRotation;if(S&&(x.envMap.value=S,Ml.copy(C),Ml.x*=-1,Ml.y*=-1,Ml.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Ml.y*=-1,Ml.z*=-1),x.envMapRotation.value.setFromMatrix4(QK.makeRotationFromEuler(Ml)),x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const P=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*P,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,A,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*A,x.scale.value=S*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function f(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),g.envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,A){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===nr&&x.clearcoatNormalScale.value.negate())),g.dispersion>0&&(x.dispersion.value=g.dispersion),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=A.texture,x.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const A=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(A.matrixWorld),x.nearDistance.value=A.shadow.camera.near,x.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function $K(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,S){const C=S.program;i.uniformBlockBinding(A,C)}function c(A,S){let C=r[A.id];C===void 0&&(v(A),C=f(A),r[A.id]=C,A.addEventListener("dispose",x));const P=S.program;i.updateUBOMapping(A,P);const E=e.render.frame;s[A.id]!==E&&(p(A),s[A.id]=E)}function f(A){const S=h();A.__bindingPointIndex=S;const C=n.createBuffer(),P=A.__size,E=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,P,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,C),C}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const S=r[A.id],C=A.uniforms,P=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let E=0,I=C.length;E<I;E++){const B=Array.isArray(C[E])?C[E]:[C[E]];for(let R=0,b=B.length;R<b;R++){const k=B[R];if(m(k,E,R,P)===!0){const Y=k.__offset,G=Array.isArray(k.value)?k.value:[k.value];let q=0;for(let $=0;$<G.length;$++){const ie=G[$],pe=_(ie);typeof ie=="number"||typeof ie=="boolean"?(k.__data[0]=ie,n.bufferSubData(n.UNIFORM_BUFFER,Y+q,k.__data)):ie.isMatrix3?(k.__data[0]=ie.elements[0],k.__data[1]=ie.elements[1],k.__data[2]=ie.elements[2],k.__data[3]=0,k.__data[4]=ie.elements[3],k.__data[5]=ie.elements[4],k.__data[6]=ie.elements[5],k.__data[7]=0,k.__data[8]=ie.elements[6],k.__data[9]=ie.elements[7],k.__data[10]=ie.elements[8],k.__data[11]=0):(ie.toArray(k.__data,q),q+=pe.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Y,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,S,C,P){const E=A.value,I=S+"_"+C;if(P[I]===void 0)return typeof E=="number"||typeof E=="boolean"?P[I]=E:P[I]=E.clone(),!0;{const B=P[I];if(typeof E=="number"||typeof E=="boolean"){if(B!==E)return P[I]=E,!0}else if(B.equals(E)===!1)return B.copy(E),!0}return!1}function v(A){const S=A.uniforms;let C=0;const P=16;for(let I=0,B=S.length;I<B;I++){const R=Array.isArray(S[I])?S[I]:[S[I]];for(let b=0,k=R.length;b<k;b++){const Y=R[b],G=Array.isArray(Y.value)?Y.value:[Y.value];for(let q=0,$=G.length;q<$;q++){const ie=G[q],pe=_(ie),F=C%P;F!==0&&P-F<pe.boundary&&(C+=P-F),Y.__data=new Float32Array(pe.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=C,C+=pe.storage}}}const E=C%P;return E>0&&(C+=P-E),A.__size=C,A.__cache={},this}function _(A){const S={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function x(A){const S=A.target;S.removeEventListener("dispose",x);const C=o.indexOf(S.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class c4{constructor(e={}){const{canvas:t=M7(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),v=new Int32Array(4);let _=null,x=null;const g=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Cr,this._useLegacyLights=!1,this.toneMapping=$s,this.toneMappingExposure=1;const S=this;let C=!1,P=0,E=0,I=null,B=-1,R=null;const b=new un,k=new un;let Y=null;const G=new We(0);let q=0,$=t.width,ie=t.height,pe=1,F=null,K=null;const V=new un(0,0,$,ie),ne=new un(0,0,$,ie);let ue=!1;const Be=new hp;let se=!1,we=!1;const Se=new dt,be=new H,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _t(){return I===null?pe:1}let ae=i;function ht(T,N){return t.getContext(T,N)}try{const T={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${xc}`),t.addEventListener("webglcontextlost",Q,!1),t.addEventListener("webglcontextrestored",ye,!1),t.addEventListener("webglcontextcreationerror",ee,!1),ae===null){const N="webgl2";if(ae=ht(N,T),ae===null)throw ht(N)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(T){throw console.error("THREE.WebGLRenderer: "+T.message),T}let me,ve,he,De,Le,Ze,at,Z,U,fe,Re,Ie,Pe,it,Ge,Ue,yt,Oe,rt,wt,pt,Je,lt,Mt;function te(){me=new dJ(ae),me.init(),Je=new F7(ae,me),ve=new oJ(ae,me,e,Je),he=new WK(ae),De=new mJ(ae),Le=new BK,Ze=new jK(ae,me,he,Le,ve,Je,De),at=new lJ(S),Z=new fJ(S),U=new SW(ae),lt=new rJ(ae,U),fe=new hJ(ae,U,De,lt),Re=new vJ(ae,fe,U,De),rt=new gJ(ae,ve,Ze),Ue=new aJ(Le),Ie=new IK(S,at,Z,me,ve,lt,Ue),Pe=new qK(S,Le),it=new DK,Ge=new HK(me),Oe=new iJ(S,at,Z,he,Re,p,l),yt=new VK(S,Re,ve),Mt=new $K(ae,De,ve,he),wt=new sJ(ae,me,De),pt=new pJ(ae,me,De),De.programs=Ie.programs,S.capabilities=ve,S.extensions=me,S.properties=Le,S.renderLists=it,S.shadowMap=yt,S.state=he,S.info=De}te();const _e=new ZK(S,ae);this.xr=_e,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const T=me.get("WEBGL_lose_context");T&&T.loseContext()},this.forceContextRestore=function(){const T=me.get("WEBGL_lose_context");T&&T.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(T){T!==void 0&&(pe=T,this.setSize($,ie,!1))},this.getSize=function(T){return T.set($,ie)},this.setSize=function(T,N,W=!0){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=T,ie=N,t.width=Math.floor(T*pe),t.height=Math.floor(N*pe),W===!0&&(t.style.width=T+"px",t.style.height=N+"px"),this.setViewport(0,0,T,N)},this.getDrawingBufferSize=function(T){return T.set($*pe,ie*pe).floor()},this.setDrawingBufferSize=function(T,N,W){$=T,ie=N,pe=W,t.width=Math.floor(T*W),t.height=Math.floor(N*W),this.setViewport(0,0,T,N)},this.getCurrentViewport=function(T){return T.copy(b)},this.getViewport=function(T){return T.copy(V)},this.setViewport=function(T,N,W,j){T.isVector4?V.set(T.x,T.y,T.z,T.w):V.set(T,N,W,j),he.viewport(b.copy(V).multiplyScalar(pe).round())},this.getScissor=function(T){return T.copy(ne)},this.setScissor=function(T,N,W,j){T.isVector4?ne.set(T.x,T.y,T.z,T.w):ne.set(T,N,W,j),he.scissor(k.copy(ne).multiplyScalar(pe).round())},this.getScissorTest=function(){return ue},this.setScissorTest=function(T){he.setScissorTest(ue=T)},this.setOpaqueSort=function(T){F=T},this.setTransparentSort=function(T){K=T},this.getClearColor=function(T){return T.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(T=!0,N=!0,W=!0){let j=0;if(T){let X=!1;if(I!==null){const le=I.texture.format;X=le===ZS||le===YS||le===KS}if(X){const le=I.texture.type,ce=le===Br||le===Za||le===jS||le===Tf||le===XS||le===JS,ge=Oe.getClearColor(),Ae=Oe.getClearAlpha(),Ee=ge.r,Ce=ge.g,qe=ge.b;ce?(m[0]=Ee,m[1]=Ce,m[2]=qe,m[3]=Ae,ae.clearBufferuiv(ae.COLOR,0,m)):(v[0]=Ee,v[1]=Ce,v[2]=qe,v[3]=Ae,ae.clearBufferiv(ae.COLOR,0,v))}else j|=ae.COLOR_BUFFER_BIT}N&&(j|=ae.DEPTH_BUFFER_BIT),W&&(j|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Q,!1),t.removeEventListener("webglcontextrestored",ye,!1),t.removeEventListener("webglcontextcreationerror",ee,!1),it.dispose(),Ge.dispose(),Le.dispose(),at.dispose(),Z.dispose(),Re.dispose(),lt.dispose(),Mt.dispose(),Ie.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Dt),_e.removeEventListener("sessionend",Wn),hn.stop()};function Q(T){T.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const T=De.autoReset,N=yt.enabled,W=yt.autoUpdate,j=yt.needsUpdate,X=yt.type;te(),De.autoReset=T,yt.enabled=N,yt.autoUpdate=W,yt.needsUpdate=j,yt.type=X}function ee(T){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",T.statusMessage)}function Fe(T){const N=T.target;N.removeEventListener("dispose",Fe),Ve(N)}function Ve(T){kt(T),Le.remove(T)}function kt(T){const N=Le.get(T).programs;N!==void 0&&(N.forEach(function(W){Ie.releaseProgram(W)}),T.isShaderMaterial&&Ie.releaseShaderCache(T))}this.renderBufferDirect=function(T,N,W,j,X,le){N===null&&(N=ot);const ce=X.isMesh&&X.matrixWorld.determinant()<0,ge=bc(T,N,W,j,X);he.setMaterial(j,ce);let Ae=W.index,Ee=1;if(j.wireframe===!0){if(Ae=fe.getWireframeAttribute(W),Ae===void 0)return;Ee=2}const Ce=W.drawRange,qe=W.attributes.position;let He=Ce.start*Ee,Ke=(Ce.start+Ce.count)*Ee;le!==null&&(He=Math.max(He,le.start*Ee),Ke=Math.min(Ke,(le.start+le.count)*Ee)),Ae!==null?(He=Math.max(He,0),Ke=Math.min(Ke,Ae.count)):qe!=null&&(He=Math.max(He,0),Ke=Math.min(Ke,qe.count));const ct=Ke-He;if(ct<0||ct===1/0)return;lt.setup(X,j,ge,W,Ae);let mt,tt=wt;if(Ae!==null&&(mt=U.get(Ae),tt=pt,tt.setIndex(mt)),X.isMesh)j.wireframe===!0?(he.setLineWidth(j.wireframeLinewidth*_t()),tt.setMode(ae.LINES)):tt.setMode(ae.TRIANGLES);else if(X.isLine){let je=j.linewidth;je===void 0&&(je=1),he.setLineWidth(je*_t()),X.isLineSegments?tt.setMode(ae.LINES):X.isLineLoop?tt.setMode(ae.LINE_LOOP):tt.setMode(ae.LINE_STRIP)}else X.isPoints?tt.setMode(ae.POINTS):X.isSprite&&tt.setMode(ae.TRIANGLES);if(X.isBatchedMesh)X._multiDrawInstances!==null?tt.renderMultiDrawInstances(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount,X._multiDrawInstances):tt.renderMultiDraw(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount);else if(X.isInstancedMesh)tt.renderInstances(He,ct,X.count);else if(W.isInstancedBufferGeometry){const je=W._maxInstanceCount!==void 0?W._maxInstanceCount:1/0,vt=Math.min(W.instanceCount,je);tt.renderInstances(He,ct,vt)}else tt.render(He,ct)};function Xt(T,N,W){T.transparent===!0&&T.side===es&&T.forceSinglePass===!1?(T.side=nr,T.needsUpdate=!0,Fr(T,N,W),T.side=no,T.needsUpdate=!0,Fr(T,N,W),T.side=es):Fr(T,N,W)}this.compile=function(T,N,W=null){W===null&&(W=T),x=Ge.get(W),x.init(N),A.push(x),W.traverseVisible(function(X){X.isLight&&X.layers.test(N.layers)&&(x.pushLight(X),X.castShadow&&x.pushShadow(X))}),T!==W&&T.traverseVisible(function(X){X.isLight&&X.layers.test(N.layers)&&(x.pushLight(X),X.castShadow&&x.pushShadow(X))}),x.setupLights(S._useLegacyLights);const j=new Set;return T.traverse(function(X){const le=X.material;if(le)if(Array.isArray(le))for(let ce=0;ce<le.length;ce++){const ge=le[ce];Xt(ge,W,X),j.add(ge)}else Xt(le,W,X),j.add(le)}),A.pop(),x=null,j},this.compileAsync=function(T,N,W=null){const j=this.compile(T,N,W);return new Promise(X=>{function le(){if(j.forEach(function(ce){Le.get(ce).currentProgram.isReady()&&j.delete(ce)}),j.size===0){X(T);return}setTimeout(le,10)}me.get("KHR_parallel_shader_compile")!==null?le():setTimeout(le,10)})};let Ut=null;function nn(T){Ut&&Ut(T)}function Dt(){hn.stop()}function Wn(){hn.start()}const hn=new P7;hn.setAnimationLoop(nn),typeof self<"u"&&hn.setContext(self),this.setAnimationLoop=function(T){Ut=T,_e.setAnimationLoop(T),T===null?hn.stop():hn.start()},_e.addEventListener("sessionstart",Dt),_e.addEventListener("sessionend",Wn),this.render=function(T,N){if(N!==void 0&&N.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;T.matrixWorldAutoUpdate===!0&&T.updateMatrixWorld(),N.parent===null&&N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(N),N=_e.getCamera()),T.isScene===!0&&T.onBeforeRender(S,T,N,I),x=Ge.get(T,A.length),x.init(N),A.push(x),Se.multiplyMatrices(N.projectionMatrix,N.matrixWorldInverse),Be.setFromProjectionMatrix(Se),we=this.localClippingEnabled,se=Ue.init(this.clippingPlanes,we),_=it.get(T,g.length),_.init(),g.push(_),fs(T,N,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(F,K);const W=_e.enabled===!1||_e.isPresenting===!1||_e.hasDepthSensing()===!1;W&&Oe.addToRenderList(_,T),this.info.render.frame++,se===!0&&Ue.beginShadows();const j=x.state.shadowsArray;yt.render(j,T,N),se===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const X=_.opaque,le=_.transmissive;if(x.setupLights(S._useLegacyLights),N.isArrayCamera){const ce=N.cameras;if(le.length>0)for(let ge=0,Ae=ce.length;ge<Ae;ge++){const Ee=ce[ge];Tc(X,le,T,Ee)}W&&Oe.render(T);for(let ge=0,Ae=ce.length;ge<Ae;ge++){const Ee=ce[ge];Ec(_,T,Ee,Ee.viewport)}}else le.length>0&&Tc(X,le,T,N),W&&Oe.render(T),Ec(_,T,N);I!==null&&(Ze.updateMultisampleRenderTarget(I),Ze.updateRenderTargetMipmap(I)),T.isScene===!0&&T.onAfterRender(S,T,N),lt.resetDefaultState(),B=-1,R=null,A.pop(),A.length>0?(x=A[A.length-1],se===!0&&Ue.setGlobalState(S.clippingPlanes,x.state.camera)):x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function fs(T,N,W,j){if(T.visible===!1)return;if(T.layers.test(N.layers)){if(T.isGroup)W=T.renderOrder;else if(T.isLOD)T.autoUpdate===!0&&T.update(N);else if(T.isLight)x.pushLight(T),T.castShadow&&x.pushShadow(T);else if(T.isSprite){if(!T.frustumCulled||Be.intersectsSprite(T)){j&&be.setFromMatrixPosition(T.matrixWorld).applyMatrix4(Se);const ce=Re.update(T),ge=T.material;ge.visible&&_.push(T,ce,ge,W,be.z,null)}}else if((T.isMesh||T.isLine||T.isPoints)&&(!T.frustumCulled||Be.intersectsObject(T))){const ce=Re.update(T),ge=T.material;if(j&&(T.boundingSphere!==void 0?(T.boundingSphere===null&&T.computeBoundingSphere(),be.copy(T.boundingSphere.center)):(ce.boundingSphere===null&&ce.computeBoundingSphere(),be.copy(ce.boundingSphere.center)),be.applyMatrix4(T.matrixWorld).applyMatrix4(Se)),Array.isArray(ge)){const Ae=ce.groups;for(let Ee=0,Ce=Ae.length;Ee<Ce;Ee++){const qe=Ae[Ee],He=ge[qe.materialIndex];He&&He.visible&&_.push(T,ce,He,W,be.z,qe)}}else ge.visible&&_.push(T,ce,ge,W,be.z,null)}}const le=T.children;for(let ce=0,ge=le.length;ce<ge;ce++)fs(le[ce],N,W,j)}function Ec(T,N,W,j){const X=T.opaque,le=T.transmissive,ce=T.transparent;x.setupLightsView(W),se===!0&&Ue.setGlobalState(S.clippingPlanes,W),j&&he.viewport(b.copy(j)),X.length>0&&Nr(X,N,W),le.length>0&&Nr(le,N,W),ce.length>0&&Nr(ce,N,W),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function Tc(T,N,W,j){if((W.isScene===!0?W.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[j.id]===void 0&&(x.state.transmissionRenderTarget[j.id]=new Ri(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")||me.has("EXT_color_buffer_float")?vi:Br,minFilter:rs,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const le=x.state.transmissionRenderTarget[j.id],ce=j.viewport||b;le.setSize(ce.z,ce.w);const ge=S.getRenderTarget();S.setRenderTarget(le),S.getClearColor(G),q=S.getClearAlpha(),q<1&&S.setClearColor(16777215,.5),S.clear();const Ae=S.toneMapping;S.toneMapping=$s;const Ee=j.viewport;if(j.viewport!==void 0&&(j.viewport=void 0),x.setupLightsView(j),se===!0&&Ue.setGlobalState(S.clippingPlanes,j),Nr(T,W,j),Ze.updateMultisampleRenderTarget(le),Ze.updateRenderTargetMipmap(le),me.has("WEBGL_multisampled_render_to_texture")===!1){let Ce=!1;for(let qe=0,He=N.length;qe<He;qe++){const Ke=N[qe],ct=Ke.object,mt=Ke.geometry,tt=Ke.material,je=Ke.group;if(tt.side===es&&ct.layers.test(j.layers)){const vt=tt.side;tt.side=nr,tt.needsUpdate=!0,Ko(ct,W,j,mt,tt,je),tt.side=vt,tt.needsUpdate=!0,Ce=!0}}Ce===!0&&(Ze.updateMultisampleRenderTarget(le),Ze.updateRenderTargetMipmap(le))}S.setRenderTarget(ge),S.setClearColor(G,q),Ee!==void 0&&(j.viewport=Ee),S.toneMapping=Ae}function Nr(T,N,W){const j=N.isScene===!0?N.overrideMaterial:null;for(let X=0,le=T.length;X<le;X++){const ce=T[X],ge=ce.object,Ae=ce.geometry,Ee=j===null?ce.material:j,Ce=ce.group;ge.layers.test(W.layers)&&Ko(ge,N,W,Ae,Ee,Ce)}}function Ko(T,N,W,j,X,le){T.onBeforeRender(S,N,W,j,X,le),T.modelViewMatrix.multiplyMatrices(W.matrixWorldInverse,T.matrixWorld),T.normalMatrix.getNormalMatrix(T.modelViewMatrix),X.onBeforeRender(S,N,W,j,T,le),X.transparent===!0&&X.side===es&&X.forceSinglePass===!1?(X.side=nr,X.needsUpdate=!0,S.renderBufferDirect(W,N,j,X,T,le),X.side=no,X.needsUpdate=!0,S.renderBufferDirect(W,N,j,X,T,le),X.side=es):S.renderBufferDirect(W,N,j,X,T,le),T.onAfterRender(S,N,W,j,X,le)}function Fr(T,N,W){N.isScene!==!0&&(N=ot);const j=Le.get(T),X=x.state.lights,le=x.state.shadowsArray,ce=X.state.version,ge=Ie.getParameters(T,X.state,le,N,W),Ae=Ie.getProgramCacheKey(ge);let Ee=j.programs;j.environment=T.isMeshStandardMaterial?N.environment:null,j.fog=N.fog,j.envMap=(T.isMeshStandardMaterial?Z:at).get(T.envMap||j.environment),j.envMapRotation=j.environment!==null&&T.envMap===null?N.environmentRotation:T.envMapRotation,Ee===void 0&&(T.addEventListener("dispose",Fe),Ee=new Map,j.programs=Ee);let Ce=Ee.get(Ae);if(Ce!==void 0){if(j.currentProgram===Ce&&j.lightsStateVersion===ce)return Nt(T,ge),Ce}else ge.uniforms=Ie.getUniforms(T),T.onBuild(W,ge,S),T.onBeforeCompile(ge,S),Ce=Ie.acquireProgram(ge,Ae),Ee.set(Ae,Ce),j.uniforms=ge.uniforms;const qe=j.uniforms;return(!T.isShaderMaterial&&!T.isRawShaderMaterial||T.clipping===!0)&&(qe.clippingPlanes=Ue.uniform),Nt(T,ge),j.needsLights=D(T),j.lightsStateVersion=ce,j.needsLights&&(qe.ambientLightColor.value=X.state.ambient,qe.lightProbe.value=X.state.probe,qe.directionalLights.value=X.state.directional,qe.directionalLightShadows.value=X.state.directionalShadow,qe.spotLights.value=X.state.spot,qe.spotLightShadows.value=X.state.spotShadow,qe.rectAreaLights.value=X.state.rectArea,qe.ltc_1.value=X.state.rectAreaLTC1,qe.ltc_2.value=X.state.rectAreaLTC2,qe.pointLights.value=X.state.point,qe.pointLightShadows.value=X.state.pointShadow,qe.hemisphereLights.value=X.state.hemi,qe.directionalShadowMap.value=X.state.directionalShadowMap,qe.directionalShadowMatrix.value=X.state.directionalShadowMatrix,qe.spotShadowMap.value=X.state.spotShadowMap,qe.spotLightMatrix.value=X.state.spotLightMatrix,qe.spotLightMap.value=X.state.spotLightMap,qe.pointShadowMap.value=X.state.pointShadowMap,qe.pointShadowMatrix.value=X.state.pointShadowMatrix),j.currentProgram=Ce,j.uniformsList=null,Ce}function or(T){if(T.uniformsList===null){const N=T.currentProgram.getUniforms();T.uniformsList=Cg.seqWithValue(N.seq,T.uniforms)}return T.uniformsList}function Nt(T,N){const W=Le.get(T);W.outputColorSpace=N.outputColorSpace,W.batching=N.batching,W.instancing=N.instancing,W.instancingColor=N.instancingColor,W.instancingMorph=N.instancingMorph,W.skinning=N.skinning,W.morphTargets=N.morphTargets,W.morphNormals=N.morphNormals,W.morphColors=N.morphColors,W.morphTargetsCount=N.morphTargetsCount,W.numClippingPlanes=N.numClippingPlanes,W.numIntersection=N.numClipIntersection,W.vertexAlphas=N.vertexAlphas,W.vertexTangents=N.vertexTangents,W.toneMapping=N.toneMapping}function bc(T,N,W,j,X){N.isScene!==!0&&(N=ot),Ze.resetTextureUnits();const le=N.fog,ce=j.isMeshStandardMaterial?N.environment:null,ge=I===null?S.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:us,Ae=(j.isMeshStandardMaterial?Z:at).get(j.envMap||ce),Ee=j.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,Ce=!!W.attributes.tangent&&(!!j.normalMap||j.anisotropy>0),qe=!!W.morphAttributes.position,He=!!W.morphAttributes.normal,Ke=!!W.morphAttributes.color;let ct=$s;j.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(ct=S.toneMapping);const mt=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,tt=mt!==void 0?mt.length:0,je=Le.get(j),vt=x.state.lights;if(se===!0&&(we===!0||T!==R)){const Tt=T===R&&j.id===B;Ue.setState(j,T,Tt)}let $e=!1;j.version===je.__version?(je.needsLights&&je.lightsStateVersion!==vt.state.version||je.outputColorSpace!==ge||X.isBatchedMesh&&je.batching===!1||!X.isBatchedMesh&&je.batching===!0||X.isInstancedMesh&&je.instancing===!1||!X.isInstancedMesh&&je.instancing===!0||X.isSkinnedMesh&&je.skinning===!1||!X.isSkinnedMesh&&je.skinning===!0||X.isInstancedMesh&&je.instancingColor===!0&&X.instanceColor===null||X.isInstancedMesh&&je.instancingColor===!1&&X.instanceColor!==null||X.isInstancedMesh&&je.instancingMorph===!0&&X.morphTexture===null||X.isInstancedMesh&&je.instancingMorph===!1&&X.morphTexture!==null||je.envMap!==Ae||j.fog===!0&&je.fog!==le||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==Ue.numPlanes||je.numIntersection!==Ue.numIntersection)||je.vertexAlphas!==Ee||je.vertexTangents!==Ce||je.morphTargets!==qe||je.morphNormals!==He||je.morphColors!==Ke||je.toneMapping!==ct||je.morphTargetsCount!==tt)&&($e=!0):($e=!0,je.__version=j.version);let Et=je.currentProgram;$e===!0&&(Et=Fr(j,N,X));let rn=!1,St=!1,sn=!1;const Jt=Et.getUniforms(),an=je.uniforms;if(he.useProgram(Et.program)&&(rn=!0,St=!0,sn=!0),j.id!==B&&(B=j.id,St=!0),rn||R!==T){Jt.setValue(ae,"projectionMatrix",T.projectionMatrix),Jt.setValue(ae,"viewMatrix",T.matrixWorldInverse);const Tt=Jt.map.cameraPosition;Tt!==void 0&&Tt.setValue(ae,be.setFromMatrixPosition(T.matrixWorld)),ve.logarithmicDepthBuffer&&Jt.setValue(ae,"logDepthBufFC",2/(Math.log(T.far+1)/Math.LN2)),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&Jt.setValue(ae,"isOrthographic",T.isOrthographicCamera===!0),R!==T&&(R=T,St=!0,sn=!0)}if(X.isSkinnedMesh){Jt.setOptional(ae,X,"bindMatrix"),Jt.setOptional(ae,X,"bindMatrixInverse");const Tt=X.skeleton;Tt&&(Tt.boneTexture===null&&Tt.computeBoneTexture(),Jt.setValue(ae,"boneTexture",Tt.boneTexture,Ze))}X.isBatchedMesh&&(Jt.setOptional(ae,X,"batchingTexture"),Jt.setValue(ae,"batchingTexture",X._matricesTexture,Ze));const jn=W.morphAttributes;if((jn.position!==void 0||jn.normal!==void 0||jn.color!==void 0)&&rt.update(X,W,Et),(St||je.receiveShadow!==X.receiveShadow)&&(je.receiveShadow=X.receiveShadow,Jt.setValue(ae,"receiveShadow",X.receiveShadow)),j.isMeshGouraudMaterial&&j.envMap!==null&&(an.envMap.value=Ae,an.flipEnvMap.value=Ae.isCubeTexture&&Ae.isRenderTargetTexture===!1?-1:1),j.isMeshStandardMaterial&&j.envMap===null&&N.environment!==null&&(an.envMapIntensity.value=N.environmentIntensity),St&&(Jt.setValue(ae,"toneMappingExposure",S.toneMappingExposure),je.needsLights&&Lf(an,sn),le&&j.fog===!0&&Pe.refreshFogUniforms(an,le),Pe.refreshMaterialUniforms(an,j,pe,ie,x.state.transmissionRenderTarget[T.id]),Cg.upload(ae,or(je),an,Ze)),j.isShaderMaterial&&j.uniformsNeedUpdate===!0&&(Cg.upload(ae,or(je),an,Ze),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&Jt.setValue(ae,"center",X.center),Jt.setValue(ae,"modelViewMatrix",X.modelViewMatrix),Jt.setValue(ae,"normalMatrix",X.normalMatrix),Jt.setValue(ae,"modelMatrix",X.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const Tt=j.uniformsGroups;for(let bn=0,en=Tt.length;bn<en;bn++){const zt=Tt[bn];Mt.update(zt,Et),Mt.bind(zt,Et)}}return Et}function Lf(T,N){T.ambientLightColor.needsUpdate=N,T.lightProbe.needsUpdate=N,T.directionalLights.needsUpdate=N,T.directionalLightShadows.needsUpdate=N,T.pointLights.needsUpdate=N,T.pointLightShadows.needsUpdate=N,T.spotLights.needsUpdate=N,T.spotLightShadows.needsUpdate=N,T.rectAreaLights.needsUpdate=N,T.hemisphereLights.needsUpdate=N}function D(T){return T.isMeshLambertMaterial||T.isMeshToonMaterial||T.isMeshPhongMaterial||T.isMeshStandardMaterial||T.isShadowMaterial||T.isShaderMaterial&&T.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(T,N,W){Le.get(T.texture).__webglTexture=N,Le.get(T.depthTexture).__webglTexture=W;const j=Le.get(T);j.__hasExternalTextures=!0,j.__autoAllocateDepthBuffer=W===void 0,j.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(T,N){const W=Le.get(T);W.__webglFramebuffer=N,W.__useDefaultFramebuffer=N===void 0},this.setRenderTarget=function(T,N=0,W=0){I=T,P=N,E=W;let j=!0,X=null,le=!1,ce=!1;if(T){const Ae=Le.get(T);Ae.__useDefaultFramebuffer!==void 0?(he.bindFramebuffer(ae.FRAMEBUFFER,null),j=!1):Ae.__webglFramebuffer===void 0?Ze.setupRenderTarget(T):Ae.__hasExternalTextures&&Ze.rebindTextures(T,Le.get(T.texture).__webglTexture,Le.get(T.depthTexture).__webglTexture);const Ee=T.texture;(Ee.isData3DTexture||Ee.isDataArrayTexture||Ee.isCompressedArrayTexture)&&(ce=!0);const Ce=Le.get(T).__webglFramebuffer;T.isWebGLCubeRenderTarget?(Array.isArray(Ce[N])?X=Ce[N][W]:X=Ce[N],le=!0):T.samples>0&&Ze.useMultisampledRTT(T)===!1?X=Le.get(T).__webglMultisampledFramebuffer:Array.isArray(Ce)?X=Ce[W]:X=Ce,b.copy(T.viewport),k.copy(T.scissor),Y=T.scissorTest}else b.copy(V).multiplyScalar(pe).floor(),k.copy(ne).multiplyScalar(pe).floor(),Y=ue;if(he.bindFramebuffer(ae.FRAMEBUFFER,X)&&j&&he.drawBuffers(T,X),he.viewport(b),he.scissor(k),he.setScissorTest(Y),le){const Ae=Le.get(T.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+N,Ae.__webglTexture,W)}else if(ce){const Ae=Le.get(T.texture),Ee=N||0;ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Ae.__webglTexture,W||0,Ee)}B=-1},this.readRenderTargetPixels=function(T,N,W,j,X,le,ce){if(!(T&&T.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ge=Le.get(T).__webglFramebuffer;if(T.isWebGLCubeRenderTarget&&ce!==void 0&&(ge=ge[ce]),ge){he.bindFramebuffer(ae.FRAMEBUFFER,ge);try{const Ae=T.texture,Ee=Ae.format,Ce=Ae.type;if(!ve.textureFormatReadable(Ee)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ve.textureTypeReadable(Ce)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}N>=0&&N<=T.width-j&&W>=0&&W<=T.height-X&&ae.readPixels(N,W,j,X,Je.convert(Ee),Je.convert(Ce),le)}finally{const Ae=I!==null?Le.get(I).__webglFramebuffer:null;he.bindFramebuffer(ae.FRAMEBUFFER,Ae)}}},this.copyFramebufferToTexture=function(T,N,W=0){const j=Math.pow(2,-W),X=Math.floor(N.image.width*j),le=Math.floor(N.image.height*j);Ze.setTexture2D(N,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,W,0,0,T.x,T.y,X,le),he.unbindTexture()},this.copyTextureToTexture=function(T,N,W,j=0){const X=N.image.width,le=N.image.height,ce=Je.convert(W.format),ge=Je.convert(W.type);Ze.setTexture2D(W,0),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,W.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,W.unpackAlignment),N.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,j,T.x,T.y,X,le,ce,ge,N.image.data):N.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,j,T.x,T.y,N.mipmaps[0].width,N.mipmaps[0].height,ce,N.mipmaps[0].data):ae.texSubImage2D(ae.TEXTURE_2D,j,T.x,T.y,ce,ge,N.image),j===0&&W.generateMipmaps&&ae.generateMipmap(ae.TEXTURE_2D),he.unbindTexture()},this.copyTextureToTexture3D=function(T,N,W,j,X=0){const le=T.max.x-T.min.x,ce=T.max.y-T.min.y,ge=T.max.z-T.min.z,Ae=Je.convert(j.format),Ee=Je.convert(j.type);let Ce;if(j.isData3DTexture)Ze.setTexture3D(j,0),Ce=ae.TEXTURE_3D;else if(j.isDataArrayTexture||j.isCompressedArrayTexture)Ze.setTexture2DArray(j,0),Ce=ae.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,j.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,j.unpackAlignment);const qe=ae.getParameter(ae.UNPACK_ROW_LENGTH),He=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),Ke=ae.getParameter(ae.UNPACK_SKIP_PIXELS),ct=ae.getParameter(ae.UNPACK_SKIP_ROWS),mt=ae.getParameter(ae.UNPACK_SKIP_IMAGES),tt=W.isCompressedTexture?W.mipmaps[X]:W.image;ae.pixelStorei(ae.UNPACK_ROW_LENGTH,tt.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,tt.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,T.min.x),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,T.min.y),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,T.min.z),W.isDataTexture||W.isData3DTexture?ae.texSubImage3D(Ce,X,N.x,N.y,N.z,le,ce,ge,Ae,Ee,tt.data):j.isCompressedArrayTexture?ae.compressedTexSubImage3D(Ce,X,N.x,N.y,N.z,le,ce,ge,Ae,tt.data):ae.texSubImage3D(Ce,X,N.x,N.y,N.z,le,ce,ge,Ae,Ee,tt),ae.pixelStorei(ae.UNPACK_ROW_LENGTH,qe),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,He),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Ke),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,ct),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,mt),X===0&&j.generateMipmaps&&ae.generateMipmap(Ce),he.unbindTexture()},this.initTexture=function(T){T.isCubeTexture?Ze.setTextureCube(T,0):T.isData3DTexture?Ze.setTexture3D(T,0):T.isDataArrayTexture||T.isCompressedArrayTexture?Ze.setTexture2DArray(T,0):Ze.setTexture2D(T,0),he.unbindTexture()},this.resetState=function(){P=0,E=0,I=null,he.reset(),lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Js}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===iv?"display-p3":"srgb",t.unpackColorSpace=cn.workingColorSpace===up?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class av{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new We(e),this.density=t}clone(){return new av(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class lv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new We(e),this.near=t,this.far=i}clone(){return new lv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class df extends Wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ir,this.environmentIntensity=1,this.environmentRotation=new ir,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class pp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ih,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Rr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return C7("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Zi=new H;class Qa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix4(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Zi.fromBufferAttribute(this,t),Zi.applyNormalMatrix(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Zi.fromBufferAttribute(this,t),Zi.transformDirection(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=$i(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Bt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=$i(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=$i(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=$i(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=$i(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),i=Bt(i,this.array),r=Bt(r,this.array),s=Bt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u4 extends si{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ru;const dd=new H,su=new H,ou=new H,au=new Te,hd=new Te,k7=new dt,g0=new H,pd=new H,v0=new H,fT=new Te,nx=new Te,dT=new Te;class U7 extends Wt{constructor(e=new u4){if(super(),this.isSprite=!0,this.type="Sprite",ru===void 0){ru=new Pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new pp(t,5);ru.setIndex([0,1,2,0,2,3]),ru.setAttribute("position",new Qa(i,3,0,!1)),ru.setAttribute("uv",new Qa(i,2,3,!1))}this.geometry=ru,this.material=e,this.center=new Te(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),su.setFromMatrixScale(this.matrixWorld),k7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ou.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&su.multiplyScalar(-ou.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;y0(g0.set(-.5,-.5,0),ou,o,su,r,s),y0(pd.set(.5,-.5,0),ou,o,su,r,s),y0(v0.set(.5,.5,0),ou,o,su,r,s),fT.set(0,0),nx.set(1,0),dT.set(1,1);let a=e.ray.intersectTriangle(g0,pd,v0,!1,dd);if(a===null&&(y0(pd.set(-.5,.5,0),ou,o,su,r,s),nx.set(0,1),a=e.ray.intersectTriangle(g0,v0,pd,!1,dd),a===null))return;const l=e.ray.origin.distanceTo(dd);l<e.near||l>e.far||t.push({distance:l,point:dd.clone(),uv:wr.getInterpolation(dd,g0,pd,v0,fT,nx,dT,new Te),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function y0(n,e,t,i,r,s){au.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(hd.x=s*au.x-r*au.y,hd.y=r*au.x+s*au.y):hd.copy(au),n.copy(e),n.x+=hd.x,n.y+=hd.y,n.applyMatrix4(k7)}const x0=new H,hT=new H;class H7 extends Wt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){x0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(x0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){x0.setFromMatrixPosition(e.matrixWorld),hT.setFromMatrixPosition(this.matrixWorld);const i=x0.distanceTo(hT)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const pT=new H,mT=new un,gT=new un,eY=new H,vT=new dt,_0=new H,ix=new Ai,yT=new dt,rx=new _c;class f4 extends An{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=r3,this.bindMatrix=new dt,this.bindMatrixInverse=new dt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _i),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_0),this.boundingBox.expandByPoint(_0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ai),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,_0),this.boundingSphere.expandByPoint(_0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ix.copy(this.boundingSphere),ix.applyMatrix4(r),e.ray.intersectsSphere(ix)!==!1&&(yT.copy(r).invert(),rx.copy(e.ray).applyMatrix4(yT),!(this.boundingBox!==null&&rx.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,rx)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new un,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===r3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===e7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;mT.fromBufferAttribute(r.attributes.skinIndex,e),gT.fromBufferAttribute(r.attributes.skinWeight,e),pT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=gT.getComponent(s);if(o!==0){const a=mT.getComponent(s);vT.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(eY.copy(pT).applyMatrix4(vT),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class cv extends Wt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Uo extends $t{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Qn,f=Qn,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xT=new dt,tY=new dt;class mp{constructor(e=[],t=[]){this.uuid=Rr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new dt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:tY;xT.multiplyMatrices(a,t[s]),xT.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new mp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Uo(t,e,e,ci,qn);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new cv),this.bones.push(o),this.boneInverses.push(new dt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class hf extends jt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const lu=new dt,_T=new dt,A0=[],AT=new _i,nY=new dt,md=new An,gd=new Ai;class d4 extends An{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new hf(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,nY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new _i),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,lu),AT.copy(e.boundingBox).applyMatrix4(lu),this.boundingBox.union(AT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,lu),gd.copy(e.boundingSphere).applyMatrix4(lu),this.boundingSphere.union(gd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(md.geometry=this.geometry,md.material=this.material,md.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gd.copy(this.boundingSphere),gd.applyMatrix4(i),e.ray.intersectsSphere(gd)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,lu),_T.multiplyMatrices(i,lu),md.matrixWorld=_T,md.raycast(e,A0);for(let o=0,a=A0.length;o<a;o++){const l=A0[o];l.instanceId=s,l.object=this,t.push(l)}A0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new hf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Uo(new Float32Array(r*this.count),r,this.count,tv,qn));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function iY(n,e){return n.z-e.z}function rY(n,e){return e.z-n.z}class sY{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const cu="batchId",da=new dt,ST=new dt,oY=new dt,MT=new dt,sx=new hp,S0=new _i,Cl=new Ai,vd=new H,ox=new sY,Hi=new An,M0=[];function aY(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class z7 extends An{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new Pt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Uo(t,e,e,ci,qn);this._matricesTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:f,normalized:h}=l,p=new c.constructor(i*f),m=new jt(p,f,h);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new jt(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(cu,new jt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(cu))throw new Error(`BatchedMesh: Geometry cannot use attribute "${cu}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===cu)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _i);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,da),this.getBoundingBoxAt(r,S0).applyMatrix4(da),t.union(S0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,da),this.getBoundingSphereAt(r,Cl).applyMatrix4(da),t.union(Cl))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),f=c!==null;if(f&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;h.push(!0),p.push(!0);const _=this._geometryCount;this._geometryCount++,oY.toArray(v,_*16),m.needsUpdate=!0,o.push(r),a.push({start:f?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new _i,sphereInitialized:!1,sphere:new Ai});const x=this.geometry.getAttribute(cu);for(let g=0;g<r.vertexCount;g++)x.setX(r.vertexStart+g,_);return x.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===cu)continue;const v=t.getAttribute(m),_=i.getAttribute(m);aY(v,_,l);const x=v.itemSize;for(let g=v.count,A=c;g<A;g++){const S=l+g;for(let C=0;C<x;C++)_.setComponent(S,C,0)}_.needsUpdate=!0,_.addUpdateRange(l*x,c*x)}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,_=a.indexCount;v<_;v++)s.setX(m+v,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const f=this._bounds[e];t.boundingBox!==null?(f.box.copy(t.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,t.boundingSphere!==null?(f.sphere.copy(t.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const h=this._drawRanges[e],p=t.getAttribute("position");return h.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let f=c.start,h=c.start+c.count;f<h;f++){let p=f;a&&(p=a.getX(p)),s.expandByPoint(vd.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,S0),S0.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let f=0;for(let h=c.start,p=c.start+c.count;h<p;h++){let m=h;a&&(m=a.getX(m)),vd.fromBufferAttribute(l,m),f=Math.max(f,s.center.distanceToSquared(vd))}s.radius=Math.sqrt(f),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Hi.material=this.material,Hi.geometry.index=l.index,Hi.geometry.attributes=l.attributes,Hi.geometry.boundingBox===null&&(Hi.geometry.boundingBox=new _i),Hi.geometry.boundingSphere===null&&(Hi.geometry.boundingSphere=new Ai);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const f=s[c];Hi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(c,Hi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Hi.geometry.boundingBox),this.getBoundingSphereAt(c,Hi.geometry.boundingSphere),Hi.raycast(e,M0);for(let h=0,p=M0.length;h<p;h++){const m=M0[h];m.object=this,m.batchId=c,t.push(m)}M0.length=0}Hi.material=null,Hi.geometry.index=null,Hi.geometry.attributes={},Hi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,f=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(MT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),sx.setFromProjectionMatrix(MT,e.coordinateSystem));let v=0;if(this.sortObjects){ST.copy(this.matrixWorld).invert(),vd.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ST);for(let g=0,A=c.length;g<A;g++)if(c[g]&&l[g]){this.getMatrixAt(g,da),this.getBoundingSphereAt(g,Cl).applyMatrix4(da);let S=!1;if(m&&(S=!sx.intersectsSphere(Cl)),!S){const C=vd.distanceTo(Cl.center);ox.push(p[g],C)}}const _=ox.list,x=this.customSort;x===null?_.sort(s.transparent?rY:iY):x.call(this,_,i);for(let g=0,A=_.length;g<A;g++){const S=_[g];f[v]=S.start*a,h[v]=S.count,v++}ox.reset()}else for(let _=0,x=c.length;_<x;_++)if(c[_]&&l[_]){let g=!1;if(m&&(this.getMatrixAt(_,da),this.getBoundingSphereAt(_,Cl).applyMatrix4(da),g=!sx.intersectsSphere(Cl)),!g){const A=p[_];f[v]=A.start*a,h[v]=A.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Xi extends si{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new We(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const u1=new H,f1=new H,CT=new dt,yd=new _c,C0=new Ai,ax=new H,wT=new H;class Wo extends Wt{constructor(e=new Pt,t=new Xi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)u1.fromBufferAttribute(t,r-1),f1.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=u1.distanceTo(f1);e.setAttribute("lineDistance",new st(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),C0.copy(i.boundingSphere),C0.applyMatrix4(r),C0.radius+=s,e.ray.intersectsSphere(C0)===!1)return;CT.copy(r).invert(),yd.copy(e.ray).applyMatrix4(CT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,f=i.index,p=i.attributes.position;if(f!==null){const m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let _=m,x=v-1;_<x;_+=c){const g=f.getX(_),A=f.getX(_+1),S=w0(this,e,yd,l,g,A);S&&t.push(S)}if(this.isLineLoop){const _=f.getX(v-1),x=f.getX(m),g=w0(this,e,yd,l,_,x);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let _=m,x=v-1;_<x;_+=c){const g=w0(this,e,yd,l,_,_+1);g&&t.push(g)}if(this.isLineLoop){const _=w0(this,e,yd,l,v-1,m);_&&t.push(_)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function w0(n,e,t,i,r,s){const o=n.geometry.attributes.position;if(u1.fromBufferAttribute(o,r),f1.fromBufferAttribute(o,s),t.distanceSqToSegment(u1,f1,ax,wT)>i)return;ax.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(ax);if(!(l<e.near||l>e.far))return{distance:l,point:wT.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}const ET=new H,TT=new H;class Ps extends Wo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)ET.fromBufferAttribute(t,r),TT.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+ET.distanceTo(TT);e.setAttribute("lineDistance",new st(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class h4 extends Wo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class uv extends si{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const bT=new dt,F3=new _c,E0=new Ai,T0=new H;class p4 extends Wt{constructor(e=new Pt,t=new uv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),E0.copy(i.boundingSphere),E0.applyMatrix4(r),E0.radius+=s,e.ray.intersectsSphere(E0)===!1)return;bT.copy(r).invert(),F3.copy(e.ray).applyMatrix4(bT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const x=c.getX(v);T0.fromBufferAttribute(h,x),RT(T0,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,_=m;v<_;v++)T0.fromBufferAttribute(h,v),RT(T0,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function RT(n,e,t,i,r,s,o){const a=F3.distanceSqToPoint(n);if(a<t){const l=new H;F3.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class lY extends $t{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:qt,this.magFilter=s!==void 0?s:qt,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class cY extends $t{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Qn,this.minFilter=Qn,this.generateMipmaps=!1,this.needsUpdate=!0}}class fv extends $t{constructor(e,t,i,r,s,o,a,l,c,f,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uY extends fv{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Zn}}class fY extends fv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,io),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class dY extends $t{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Is{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Te:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new H,r=[],s=[],o=[],a=new H,l=new dt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const f=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Vn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Vn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class dv extends Is{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Te){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*f-m*h+this.aX,c=p*h+m*f+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class G7 extends dv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function m4(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const b0=new H,lx=new m4,cx=new m4,ux=new m4;class V7 extends Is{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new H){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=r[(a-1)%s]:(b0.subVectors(r[0],r[1]).add(r[0]),c=b0);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(b0.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=b0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);_<1e-4&&(_=1),v<1e-4&&(v=_),x<1e-4&&(x=_),lx.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,v,_,x),cx.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,v,_,x),ux.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,v,_,x)}else this.curveType==="catmullrom"&&(lx.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),cx.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),ux.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return i.set(lx.calc(l),cx.calc(l),ux.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new H().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function PT(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function hY(n,e){const t=1-n;return t*t*e}function pY(n,e){return 2*(1-n)*n*e}function mY(n,e){return n*n*e}function Qd(n,e,t,i){return hY(n,e)+pY(n,t)+mY(n,i)}function gY(n,e){const t=1-n;return t*t*t*e}function vY(n,e){const t=1-n;return 3*t*t*n*e}function yY(n,e){return 3*(1-n)*n*n*e}function xY(n,e){return n*n*n*e}function qd(n,e,t,i,r){return gY(n,e)+vY(n,t)+yY(n,i)+xY(n,r)}class g4 extends Is{constructor(e=new Te,t=new Te,i=new Te,r=new Te){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Te){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qd(e,r.x,s.x,o.x,a.x),qd(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class W7 extends Is{constructor(e=new H,t=new H,i=new H,r=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new H){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qd(e,r.x,s.x,o.x,a.x),qd(e,r.y,s.y,o.y,a.y),qd(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class v4 extends Is{constructor(e=new Te,t=new Te){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Te){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Te){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class j7 extends Is{constructor(e=new H,t=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new H){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new H){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y4 extends Is{constructor(e=new Te,t=new Te,i=new Te){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Te){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qd(e,r.x,s.x,o.x),Qd(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x4 extends Is{constructor(e=new H,t=new H,i=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new H){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qd(e,r.x,s.x,o.x),Qd(e,r.y,s.y,o.y),Qd(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _4 extends Is{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Te){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],f=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(PT(a,l.x,c.x,f.x,h.x),PT(a,l.y,c.y,f.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Te().fromArray(r))}return this}}var d1=Object.freeze({__proto__:null,ArcCurve:G7,CatmullRomCurve3:V7,CubicBezierCurve:g4,CubicBezierCurve3:W7,EllipseCurve:dv,LineCurve:v4,LineCurve3:j7,QuadraticBezierCurve:y4,QuadraticBezierCurve3:x4,SplineCurve:_4});class X7 extends Is{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new d1[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new d1[r.type]().fromJSON(r))}return this}}class Dh extends X7{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new v4(this.currentPoint.clone(),new Te(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new y4(this.currentPoint.clone(),new Te(e,t),new Te(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new g4(this.currentPoint.clone(),new Te(e,t),new Te(i,r),new Te(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new _4(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new dv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gp extends Pt{constructor(e=[new Te(0,-.5),new Te(.5,0),new Te(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Vn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/t,h=new H,p=new Te,m=new H,v=new H,_=new H;let x=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let A=0;A<=t;A++){const S=i+A*f*r,C=Math.sin(S),P=Math.cos(S);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*C,h.y=e[E].y,h.z=e[E].x*P,o.push(h.x,h.y,h.z),p.x=A/t,p.y=E/(e.length-1),a.push(p.x,p.y);const I=l[3*E+0]*C,B=l[3*E+1],R=l[3*E+0]*P;c.push(I,B,R)}}for(let A=0;A<t;A++)for(let S=0;S<e.length-1;S++){const C=S+A*e.length,P=C,E=C+e.length,I=C+e.length+1,B=C+1;s.push(P,E,B),s.push(I,B,E)}this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("uv",new st(a,2)),this.setAttribute("normal",new st(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gp(e.points,e.segments,e.phiStart,e.phiLength)}}class hv extends gp{constructor(e=1,t=1,i=4,r=8){const s=new Dh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new hv(e.radius,e.length,e.capSegments,e.radialSegments)}}class pv extends Pt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new H,f=new Te;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("normal",new st(a,3)),this.setAttribute("uv",new st(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Rf extends Pt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const f=[],h=[],p=[],m=[];let v=0;const _=[],x=i/2;let g=0;A(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new st(h,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function A(){const C=new H,P=new H;let E=0;const I=(t-e)/i;for(let B=0;B<=s;B++){const R=[],b=B/s,k=b*(t-e)+e;for(let Y=0;Y<=r;Y++){const G=Y/r,q=G*l+a,$=Math.sin(q),ie=Math.cos(q);P.x=k*$,P.y=-b*i+x,P.z=k*ie,h.push(P.x,P.y,P.z),C.set($,I,ie).normalize(),p.push(C.x,C.y,C.z),m.push(G,1-b),R.push(v++)}_.push(R)}for(let B=0;B<r;B++)for(let R=0;R<s;R++){const b=_[R][B],k=_[R+1][B],Y=_[R+1][B+1],G=_[R][B+1];f.push(b,k,G),f.push(k,Y,G),E+=6}c.addGroup(g,E,0),g+=E}function S(C){const P=v,E=new Te,I=new H;let B=0;const R=C===!0?e:t,b=C===!0?1:-1;for(let Y=1;Y<=r;Y++)h.push(0,x*b,0),p.push(0,b,0),m.push(.5,.5),v++;const k=v;for(let Y=0;Y<=r;Y++){const q=Y/r*l+a,$=Math.cos(q),ie=Math.sin(q);I.x=R*ie,I.y=x*b,I.z=R*$,h.push(I.x,I.y,I.z),p.push(0,b,0),E.x=$*.5+.5,E.y=ie*.5*b+.5,m.push(E.x,E.y),v++}for(let Y=0;Y<r;Y++){const G=P+Y,q=k+Y;C===!0?f.push(q,q+1,G):f.push(q+1,q,G),B+=3}c.addGroup(g,B,C===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mv extends Rf{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new mv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sl extends Pt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),f(),this.setAttribute("position",new st(s,3)),this.setAttribute("normal",new st(s.slice(),3)),this.setAttribute("uv",new st(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const S=new H,C=new H,P=new H;for(let E=0;E<t.length;E+=3)m(t[E+0],S),m(t[E+1],C),m(t[E+2],P),l(S,C,P,A)}function l(A,S,C,P){const E=P+1,I=[];for(let B=0;B<=E;B++){I[B]=[];const R=A.clone().lerp(C,B/E),b=S.clone().lerp(C,B/E),k=E-B;for(let Y=0;Y<=k;Y++)Y===0&&B===E?I[B][Y]=R:I[B][Y]=R.clone().lerp(b,Y/k)}for(let B=0;B<E;B++)for(let R=0;R<2*(E-B)-1;R++){const b=Math.floor(R/2);R%2===0?(p(I[B][b+1]),p(I[B+1][b]),p(I[B][b])):(p(I[B][b+1]),p(I[B+1][b+1]),p(I[B+1][b]))}}function c(A){const S=new H;for(let C=0;C<s.length;C+=3)S.x=s[C+0],S.y=s[C+1],S.z=s[C+2],S.normalize().multiplyScalar(A),s[C+0]=S.x,s[C+1]=S.y,s[C+2]=S.z}function f(){const A=new H;for(let S=0;S<s.length;S+=3){A.x=s[S+0],A.y=s[S+1],A.z=s[S+2];const C=x(A)/2/Math.PI+.5,P=g(A)/Math.PI+.5;o.push(C,1-P)}v(),h()}function h(){for(let A=0;A<o.length;A+=6){const S=o[A+0],C=o[A+2],P=o[A+4],E=Math.max(S,C,P),I=Math.min(S,C,P);E>.9&&I<.1&&(S<.2&&(o[A+0]+=1),C<.2&&(o[A+2]+=1),P<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,S){const C=A*3;S.x=e[C+0],S.y=e[C+1],S.z=e[C+2]}function v(){const A=new H,S=new H,C=new H,P=new H,E=new Te,I=new Te,B=new Te;for(let R=0,b=0;R<s.length;R+=9,b+=6){A.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),C.set(s[R+6],s[R+7],s[R+8]),E.set(o[b+0],o[b+1]),I.set(o[b+2],o[b+3]),B.set(o[b+4],o[b+5]),P.copy(A).add(S).add(C).divideScalar(3);const k=x(P);_(E,b+0,A,k),_(I,b+2,S,k),_(B,b+4,C,k)}}function _(A,S,C,P){P<0&&A.x===1&&(o[S]=A.x-1),C.x===0&&C.z===0&&(o[S]=P/2/Math.PI+.5)}function x(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sl(e.vertices,e.indices,e.radius,e.details)}}class gv extends sl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gv(e.radius,e.detail)}}const R0=new H,P0=new H,fx=new H,I0=new wr;class J7 extends Pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(ic*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:_,b:x,c:g}=I0;if(_.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),I0.getNormal(fx),h[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const S=(A+1)%3,C=h[A],P=h[S],E=I0[f[A]],I=I0[f[S]],B=`${C}_${P}`,R=`${P}_${C}`;R in p&&p[R]?(fx.dot(p[R].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(I.x,I.y,I.z)),p[R]=null):B in p||(p[B]={index0:c[A],index1:c[S],normal:fx.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:x}=p[v];R0.fromBufferAttribute(a,_),P0.fromBufferAttribute(a,x),m.push(R0.x,R0.y,R0.z),m.push(P0.x,P0.y,P0.z)}this.setAttribute("position",new st(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class sc extends Dh{constructor(e){super(e),this.uuid=Rr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Dh().fromJSON(r))}return this}}const _Y={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=K7(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,f,h,p,m;if(i&&(s=wY(n,e,s,t)),n.length>80*t){a=c=n[0],l=f=n[1];for(let v=t;v<r;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p);m=Math.max(c-a,f-l),m=m!==0?32767/m:0}return Nh(s,o,t,a,l,m,0),o}};function K7(n,e,t,i,r){let s,o;if(r===FY(n,e,t,i)>0)for(s=e;s<t;s+=i)o=IT(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=IT(s,n[s],n[s+1],o);return o&&vv(o,o.next)&&(Oh(o),o=o.next),o}function hc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(vv(t,t.next)||Nn(t.prev,t,t.next)===0)){if(Oh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Nh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&PY(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?SY(n,i,r,s):AY(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Oh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=MY(hc(n),e,t),Nh(n,e,t,i,r,s,2)):o===2&&CY(n,e,t,i,r,s):Nh(hc(n),e,t,i,r,s,1);break}}}function AY(n){const e=n.prev,t=n,i=n.next;if(Nn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,f=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=h&&v.y<=m&&Fu(r,a,s,l,o,c,v.x,v.y)&&Nn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function SY(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Nn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,f=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=f<h?f<p?f:p:h<p?h:p,_=a>l?a>c?a:c:l>c?l:c,x=f>h?f>p?f:p:h>p?h:p,g=O3(m,v,e,t,i),A=O3(_,x,e,t,i);let S=n.prevZ,C=n.nextZ;for(;S&&S.z>=g&&C&&C.z<=A;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Fu(a,f,l,h,c,p,S.x,S.y)&&Nn(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=m&&C.x<=_&&C.y>=v&&C.y<=x&&C!==r&&C!==o&&Fu(a,f,l,h,c,p,C.x,C.y)&&Nn(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Fu(a,f,l,h,c,p,S.x,S.y)&&Nn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=A;){if(C.x>=m&&C.x<=_&&C.y>=v&&C.y<=x&&C!==r&&C!==o&&Fu(a,f,l,h,c,p,C.x,C.y)&&Nn(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function MY(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!vv(r,s)&&Y7(r,i,i.next,s)&&Fh(r,s)&&Fh(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Oh(i),Oh(i.next),i=n=s),i=i.next}while(i!==n);return hc(i)}function CY(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&LY(o,a)){let l=Z7(o,a);o=hc(o,o.next),l=hc(l,l.next),Nh(o,e,t,i,r,s,0),Nh(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function wY(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=K7(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(BY(c));for(r.sort(EY),s=0;s<r.length;s++)t=TY(r[s],t);return t}function EY(n,e){return n.x-e.x}function TY(n,e){const t=bY(n,e);if(!t)return e;const i=Z7(t,n);return hc(i,i.next),hc(t,t.next)}function bY(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let f=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Fu(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Fh(t,n)&&(h<f||h===f&&(t.x>r.x||t.x===r.x&&RY(r,t)))&&(r=t,f=h)),t=t.next;while(t!==a);return r}function RY(n,e){return Nn(n.prev,n,e.prev)<0&&Nn(e.next,n,n.next)<0}function PY(n,e,t,i){let r=n;do r.z===0&&(r.z=O3(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,IY(r)}function IY(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function O3(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function BY(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Fu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function LY(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!DY(n,e)&&(Fh(n,e)&&Fh(e,n)&&NY(n,e)&&(Nn(n.prev,n,e.prev)||Nn(n,e.prev,e))||vv(n,e)&&Nn(n.prev,n,n.next)>0&&Nn(e.prev,e,e.next)>0)}function Nn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function vv(n,e){return n.x===e.x&&n.y===e.y}function Y7(n,e,t,i){const r=L0(Nn(n,e,t)),s=L0(Nn(n,e,i)),o=L0(Nn(t,i,n)),a=L0(Nn(t,i,e));return!!(r!==s&&o!==a||r===0&&B0(n,t,e)||s===0&&B0(n,i,e)||o===0&&B0(t,n,i)||a===0&&B0(t,e,i))}function B0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function L0(n){return n>0?1:n<0?-1:0}function DY(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Y7(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Fh(n,e){return Nn(n.prev,n,n.next)<0?Nn(n,e,n.next)>=0&&Nn(n,n.prev,e)>=0:Nn(n,e,n.prev)<0||Nn(n,n.next,e)<0}function NY(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Z7(n,e){const t=new k3(n.i,n.x,n.y),i=new k3(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function IT(n,e,t,i){const r=new k3(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Oh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function k3(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function FY(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class eo{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return eo.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];BT(e),LT(i,e);let o=e.length;t.forEach(BT);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,LT(i,t[l]);const a=_Y.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function BT(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function LT(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class yv extends Pt{constructor(e=new sc([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new st(r,3)),this.setAttribute("uv",new st(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:OY;let S,C=!1,P,E,I,B;g&&(S=g.getSpacedPoints(f),C=!0,p=!1,P=g.computeFrenetFrames(f,!1),E=new H,I=new H,B=new H),p||(x=0,m=0,v=0,_=0);const R=a.extractPoints(c);let b=R.shape;const k=R.holes;if(!eo.isClockWise(b)){b=b.reverse();for(let me=0,ve=k.length;me<ve;me++){const he=k[me];eo.isClockWise(he)&&(k[me]=he.reverse())}}const G=eo.triangulateShape(b,k),q=b;for(let me=0,ve=k.length;me<ve;me++){const he=k[me];b=b.concat(he)}function $(me,ve,he){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(ve,he)}const ie=b.length,pe=G.length;function F(me,ve,he){let De,Le,Ze;const at=me.x-ve.x,Z=me.y-ve.y,U=he.x-me.x,fe=he.y-me.y,Re=at*at+Z*Z,Ie=at*fe-Z*U;if(Math.abs(Ie)>Number.EPSILON){const Pe=Math.sqrt(Re),it=Math.sqrt(U*U+fe*fe),Ge=ve.x-Z/Pe,Ue=ve.y+at/Pe,yt=he.x-fe/it,Oe=he.y+U/it,rt=((yt-Ge)*fe-(Oe-Ue)*U)/(at*fe-Z*U);De=Ge+at*rt-me.x,Le=Ue+Z*rt-me.y;const wt=De*De+Le*Le;if(wt<=2)return new Te(De,Le);Ze=Math.sqrt(wt/2)}else{let Pe=!1;at>Number.EPSILON?U>Number.EPSILON&&(Pe=!0):at<-Number.EPSILON?U<-Number.EPSILON&&(Pe=!0):Math.sign(Z)===Math.sign(fe)&&(Pe=!0),Pe?(De=-Z,Le=at,Ze=Math.sqrt(Re)):(De=at,Le=Z,Ze=Math.sqrt(Re/2))}return new Te(De/Ze,Le/Ze)}const K=[];for(let me=0,ve=q.length,he=ve-1,De=me+1;me<ve;me++,he++,De++)he===ve&&(he=0),De===ve&&(De=0),K[me]=F(q[me],q[he],q[De]);const V=[];let ne,ue=K.concat();for(let me=0,ve=k.length;me<ve;me++){const he=k[me];ne=[];for(let De=0,Le=he.length,Ze=Le-1,at=De+1;De<Le;De++,Ze++,at++)Ze===Le&&(Ze=0),at===Le&&(at=0),ne[De]=F(he[De],he[Ze],he[at]);V.push(ne),ue=ue.concat(ne)}for(let me=0;me<x;me++){const ve=me/x,he=m*Math.cos(ve*Math.PI/2),De=v*Math.sin(ve*Math.PI/2)+_;for(let Le=0,Ze=q.length;Le<Ze;Le++){const at=$(q[Le],K[Le],De);be(at.x,at.y,-he)}for(let Le=0,Ze=k.length;Le<Ze;Le++){const at=k[Le];ne=V[Le];for(let Z=0,U=at.length;Z<U;Z++){const fe=$(at[Z],ne[Z],De);be(fe.x,fe.y,-he)}}}const Be=v+_;for(let me=0;me<ie;me++){const ve=p?$(b[me],ue[me],Be):b[me];C?(I.copy(P.normals[0]).multiplyScalar(ve.x),E.copy(P.binormals[0]).multiplyScalar(ve.y),B.copy(S[0]).add(I).add(E),be(B.x,B.y,B.z)):be(ve.x,ve.y,0)}for(let me=1;me<=f;me++)for(let ve=0;ve<ie;ve++){const he=p?$(b[ve],ue[ve],Be):b[ve];C?(I.copy(P.normals[me]).multiplyScalar(he.x),E.copy(P.binormals[me]).multiplyScalar(he.y),B.copy(S[me]).add(I).add(E),be(B.x,B.y,B.z)):be(he.x,he.y,h/f*me)}for(let me=x-1;me>=0;me--){const ve=me/x,he=m*Math.cos(ve*Math.PI/2),De=v*Math.sin(ve*Math.PI/2)+_;for(let Le=0,Ze=q.length;Le<Ze;Le++){const at=$(q[Le],K[Le],De);be(at.x,at.y,h+he)}for(let Le=0,Ze=k.length;Le<Ze;Le++){const at=k[Le];ne=V[Le];for(let Z=0,U=at.length;Z<U;Z++){const fe=$(at[Z],ne[Z],De);C?be(fe.x,fe.y+S[f-1].y,S[f-1].x+he):be(fe.x,fe.y,h+he)}}}se(),we();function se(){const me=r.length/3;if(p){let ve=0,he=ie*ve;for(let De=0;De<pe;De++){const Le=G[De];ot(Le[2]+he,Le[1]+he,Le[0]+he)}ve=f+x*2,he=ie*ve;for(let De=0;De<pe;De++){const Le=G[De];ot(Le[0]+he,Le[1]+he,Le[2]+he)}}else{for(let ve=0;ve<pe;ve++){const he=G[ve];ot(he[2],he[1],he[0])}for(let ve=0;ve<pe;ve++){const he=G[ve];ot(he[0]+ie*f,he[1]+ie*f,he[2]+ie*f)}}i.addGroup(me,r.length/3-me,0)}function we(){const me=r.length/3;let ve=0;Se(q,ve),ve+=q.length;for(let he=0,De=k.length;he<De;he++){const Le=k[he];Se(Le,ve),ve+=Le.length}i.addGroup(me,r.length/3-me,1)}function Se(me,ve){let he=me.length;for(;--he>=0;){const De=he;let Le=he-1;Le<0&&(Le=me.length-1);for(let Ze=0,at=f+x*2;Ze<at;Ze++){const Z=ie*Ze,U=ie*(Ze+1),fe=ve+De+Z,Re=ve+Le+Z,Ie=ve+Le+U,Pe=ve+De+U;_t(fe,Re,Ie,Pe)}}}function be(me,ve,he){l.push(me),l.push(ve),l.push(he)}function ot(me,ve,he){ae(me),ae(ve),ae(he);const De=r.length/3,Le=A.generateTopUV(i,r,De-3,De-2,De-1);ht(Le[0]),ht(Le[1]),ht(Le[2])}function _t(me,ve,he,De){ae(me),ae(ve),ae(De),ae(ve),ae(he),ae(De);const Le=r.length/3,Ze=A.generateSideWallUV(i,r,Le-6,Le-3,Le-2,Le-1);ht(Ze[0]),ht(Ze[1]),ht(Ze[3]),ht(Ze[1]),ht(Ze[2]),ht(Ze[3])}function ae(me){r.push(l[me*3+0]),r.push(l[me*3+1]),r.push(l[me*3+2])}function ht(me){s.push(me.x),s.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return kY(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new d1[r.type]().fromJSON(r)),new yv(i,e.options)}}const OY={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],f=e[r*3+1];return[new Te(s,o),new Te(a,l),new Te(c,f)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],f=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new Te(o,1-l),new Te(c,1-h),new Te(p,1-v),new Te(_,1-g)]:[new Te(a,1-l),new Te(f,1-h),new Te(m,1-v),new Te(x,1-g)]}};function kY(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class vp extends sl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vp(e.radius,e.detail)}}class yp extends sl{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yp(e.radius,e.detail)}}class xv extends Pt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],f=[];let h=e;const p=(t-e)/r,m=new H,v=new Te;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y)}h+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const A=g+x,S=A,C=A+i+1,P=A+i+2,E=A+1;a.push(S,C,E),a.push(C,P,E)}}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class _v extends Pt{constructor(e=new sc([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new st(r,3)),this.setAttribute("normal",new st(s,3)),this.setAttribute("uv",new st(o,2));function c(f){const h=r.length/3,p=f.extractPoints(t);let m=p.shape;const v=p.holes;eo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const A=v[x];eo.isClockWise(A)===!0&&(v[x]=A.reverse())}const _=eo.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const A=v[x];m=m.concat(A)}for(let x=0,g=m.length;x<g;x++){const A=m[x];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let x=0,g=_.length;x<g;x++){const A=_[x],S=A[0]+h,C=A[1]+h,P=A[2]+h;i.push(S,C,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return UY(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new _v(i,e.curveSegments)}}function UY(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class xp extends Pt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const f=[],h=new H,p=new H,m=[],v=[],_=[],x=[];for(let g=0;g<=i;g++){const A=[],S=g/i;let C=0;g===0&&o===0?C=.5/t:g===i&&l===Math.PI&&(C=-.5/t);for(let P=0;P<=t;P++){const E=P/t;h.x=-e*Math.cos(r+E*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+E*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),_.push(p.x,p.y,p.z),x.push(E+C,1-S),A.push(c++)}f.push(A)}for(let g=0;g<i;g++)for(let A=0;A<t;A++){const S=f[g][A+1],C=f[g][A],P=f[g+1][A],E=f[g+1][A+1];(g!==0||o>0)&&m.push(S,C,E),(g!==i-1||l<Math.PI)&&m.push(C,P,E)}this.setIndex(m),this.setAttribute("position",new st(v,3)),this.setAttribute("normal",new st(_,3)),this.setAttribute("uv",new st(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Av extends sl{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Av(e.radius,e.detail)}}class Sv extends Pt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],f=new H,h=new H,p=new H;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const _=v/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(_),h.y=(e+t*Math.cos(x))*Math.sin(_),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const _=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,A=(r+1)*m+v;o.push(_,x,A),o.push(x,g,A)}this.setIndex(o),this.setAttribute("position",new st(a,3)),this.setAttribute("normal",new st(l,3)),this.setAttribute("uv",new st(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Mv extends Pt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],f=[],h=new H,p=new H,m=new H,v=new H,_=new H,x=new H,g=new H;for(let S=0;S<=i;++S){const C=S/i*s*Math.PI*2;A(C,s,o,e,m),A(C+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let P=0;P<=r;++P){const E=P/r*Math.PI*2,I=-t*Math.cos(E),B=t*Math.sin(E);h.x=m.x+(I*g.x+B*_.x),h.y=m.y+(I*g.y+B*_.y),h.z=m.z+(I*g.z+B*_.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),f.push(S/i),f.push(P/r)}}for(let S=1;S<=i;S++)for(let C=1;C<=r;C++){const P=(r+1)*(S-1)+(C-1),E=(r+1)*S+(C-1),I=(r+1)*S+C,B=(r+1)*(S-1)+C;a.push(P,E,B),a.push(E,I,B)}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(f,2));function A(S,C,P,E,I){const B=Math.cos(S),R=Math.sin(S),b=P/C*S,k=Math.cos(b);I.x=E*(2+k)*.5*B,I.y=E*(2+k)*R*.5,I.z=E*Math.sin(b)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Cv extends Pt{constructor(e=new x4(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new Te;let f=new H;const h=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new st(h,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function _(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),A(),g()}function x(S){f=e.getPointAt(S/t,f);const C=o.normals[S],P=o.binormals[S];for(let E=0;E<=r;E++){const I=E/r*Math.PI*2,B=Math.sin(I),R=-Math.cos(I);l.x=R*C.x+B*P.x,l.y=R*C.y+B*P.y,l.z=R*C.z+B*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+i*l.x,a.y=f.y+i*l.y,a.z=f.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let C=1;C<=r;C++){const P=(r+1)*(S-1)+(C-1),E=(r+1)*S+(C-1),I=(r+1)*S+C,B=(r+1)*(S-1)+C;v.push(P,E,B),v.push(E,I,B)}}function A(){for(let S=0;S<=t;S++)for(let C=0;C<=r;C++)c.x=S/t,c.y=C/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Cv(new d1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Q7 extends Pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,_=p+m;v<_;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),A=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),DT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),DT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new st(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function DT(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var NT=Object.freeze({__proto__:null,BoxGeometry:Ac,CapsuleGeometry:hv,CircleGeometry:pv,ConeGeometry:mv,CylinderGeometry:Rf,DodecahedronGeometry:gv,EdgesGeometry:J7,ExtrudeGeometry:yv,IcosahedronGeometry:vp,LatheGeometry:gp,OctahedronGeometry:yp,PlaneGeometry:Jo,PolyhedronGeometry:sl,RingGeometry:xv,ShapeGeometry:_v,SphereGeometry:xp,TetrahedronGeometry:Av,TorusGeometry:Sv,TorusKnotGeometry:Mv,TubeGeometry:Cv,WireframeGeometry:Q7});class q7 extends si{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $7 extends Pi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _p extends si{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ao extends _p{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new We(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new We(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new We(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eI extends si{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=cp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tI extends si{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nI extends si{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class A4 extends si{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=cp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iI extends si{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rI extends Xi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function sI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oI(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function U3(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function S4(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function HY(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){h.push(c.times[m]);for(let _=0;_<f;++_)p.push(c.values[m*f+_])}}h.length!==0&&(c.times=Zl(h,c.times.constructor),c.values=Zl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function zY(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=f,A=h-f;_=a.values.slice(g,A)}else if(s>=a.times[v]){const g=v*h+f,A=g+h-f;_=a.values.slice(g,A)}else{const g=a.createInterpolant(),A=f,S=h-f;g.evaluate(s),_=g.resultBuffer.slice(A,S)}l==="quaternion"&&new $n().fromArray(_).normalize().conjugate().toArray(_);const x=c.times.length;for(let g=0;g<x;++g){const A=g*m+p;if(l==="quaternion")$n.multiplyQuaternionsFlat(c.values,A,_,0,c.values,A);else{const S=m-p*2;for(let C=0;C<S;++C)c.values[A+C]-=_[C]}}}return n.blendMode=QS,n}const GY={convertArray:Zl,isTypedArray:sI,getKeyframeOrder:oI,sortedArray:U3,flattenJSON:S4,subclip:HY,makeClipAdditive:zY};class Pf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class aI extends Pf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xl,endingEnd:Xl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Jl:s=e,a=2*t-i;break;case Th:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Jl:o=e,l=2*i-t;break;case Th:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),_=v*v,x=_*v,g=-p*x+2*p*_-p*v,A=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*_+.5*v,C=m*x-m*_;for(let P=0;P!==a;++P)s[P]=g*o[f+P]+A*o[c+P]+S*o[l+P]+C*o[h+P];return s}}class M4 extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(i-t)/(r-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*f;return s}}class lI extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bs{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zl(t,this.TimeBufferType),this.values=Zl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Zl(e.times,Array),values:Zl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new lI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new M4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case cf:t=this.InterpolantFactoryMethodDiscrete;break;case dc:t=this.InterpolantFactoryMethodLinear;break;case Mg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cf;case this.InterpolantFactoryMethodLinear:return dc;case this.InterpolantFactoryMethodSmooth:return Mg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&sI(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Mg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const _=t[h+v];if(_!==t[p+v]||_!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Bs.prototype.TimeBufferType=Float32Array;Bs.prototype.ValueBufferType=Float32Array;Bs.prototype.DefaultInterpolation=dc;class Sc extends Bs{}Sc.prototype.ValueTypeName="bool";Sc.prototype.ValueBufferType=Array;Sc.prototype.DefaultInterpolation=cf;Sc.prototype.InterpolantFactoryMethodLinear=void 0;Sc.prototype.InterpolantFactoryMethodSmooth=void 0;class C4 extends Bs{}C4.prototype.ValueTypeName="color";class pf extends Bs{}pf.prototype.ValueTypeName="number";class cI extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let f=c+a;c!==f;c+=4)$n.slerpFlat(s,0,o,c-a,o,c,l);return s}}class qa extends Bs{InterpolantFactoryMethodLinear(e){return new cI(this.times,this.values,this.getValueSize(),e)}}qa.prototype.ValueTypeName="quaternion";qa.prototype.DefaultInterpolation=dc;qa.prototype.InterpolantFactoryMethodSmooth=void 0;class Mc extends Bs{}Mc.prototype.ValueTypeName="string";Mc.prototype.ValueBufferType=Array;Mc.prototype.DefaultInterpolation=cf;Mc.prototype.InterpolantFactoryMethodLinear=void 0;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class mf extends Bs{}mf.prototype.ValueTypeName="vector";class gf{constructor(e="",t=-1,i=[],r=nv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Rr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(WY(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Bs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=oI(l);l=U3(l,1,f),c=U3(c,1,f),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new pf(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,_){if(m.length!==0){const x=[],g=[];S4(m,x,g,v),x.length!==0&&_.push(new h(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let A=0;A!==p[v].morphTargets.length;++A){const S=p[v];x.push(S.time),g.push(S.morphTarget===_?1:0)}r.push(new pf(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(mf,m+".position",p,"pos",r),i(qa,m+".quaternion",p,"rot",r),i(mf,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function VY(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pf;case"vector":case"vector2":case"vector3":case"vector4":return mf;case"color":return C4;case"quaternion":return qa;case"bool":case"boolean":return Sc;case"string":return Mc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function WY(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=VY(n.type);if(n.times===void 0){const t=[],i=[];S4(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Do={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class wv{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const uI=new wv;class Ii{constructor(e){this.manager=e!==void 0?e:uI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ii.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ao={};class jY extends Error{constructor(e,t){super(e),this.response=t}}class Ti extends Ii{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Do.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ao[e]!==void 0){Ao[e].push({onLoad:t,onProgress:i,onError:r});return}Ao[e]=[],Ao[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Ao[e],h=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let _=0;const x=new ReadableStream({start(g){A();function A(){h.read().then(({done:S,value:C})=>{if(S)g.close();else{_+=C.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let E=0,I=f.length;E<I;E++){const B=f[E];B.onProgress&&B.onProgress(P)}g.enqueue(C),A()}})}}});return new Response(x)}else throw new jY(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Do.add(e,c);const f=Ao[e];delete Ao[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=Ao[e];if(f===void 0)throw this.manager.itemError(e),c;delete Ao[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class XY extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ti(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=gf.parse(e[i]);t.push(r)}return t}}class JY extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new fv,l=new Ti(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=qt),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=qt),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class kh extends Ii{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Do.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Lh("img");function l(){f(),Do.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){f(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class fI extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=new dp;s.colorSpace=Cr;const o=new kh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class w4 extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Uo,a=new Ti(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Zn,o.wrapT=c.wrapT!==void 0?c.wrapT:Zn,o.magFilter=c.magFilter!==void 0?c.magFilter:qt,o.minFilter=c.minFilter!==void 0?c.minFilter:qt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=rs),c.mipmapCount===1&&(o.minFilter=qt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class dI extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=new $t,o=new kh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ol extends Wt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new We(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class hI extends ol{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new We(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const dx=new dt,FT=new H,OT=new H;class E4{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hp,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;FT.setFromMatrixPosition(e.matrixWorld),t.position.copy(FT),OT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(OT),t.updateMatrixWorld(),dx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(dx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KY extends E4{constructor(){super(new Ln(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=uf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class T4 extends ol{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new KY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kT=new dt,xd=new H,hx=new H;class YY extends E4{constructor(){super(new Ln(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new un(2,1,1,1),new un(0,1,1,1),new un(3,1,1,1),new un(1,1,1,1),new un(3,0,1,1),new un(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),xd.setFromMatrixPosition(e.matrixWorld),i.position.copy(xd),hx.copy(i.position),hx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(hx),i.updateMatrixWorld(),r.makeTranslation(-xd.x,-xd.y,-xd.z),kT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kT)}}class b4 extends ol{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new YY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ZY extends E4{constructor(){super(new ws(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class R4 extends ol{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.shadow=new ZY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class pI extends ol{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class mI extends ol{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class gI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class vI extends ol{constructor(e=new gI,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ev extends Ii{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ti(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Ev.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new We().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new We().setHex(o.value);break;case"v2":r.uniforms[s].value=new Te().fromArray(o.value);break;case"v3":r.uniforms[s].value=new H().fromArray(o.value);break;case"v4":r.uniforms[s].value=new un().fromArray(o.value);break;case"m3":r.uniforms[s].value=new It().fromArray(o.value);break;case"m4":r.uniforms[s].value=new dt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Te().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:q7,SpriteMaterial:u4,RawShaderMaterial:$7,ShaderMaterial:Pi,PointsMaterial:uv,MeshPhysicalMaterial:ao,MeshStandardMaterial:_p,MeshPhongMaterial:eI,MeshToonMaterial:tI,MeshNormalMaterial:nI,MeshLambertMaterial:A4,MeshDepthMaterial:ov,MeshDistanceMaterial:l4,MeshBasicMaterial:hr,MeshMatcapMaterial:iI,LineDashedMaterial:rI,LineBasicMaterial:Xi,Material:si};return new t[e]}}class to{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class yI extends Pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class xI extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ti(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),A=Du(x.type,g),S=new pp(A,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new yI:new Pt,a=e.data.index;if(a!==void 0){const m=Du(a.type,a.array);o.setIndex(new jt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);_=new Qa(x,v.itemSize,v.offset,v.normalized)}else{const x=Du(v.type,v.array),g=v.isInstancedBufferAttribute?hf:jt;_=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),o.setAttribute(m,_)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],_=[];for(let x=0,g=v.length;x<g;x++){const A=v[x];let S;if(A.isInterleavedBufferAttribute){const C=r(e.data,A.data);S=new Qa(C,A.itemSize,A.offset,A.normalized)}else{const C=Du(A.type,A.array);S=new jt(C,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),_.push(S)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const _=h[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new H;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Ai(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class QY extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?to.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ti(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?to.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ti(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new sc().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new mp().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new xI;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in NT?a=NT[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Ev;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=gf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(f)}else return l.data?{data:Du(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new wv(t);s=new kh(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Uo(g.data,g.width,g.height)))}r[h.uuid]=new Kl(m)}else{const m=a(h.url);r[h.uuid]=new Kl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Du(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new kh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Uo(v.data,v.width,v.height)))}i[l.uuid]=new Kl(f)}else{const f=await s(l.url);i[l.uuid]=new Kl(f)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let f;Array.isArray(c)?(f=new dp,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Uo:f=new $t,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,qY)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],UT),f.wrapT=i(a.wrap[1],UT)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,HT)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,HT)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,h;switch(e.type){case"Scene":o=new df,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new We(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new lv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new av(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ln(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ws(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new pI(e.color,e.intensity);break;case"DirectionalLight":o=new R4(e.color,e.intensity);break;case"PointLight":o=new b4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new mI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new T4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new hI(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new vI().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new f4(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new An(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new d4(f,h,p),o.instanceMatrix=new hf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new hf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":f=a(e.geometry),h=l(e.material),o=new z7(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(_=>{const x=new _i;x.min.fromArray(_.boxMin),x.max.fromArray(_.boxMax);const g=new Ai;return g.radius=_.sphereRadius,g.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:x,sphereInitialized:_.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new H7;break;case"Line":o=new Wo(a(e.geometry),l(e.material));break;case"LineLoop":o=new h4(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ps(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new p4(a(e.geometry),l(e.material));break;case"Sprite":o=new U7(l(e.material));break;case"Group":o=new Lo;break;case"Bone":o=new cv;break;default:o=new Wt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const qY={UVMapping:Ja,CubeReflectionMapping:io,CubeRefractionMapping:Ka,EquirectangularReflectionMapping:of,EquirectangularRefractionMapping:Eh,CubeUVReflectionMapping:Ef},UT={RepeatWrapping:Ya,ClampToEdgeWrapping:Zn,MirroredRepeatWrapping:af},HT={NearestFilter:Qn,NearestMipmapNearestFilter:$1,NearestMipmapLinearFilter:jl,LinearFilter:qt,LinearMipmapNearestFilter:Xu,LinearMipmapLinearFilter:rs};class _I extends Ii{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Do.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Do.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Do.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Do.add(e,l),s.manager.itemStart(e)}}let D0;class P4{static getContext(){return D0===void 0&&(D0=new(window.AudioContext||window.webkitAudioContext)),D0}static setContext(e){D0=e}}class $Y extends Ii{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ti(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);P4.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const zT=new dt,GT=new dt,wl=new dt;class eZ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ln,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ln,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,wl.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(ic*t.fov*.5)/t.zoom;let a,l;GT.elements[12]=-r,zT.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,wl.elements[0]=2*t.near/(l-a),wl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(wl),a=-o*t.aspect-s,l=o*t.aspect-s,wl.elements[0]=2*t.near/(l-a),wl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(wl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(GT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zT)}}class I4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=VT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=VT();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function VT(){return(typeof performance>"u"?Date:performance).now()}const El=new H,WT=new $n,tZ=new H,Tl=new H;class nZ extends Wt{constructor(){super(),this.type="AudioListener",this.context=P4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new I4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(El,WT,tZ),Tl.set(0,0,-1).applyQuaternion(WT),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(El.x,r),t.positionY.linearRampToValueAtTime(El.y,r),t.positionZ.linearRampToValueAtTime(El.z,r),t.forwardX.linearRampToValueAtTime(Tl.x,r),t.forwardY.linearRampToValueAtTime(Tl.y,r),t.forwardZ.linearRampToValueAtTime(Tl.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(El.x,El.y,El.z),t.setOrientation(Tl.x,Tl.y,Tl.z,i.x,i.y,i.z)}}class AI extends Wt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bl=new H,jT=new $n,iZ=new H,Rl=new H;class rZ extends AI{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bl,jT,iZ),Rl.set(0,0,1).applyQuaternion(jT);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bl.x,i),t.positionY.linearRampToValueAtTime(bl.y,i),t.positionZ.linearRampToValueAtTime(bl.z,i),t.orientationX.linearRampToValueAtTime(Rl.x,i),t.orientationY.linearRampToValueAtTime(Rl.y,i),t.orientationZ.linearRampToValueAtTime(Rl.z,i)}else t.setPosition(bl.x,bl.y,bl.z),t.setOrientation(Rl.x,Rl.y,Rl.z)}}class sZ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class SI{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){$n.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;$n.multiplyQuaternionsFlat(e,o,e,t,e,i),$n.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const B4="\\[\\]\\.:\\/",oZ=new RegExp("["+B4+"]","g"),L4="[^"+B4+"]",aZ="[^"+B4.replace("\\.","")+"]",lZ=/((?:WC+[\/:])*)/.source.replace("WC",L4),cZ=/(WCOD+)?/.source.replace("WCOD",aZ),uZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",L4),fZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",L4),dZ=new RegExp("^"+lZ+cZ+uZ+fZ+"$"),hZ=["material","materials","bones","map"];class pZ{constructor(e,t,i){const r=i||Vt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Vt{constructor(e,t,i){this.path=t,this.parsedPath=i||Vt.parseTrackName(t),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,t,i):new Vt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(oZ,"")}static parseTrackName(e){const t=dZ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);hZ.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=pZ;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class mZ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Rr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Vt(p,i[_],r[_]))}else if(v<c){a=e[v];const _=--c,x=e[_];t[x.uuid]=v,e[v]=x,t[m]=_,e[_]=p;for(let g=0,A=o;g!==A;++g){const S=s[g],C=S[_];let P=S[v];S[v]=C,P===void 0&&(P=new Vt(p,i[g],r[g])),S[_]=P}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=t[c];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[c]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const _=i[m],x=_[h],g=_[f];_[f]=x,_[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,m=e[p],v=--o,_=e[v];t[m.uuid]=h,e[h]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const A=i[x],S=A[p],C=A[v];A[h]=S,A[p]=C,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,_=r;v!==_;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=f,m=l.length;p!==m;++p){const v=l[p];h[p]=new Vt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class MI{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Xl,endingEnd:Xl};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=c7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case QS:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case nv:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===u7;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===l7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Jl,r.endingEnd=Jl):(e?r.endingStart=this.zeroSlopeAtStart?Jl:Xl:r.endingStart=Th,t?r.endingEnd=this.zeroSlopeAtEnd?Jl:Xl:r.endingEnd=Th)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const gZ=new Float32Array(1);class vZ extends oo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=t&&t._propertyBindings[h].binding.parsedPath;v=new SI(Vt.create(i,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new M4(new Float32Array(2),new Float32Array(2),1,gZ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?gf.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=nv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new MI(this,o,t,i);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?gf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class D4{constructor(e){this.value=e}clone(){return new D4(this.value.clone===void 0?this.value:this.value.clone())}}let yZ=0;class xZ extends oo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yZ++}),this.name="",this.usage=Ih,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class _Z extends pp{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class AZ{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const XT=new dt;class N4{constructor(e,t,i=0,r=1/0){this.ray=new _c(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new rc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return XT.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(XT),this}intersectObject(e,t=!0,i=[]){return H3(e,this,i,t),i.sort(JT),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)H3(e[r],this,i,t);return i.sort(JT),i}}function JT(n,e){return n.distance-e.distance}function H3(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)H3(r[s],e,t,!0)}}class z3{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class SZ{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const KT=new Te;class MZ{constructor(e=new Te(1/0,1/0),t=new Te(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=KT.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,KT).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const YT=new H,N0=new H;class CZ{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){YT.subVectors(e,this.start),N0.subVectors(this.end,this.start);const i=N0.dot(N0);let s=N0.dot(YT)/i;return t&&(s=Vn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ZT=new H;class wZ extends Wt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Pt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new st(r,3));const s=new Xi({fog:!1,toneMapped:!1});this.cone=new Ps(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ZT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ZT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ha=new H,F0=new dt,px=new dt;class EZ extends Ps{constructor(e){const t=CI(e),i=new Pt,r=[],s=[],o=new We(0,0,1),a=new We(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new st(r,3)),i.setAttribute("color",new st(s,3));const l=new Xi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");px.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(F0.multiplyMatrices(px,a.matrixWorld),ha.setFromMatrixPosition(F0),r.setXYZ(o,ha.x,ha.y,ha.z),F0.multiplyMatrices(px,a.parent.matrixWorld),ha.setFromMatrixPosition(F0),r.setXYZ(o+1,ha.x,ha.y,ha.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function CI(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,CI(n.children[t]));return e}class TZ extends An{constructor(e,t,i){const r=new xp(t,4,2),s=new hr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bZ=new H,QT=new We,qT=new We;class RZ extends Wt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new yp(t);r.rotateY(Math.PI*.5),this.material=new hr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new jt(o,3)),this.add(new An(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");QT.copy(this.light.color),qT.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?QT:qT;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bZ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class PZ extends Ps{constructor(e=10,t=10,i=4473924,r=8947848){i=new We(i),r=new We(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?i:r;_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3}const f=new Pt;f.setAttribute("position",new st(l,3)),f.setAttribute("color",new st(c,3));const h=new Xi({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class IZ extends Ps{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new We(s),o=new We(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=h&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(v+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new Pt;c.setAttribute("position",new st(a,3)),c.setAttribute("color",new st(l,3));const f=new Xi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const $T=new H,O0=new H,eb=new H;class BZ extends Wt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Pt;r.setAttribute("position",new st([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Xi({fog:!1,toneMapped:!1});this.lightPlane=new Wo(r,s),this.add(this.lightPlane),r=new Pt,r.setAttribute("position",new st([0,0,0,0,0,1],3)),this.targetLine=new Wo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),$T.setFromMatrixPosition(this.light.matrixWorld),O0.setFromMatrixPosition(this.light.target.matrixWorld),eb.subVectors(O0,$T),this.lightPlane.lookAt(O0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(O0),this.targetLine.scale.z=eb.length()}}const k0=new H,Hn=new fp;class LZ extends Ps{constructor(e){const t=new Pt,i=new Xi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new st(r,3)),t.setAttribute("color",new st(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new We(16755200),f=new We(16711680),h=new We(43775),p=new We(16777215),m=new We(3355443);this.setColors(c,f,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Jn("c",t,e,Hn,0,0,-1),Jn("t",t,e,Hn,0,0,1),Jn("n1",t,e,Hn,-i,-r,-1),Jn("n2",t,e,Hn,i,-r,-1),Jn("n3",t,e,Hn,-i,r,-1),Jn("n4",t,e,Hn,i,r,-1),Jn("f1",t,e,Hn,-i,-r,1),Jn("f2",t,e,Hn,i,-r,1),Jn("f3",t,e,Hn,-i,r,1),Jn("f4",t,e,Hn,i,r,1),Jn("u1",t,e,Hn,i*.7,r*1.1,-1),Jn("u2",t,e,Hn,-i*.7,r*1.1,-1),Jn("u3",t,e,Hn,0,r*2,-1),Jn("cf1",t,e,Hn,-i,0,1),Jn("cf2",t,e,Hn,i,0,1),Jn("cf3",t,e,Hn,0,-r,1),Jn("cf4",t,e,Hn,0,r,1),Jn("cn1",t,e,Hn,-i,0,-1),Jn("cn2",t,e,Hn,i,0,-1),Jn("cn3",t,e,Hn,0,-r,-1),Jn("cn4",t,e,Hn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Jn(n,e,t,i,r,s,o){k0.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],k0.x,k0.y,k0.z)}}const U0=new _i;class DZ extends Ps{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Pt;s.setIndex(new jt(i,1)),s.setAttribute("position",new jt(r,3)),super(s,new Xi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&U0.setFromObject(this.object),U0.isEmpty())return;const t=U0.min,i=U0.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class NZ extends Ps{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pt;s.setIndex(new jt(i,1)),s.setAttribute("position",new st(r,3)),super(s,new Xi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FZ extends Wo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pt;o.setAttribute("position",new st(s,3)),o.computeBoundingSphere(),super(o,new Xi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pt;l.setAttribute("position",new st(a,3)),l.computeBoundingSphere(),this.add(new An(l,new hr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const tb=new H;let H0,mx;class OZ extends Wt{constructor(e=new H(0,0,1),t=new H(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",H0===void 0&&(H0=new Pt,H0.setAttribute("position",new st([0,0,0,0,1,0],3)),mx=new Rf(0,.5,1,5,1),mx.translate(0,-.5,0)),this.position.copy(t),this.line=new Wo(H0,new Xi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new An(mx,new hr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{tb.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(tb,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kZ extends Ps{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Pt;r.setAttribute("position",new st(t,3)),r.setAttribute("color",new st(i,3));const s=new Xi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new We,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UZ{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let S=0,C=g.length;S<C;S++){const P=g[S],E=new sc;E.curves=P.curves,A.push(E)}return A}function i(g,A){const S=A.length;let C=!1;for(let P=S-1,E=0;E<S;P=E++){let I=A[P],B=A[E],R=B.x-I.x,b=B.y-I.y;if(Math.abs(b)>Number.EPSILON){if(b<0&&(I=A[E],R=-R,B=A[P],b=-b),g.y<I.y||g.y>B.y)continue;if(g.y===I.y){if(g.x===I.x)return!0}else{const k=b*(g.x-I.x)-R*(g.y-I.y);if(k===0)return!0;if(k<0)continue;C=!C}}else{if(g.y!==I.y)continue;if(B.x<=g.x&&g.x<=I.x||I.x<=g.x&&g.x<=B.x)return!0}}return C}const r=eo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new sc,l.curves=a.curves,c.push(l),c;let f=!r(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new sc,p:_},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let S=0,C=p.length;S<C;S++)h[S]=[];for(let S=0,C=p.length;S<C;S++){const P=m[S];for(let E=0;E<P.length;E++){const I=P[E];let B=!0;for(let R=0;R<p.length;R++)i(I.p,p[R].p)&&(S!==R&&A++,B?(B=!1,h[R].push(I)):g=!0);B&&h[S].push(I)}}A>0&&g===!1&&(m=h)}let x;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),x=m[g];for(let S=0,C=x.length;S<C;S++)l.holes.push(x[S].h)}return c}}class HZ extends Ri{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xc);const wI=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:GS,AddEquation:Ca,AddOperation:JP,AdditiveAnimationBlendMode:QS,AdditiveBlending:t3,AgXToneMapping:qP,AlphaFormat:n7,AlwaysCompare:A7,AlwaysDepth:HP,AlwaysStencilFunc:B3,AmbientLight:pI,AnimationAction:MI,AnimationClip:gf,AnimationLoader:XY,AnimationMixer:vZ,AnimationObjectGroup:mZ,AnimationUtils:GY,ArcCurve:G7,ArrayCamera:O7,ArrowHelper:OZ,AttachedBindMode:r3,Audio:AI,AudioAnalyser:sZ,AudioContext:P4,AudioListener:nZ,AudioLoader:$Y,AxesHelper:kZ,BackSide:nr,BasicDepthPacking:d7,BasicShadowMap:_P,BatchedMesh:z7,Bone:cv,BooleanKeyframeTrack:Sc,Box2:MZ,Box3:_i,Box3Helper:NZ,BoxGeometry:Ac,BoxHelper:DZ,BufferAttribute:jt,BufferGeometry:Pt,BufferGeometryLoader:xI,ByteType:VS,Cache:Do,Camera:fp,CameraHelper:LZ,CanvasTexture:dY,CapsuleGeometry:hv,CatmullRomCurve3:V7,CineonToneMapping:ZP,CircleGeometry:pv,ClampToEdgeWrapping:Zn,Clock:I4,Color:We,ColorKeyframeTrack:C4,ColorManagement:cn,CompressedArrayTexture:uY,CompressedCubeTexture:fY,CompressedTexture:fv,CompressedTextureLoader:JY,ConeGeometry:mv,ConstantAlphaFactor:OP,ConstantColorFactor:NP,CubeCamera:R7,CubeReflectionMapping:io,CubeRefractionMapping:Ka,CubeTexture:dp,CubeTextureLoader:fI,CubeUVReflectionMapping:Ef,CubicBezierCurve:g4,CubicBezierCurve3:W7,CubicInterpolant:aI,CullFaceBack:e3,CullFaceFront:xP,CullFaceFrontBack:sV,CullFaceNone:yP,Curve:Is,CurvePath:X7,CustomBlending:AP,CustomToneMapping:QP,CylinderGeometry:Rf,Cylindrical:SZ,Data3DTexture:t4,DataArrayTexture:rv,DataTexture:Uo,DataTextureLoader:w4,DataUtils:Yl,DecrementStencilOp:dV,DecrementWrapStencilOp:pV,DefaultLoadingManager:uI,DepthFormat:nc,DepthStencilFormat:lf,DepthTexture:a4,DetachedBindMode:e7,DirectionalLight:R4,DirectionalLightHelper:BZ,DiscreteInterpolant:lI,DisplayP3ColorSpace:iv,DodecahedronGeometry:gv,DoubleSide:es,DstAlphaFactor:PP,DstColorFactor:BP,DynamicCopyUsage:RV,DynamicDrawUsage:MV,DynamicReadUsage:EV,EdgesGeometry:J7,EllipseCurve:dv,EqualCompare:v7,EqualDepth:GP,EqualStencilFunc:yV,EquirectangularReflectionMapping:of,EquirectangularRefractionMapping:Eh,Euler:ir,EventDispatcher:oo,ExtrudeGeometry:yv,FileLoader:Ti,Float16BufferAttribute:pW,Float32BufferAttribute:st,FloatType:qn,Fog:lv,FogExp2:av,FramebufferTexture:cY,FrontSide:no,Frustum:hp,GLBufferAttribute:AZ,GLSL1:IV,GLSL3:L3,GreaterCompare:y7,GreaterDepth:WP,GreaterEqualCompare:_7,GreaterEqualDepth:VP,GreaterEqualStencilFunc:SV,GreaterStencilFunc:_V,GridHelper:PZ,Group:Lo,HalfFloatType:vi,HemisphereLight:hI,HemisphereLightHelper:RZ,IcosahedronGeometry:vp,ImageBitmapLoader:_I,ImageLoader:kh,ImageUtils:w7,IncrementStencilOp:fV,IncrementWrapStencilOp:hV,InstancedBufferAttribute:hf,InstancedBufferGeometry:yI,InstancedInterleavedBuffer:_Z,InstancedMesh:d4,Int16BufferAttribute:dW,Int32BufferAttribute:hW,Int8BufferAttribute:cW,IntType:ev,InterleavedBuffer:pp,InterleavedBufferAttribute:Qa,Interpolant:Pf,InterpolateDiscrete:cf,InterpolateLinear:dc,InterpolateSmooth:Mg,InvertStencilOp:mV,KeepStencilOp:Ol,KeyframeTrack:Bs,LOD:H7,LatheGeometry:gp,Layers:rc,LessCompare:g7,LessDepth:zP,LessEqualCompare:$S,LessEqualDepth:wh,LessEqualStencilFunc:xV,LessStencilFunc:vV,Light:ol,LightProbe:vI,Line:Wo,Line3:CZ,LineBasicMaterial:Xi,LineCurve:v4,LineCurve3:j7,LineDashedMaterial:rI,LineLoop:h4,LineSegments:Ps,LinearDisplayP3ColorSpace:up,LinearFilter:qt,LinearInterpolant:M4,LinearMipMapLinearFilter:s3,LinearMipMapNearestFilter:lV,LinearMipmapLinearFilter:rs,LinearMipmapNearestFilter:Xu,LinearSRGBColorSpace:us,LinearToneMapping:KP,LinearTransfer:bh,Loader:Ii,LoaderUtils:to,LoadingManager:wv,LoopOnce:l7,LoopPingPong:u7,LoopRepeat:c7,LuminanceAlphaFormat:s7,LuminanceFormat:r7,MOUSE:Nl,Material:si,MaterialLoader:Ev,MathUtils:Ks,Matrix3:It,Matrix4:dt,MaxEquation:wP,Mesh:An,MeshBasicMaterial:hr,MeshDepthMaterial:ov,MeshDistanceMaterial:l4,MeshLambertMaterial:A4,MeshMatcapMaterial:iI,MeshNormalMaterial:nI,MeshPhongMaterial:eI,MeshPhysicalMaterial:ao,MeshStandardMaterial:_p,MeshToonMaterial:tI,MinEquation:CP,MirroredRepeatWrapping:af,MixOperation:XP,MultiplyBlending:i3,MultiplyOperation:cp,NearestFilter:Qn,NearestMipMapLinearFilter:aV,NearestMipMapNearestFilter:oV,NearestMipmapLinearFilter:jl,NearestMipmapNearestFilter:$1,NeutralToneMapping:$P,NeverCompare:m7,NeverDepth:UP,NeverStencilFunc:gV,NoBlending:qs,NoColorSpace:bo,NoToneMapping:$s,NormalAnimationBlendMode:nv,NormalBlending:tc,NotEqualCompare:x7,NotEqualDepth:jP,NotEqualStencilFunc:AV,NumberKeyframeTrack:pf,Object3D:Wt,ObjectLoader:QY,ObjectSpaceNormalMap:p7,OctahedronGeometry:yp,OneFactor:TP,OneMinusConstantAlphaFactor:kP,OneMinusConstantColorFactor:FP,OneMinusDstAlphaFactor:IP,OneMinusDstColorFactor:LP,OneMinusSrcAlphaFactor:l1,OneMinusSrcColorFactor:RP,OrthographicCamera:ws,P3Primaries:Ph,PCFShadowMap:q1,PCFSoftShadowMap:Yd,PMREMGenerator:D3,Path:Dh,PerspectiveCamera:Ln,Plane:Eo,PlaneGeometry:Jo,PlaneHelper:FZ,PointLight:b4,PointLightHelper:TZ,Points:p4,PointsMaterial:uv,PolarGridHelper:IZ,PolyhedronGeometry:sl,PositionalAudio:rZ,PropertyBinding:Vt,PropertyMixer:SI,QuadraticBezierCurve:y4,QuadraticBezierCurve3:x4,Quaternion:$n,QuaternionKeyframeTrack:qa,QuaternionLinearInterpolant:cI,RED_GREEN_RGTC2_Format:P3,RED_RGTC1_Format:a7,REVISION:xc,RGBADepthPacking:h7,RGBAFormat:ci,RGBAIntegerFormat:ZS,RGBA_ASTC_10x10_Format:C3,RGBA_ASTC_10x5_Format:A3,RGBA_ASTC_10x6_Format:S3,RGBA_ASTC_10x8_Format:M3,RGBA_ASTC_12x10_Format:w3,RGBA_ASTC_12x12_Format:E3,RGBA_ASTC_4x4_Format:h3,RGBA_ASTC_5x4_Format:p3,RGBA_ASTC_5x5_Format:m3,RGBA_ASTC_6x5_Format:g3,RGBA_ASTC_6x6_Format:v3,RGBA_ASTC_8x5_Format:y3,RGBA_ASTC_8x6_Format:x3,RGBA_ASTC_8x8_Format:_3,RGBA_BPTC_Format:Sg,RGBA_ETC2_EAC_Format:d3,RGBA_PVRTC_2BPPV1_Format:c3,RGBA_PVRTC_4BPPV1_Format:l3,RGBA_S3TC_DXT1_Format:xg,RGBA_S3TC_DXT3_Format:_g,RGBA_S3TC_DXT5_Format:Ag,RGBFormat:i7,RGB_BPTC_SIGNED_Format:T3,RGB_BPTC_UNSIGNED_Format:b3,RGB_ETC1_Format:u3,RGB_ETC2_Format:f3,RGB_PVRTC_2BPPV1_Format:a3,RGB_PVRTC_4BPPV1_Format:o3,RGB_S3TC_DXT1_Format:yg,RGFormat:o7,RGIntegerFormat:YS,RawShaderMaterial:$7,Ray:_c,Raycaster:N4,Rec709Primaries:Rh,RectAreaLight:mI,RedFormat:tv,RedIntegerFormat:KS,ReinhardToneMapping:YP,RenderTarget:E7,RepeatWrapping:Ya,ReplaceStencilOp:uV,ReverseSubtractEquation:MP,RingGeometry:xv,SIGNED_RED_GREEN_RGTC2_Format:I3,SIGNED_RED_RGTC1_Format:R3,SRGBColorSpace:Cr,SRGBTransfer:pn,Scene:df,ShaderChunk:Lt,ShaderLib:Ms,ShaderMaterial:Pi,ShadowMaterial:q7,Shape:sc,ShapeGeometry:_v,ShapePath:UZ,ShapeUtils:eo,ShortType:WS,Skeleton:mp,SkeletonHelper:EZ,SkinnedMesh:f4,Source:Kl,Sphere:Ai,SphereGeometry:xp,Spherical:z3,SphericalHarmonics3:gI,SplineCurve:_4,SpotLight:T4,SpotLightHelper:wZ,Sprite:U7,SpriteMaterial:u4,SrcAlphaFactor:a1,SrcAlphaSaturateFactor:DP,SrcColorFactor:bP,StaticCopyUsage:bV,StaticDrawUsage:Ih,StaticReadUsage:wV,StereoCamera:eZ,StreamCopyUsage:PV,StreamDrawUsage:CV,StreamReadUsage:TV,StringKeyframeTrack:Mc,SubtractEquation:SP,SubtractiveBlending:n3,TOUCH:Fl,TangentSpaceNormalMap:rl,TetrahedronGeometry:Av,Texture:$t,TextureLoader:dI,TorusGeometry:Sv,TorusKnotGeometry:Mv,Triangle:wr,TriangleFanDrawMode:c1,TriangleStripDrawMode:qS,TrianglesDrawMode:f7,TubeGeometry:Cv,UVMapping:Ja,Uint16BufferAttribute:n4,Uint32BufferAttribute:i4,Uint8BufferAttribute:uW,Uint8ClampedBufferAttribute:fW,Uniform:D4,UniformsGroup:xZ,UniformsLib:Xe,UniformsUtils:r4,UnsignedByteType:Br,UnsignedInt248Type:Tf,UnsignedInt5999Type:t7,UnsignedIntType:Za,UnsignedShort4444Type:XS,UnsignedShort5551Type:JS,UnsignedShortType:jS,VSMShadowMap:_s,Vector2:Te,Vector3:H,Vector4:un,VectorKeyframeTrack:mf,VideoTexture:lY,WebGL3DRenderTarget:$V,WebGLArrayRenderTarget:qV,WebGLCoordinateSystem:Js,WebGLCubeRenderTarget:s4,WebGLMultipleRenderTargets:HZ,WebGLRenderTarget:Ri,WebGLRenderer:c4,WebGLUtils:F7,WebGPUCoordinateSystem:Bh,WireframeGeometry:Q7,WrapAroundEnding:Th,ZeroCurvatureEnding:Xl,ZeroFactor:EP,ZeroSlopeEnding:Jl,ZeroStencilOp:cV,createCanvasElement:M7},Symbol.toStringTag,{value:"Module"}));var EI={exports:{}},Cc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Cc.ConcurrentRoot=1;Cc.ContinuousEventPriority=4;Cc.DefaultEventPriority=16;Cc.DiscreteEventPriority=1;Cc.IdleEventPriority=536870912;Cc.LegacyRoot=0;EI.exports=Cc;var Ou=EI.exports;function zZ(n){let e;const t=new Set,i=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,f=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!h(p,v)){const _=p;c(p=v,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,f,h)=>f||h?s(c,f,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const GZ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nb=GZ?O.useEffect:O.useLayoutEffect;function TI(n){const e=typeof n=="function"?zZ(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=O.useReducer(x=>x+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(i),c=O.useRef(r),f=O.useRef(!1),h=O.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||f.current)&&(p=i(o),m=!r(h.current,p)),nb(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,f.current=!1});const v=O.useRef(o);nb(()=>{const x=()=>{try{const A=e.getState(),S=l.current(A);c.current(h.current,S)||(a.current=A,h.current=S,s())}catch{f.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const _=m?p:h.current;return O.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var bI={exports:{}},gx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function VZ(){return ib||(ib=1,function(n){function e(F,K){var V=F.length;F.push(K);e:for(;0<V;){var ne=V-1>>>1,ue=F[ne];if(0<r(ue,K))F[ne]=K,F[V]=ue,V=ne;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],V=F.pop();if(V!==K){F[0]=V;e:for(var ne=0,ue=F.length,Be=ue>>>1;ne<Be;){var se=2*(ne+1)-1,we=F[se],Se=se+1,be=F[Se];if(0>r(we,V))Se<ue&&0>r(be,we)?(F[ne]=be,F[Se]=V,ne=Se):(F[ne]=we,F[se]=V,ne=se);else if(Se<ue&&0>r(be,V))F[ne]=be,F[Se]=V,ne=Se;else break e}}return K}function r(F,K){var V=F.sortIndex-K.sortIndex;return V!==0?V:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=F)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function C(F){if(_=!1,S(F),!v)if(t(l)!==null)v=!0,ie(P);else{var K=t(c);K!==null&&pe(C,K.startTime-F)}}function P(F,K){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var V=p;try{for(S(K),h=t(l);h!==null&&(!(h.expirationTime>K)||F&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ue=ne(h.expirationTime<=K);K=n.unstable_now(),typeof ue=="function"?h.callback=ue:h===t(l)&&i(l),S(K)}else i(l);h=t(l)}if(h!==null)var Be=!0;else{var se=t(c);se!==null&&pe(C,se.startTime-K),Be=!1}return Be}finally{h=null,p=V,m=!1}}var E=!1,I=null,B=-1,R=5,b=-1;function k(){return!(n.unstable_now()-b<R)}function Y(){if(I!==null){var F=n.unstable_now();b=F;var K=!0;try{K=I(!0,F)}finally{K?G():(E=!1,I=null)}}else E=!1}var G;if(typeof A=="function")G=function(){A(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=Y,G=function(){$.postMessage(null)}}else G=function(){x(Y,0)};function ie(F){I=F,E||(E=!0,G())}function pe(F,K){B=x(function(){F(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(P))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var V=p;p=K;try{return F()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=p;p=F;try{return K()}finally{p=V}},n.unstable_scheduleCallback=function(F,K,V){var ne=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,F={id:f++,callback:K,priorityLevel:F,startTime:V,expirationTime:ue,sortIndex:-1},V>ne?(F.sortIndex=V,e(c,F),t(l)===null&&F===t(c)&&(_?(g(B),B=-1):_=!0,pe(C,V-ne))):(F.sortIndex=ue,e(l,F),v||m||(v=!0,ie(P))),F},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(F){var K=p;return function(){var V=p;p=K;try{return F.apply(this,arguments)}finally{p=V}}}}(vx)),vx}var rb;function WZ(){return rb||(rb=1,gx.exports=VZ()),gx.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jZ=function(e){var t={},i=O,r=WZ(),s=Object.assign;function o(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),P=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=P&&u[P]||u["@@iterator"],typeof u=="function"?u:null)}function I(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case _:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return d=u.displayName||null,d!==null?d:I(u.type)||"Memo";case S:d=u._payload,u=u._init;try{return I(u(d))}catch{}}return null}function B(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function R(u){var d=u,y=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(y=d.return),u=d.return;while(u)}return d.tag===3?y:null}function b(u){if(R(u)!==u)throw Error(o(188))}function k(u){var d=u.alternate;if(!d){if(d=R(u),d===null)throw Error(o(188));return d!==u?null:u}for(var y=u,M=d;;){var w=y.return;if(w===null)break;var L=w.alternate;if(L===null){if(M=w.return,M!==null){y=M;continue}break}if(w.child===L.child){for(L=w.child;L;){if(L===y)return b(w),u;if(L===M)return b(w),d;L=L.sibling}throw Error(o(188))}if(y.return!==M.return)y=w,M=L;else{for(var J=!1,re=w.child;re;){if(re===y){J=!0,y=w,M=L;break}if(re===M){J=!0,M=w,y=L;break}re=re.sibling}if(!J){for(re=L.child;re;){if(re===y){J=!0,y=L,M=w;break}if(re===M){J=!0,M=L,y=w;break}re=re.sibling}if(!J)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:d}function Y(u){return u=k(u),u!==null?G(u):null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=G(u);if(d!==null)return d;u=u.sibling}return null}function q(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=q(u);if(d!==null)return d}u=u.sibling}return null}var $=Array.isArray,ie=e.getPublicInstance,pe=e.getRootHostContext,F=e.getChildHostContext,K=e.prepareForCommit,V=e.resetAfterCommit,ne=e.createInstance,ue=e.appendInitialChild,Be=e.finalizeInitialChildren,se=e.prepareUpdate,we=e.shouldSetTextContent,Se=e.createTextInstance,be=e.scheduleTimeout,ot=e.cancelTimeout,_t=e.noTimeout,ae=e.isPrimaryRenderer,ht=e.supportsMutation,me=e.supportsPersistence,ve=e.supportsHydration,he=e.getInstanceFromNode,De=e.preparePortalMount,Le=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,at=e.supportsMicrotasks,Z=e.scheduleMicrotask,U=e.supportsTestSelectors,fe=e.findFiberRoot,Re=e.getBoundingRect,Ie=e.getTextContent,Pe=e.isHiddenSubtree,it=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,yt=e.appendChild,Oe=e.appendChildToContainer,rt=e.commitTextUpdate,wt=e.commitMount,pt=e.commitUpdate,Je=e.insertBefore,lt=e.insertInContainerBefore,Mt=e.removeChild,te=e.removeChildFromContainer,_e=e.resetTextContent,Q=e.hideInstance,ye=e.hideTextInstance,ee=e.unhideInstance,Fe=e.unhideTextInstance,Ve=e.clearContainer,kt=e.cloneInstance,Xt=e.createContainerChildSet,Ut=e.appendChildToContainerChildSet,nn=e.finalizeContainerChildren,Dt=e.replaceContainerChildren,Wn=e.cloneHiddenInstance,hn=e.cloneHiddenTextInstance,fs=e.canHydrateInstance,Ec=e.canHydrateTextInstance,Tc=e.canHydrateSuspenseInstance,Nr=e.isSuspenseInstancePending,Ko=e.isSuspenseInstanceFallback,Fr=e.registerSuspenseInstanceRetry,or=e.getNextHydratableSibling,Nt=e.getFirstHydratableChild,bc=e.getFirstHydratableChildWithinContainer,Lf=e.getFirstHydratableChildWithinSuspenseInstance,D=e.hydrateInstance,T=e.hydrateTextInstance,N=e.hydrateSuspenseInstance,W=e.getNextHydratableInstanceAfterSuspenseInstance,j=e.commitHydratedContainer,X=e.commitHydratedSuspenseInstance,le=e.clearSuspenseBoundary,ce=e.clearSuspenseBoundaryFromContainer,ge=e.shouldDeleteUnhydratedTailInstances,Ae=e.didNotMatchHydratedContainerTextInstance,Ee=e.didNotMatchHydratedTextInstance,Ce;function qe(u){if(Ce===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Ce=d&&d[1]||""}return`
`+Ce+u}var He=!1;function Ke(u,d){if(!u||He)return"";He=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ke){var M=ke}Reflect.construct(u,[],d)}else{try{d.call()}catch(ke){M=ke}u.call(d.prototype)}else{try{throw Error()}catch(ke){M=ke}u()}}catch(ke){if(ke&&M&&typeof ke.stack=="string"){for(var w=ke.stack.split(`
`),L=M.stack.split(`
`),J=w.length-1,re=L.length-1;1<=J&&0<=re&&w[J]!==L[re];)re--;for(;1<=J&&0<=re;J--,re--)if(w[J]!==L[re]){if(J!==1||re!==1)do if(J--,re--,0>re||w[J]!==L[re]){var Me=`
`+w[J].replace(" at new "," at ");return u.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",u.displayName)),Me}while(1<=J&&0<=re);break}}}finally{He=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?qe(u):""}var ct=Object.prototype.hasOwnProperty,mt=[],tt=-1;function je(u){return{current:u}}function vt(u){0>tt||(u.current=mt[tt],mt[tt]=null,tt--)}function $e(u,d){tt++,mt[tt]=u.current,u.current=d}var Et={},rn=je(Et),St=je(!1),sn=Et;function Jt(u,d){var y=u.type.contextTypes;if(!y)return Et;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===d)return M.__reactInternalMemoizedMaskedChildContext;var w={},L;for(L in y)w[L]=d[L];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=w),w}function an(u){return u=u.childContextTypes,u!=null}function jn(){vt(St),vt(rn)}function Tt(u,d,y){if(rn.current!==Et)throw Error(o(168));$e(rn,d),$e(St,y)}function bn(u,d,y){var M=u.stateNode;if(d=d.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var w in M)if(!(w in d))throw Error(o(108,B(u)||"Unknown",w));return s({},y,M)}function en(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Et,sn=rn.current,$e(rn,u),$e(St,St.current),!0}function zt(u,d,y){var M=u.stateNode;if(!M)throw Error(o(169));y?(u=bn(u,d,sn),M.__reactInternalMemoizedMergedChildContext=u,vt(St),vt(rn),$e(rn,u)):vt(St),$e(St,y)}var Mn=Math.clz32?Math.clz32:Ls,lo=Math.log,Ji=Math.LN2;function Ls(u){return u>>>=0,u===0?32:31-(lo(u)/Ji|0)|0}var Ip=64,Bp=4194304;function Df(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Lp(u,d){var y=u.pendingLanes;if(y===0)return 0;var M=0,w=u.suspendedLanes,L=u.pingedLanes,J=y&268435455;if(J!==0){var re=J&~w;re!==0?M=Df(re):(L&=J,L!==0&&(M=Df(L)))}else J=y&~w,J!==0?M=Df(J):L!==0&&(M=Df(L));if(M===0)return 0;if(d!==0&&d!==M&&!(d&w)&&(w=M&-M,L=d&-d,w>=L||w===16&&(L&4194240)!==0))return d;if(M&4&&(M|=y&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=M;0<d;)y=31-Mn(d),w=1<<y,M|=u[y],d&=~w;return M}function _L(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AL(u,d){for(var y=u.suspendedLanes,M=u.pingedLanes,w=u.expirationTimes,L=u.pendingLanes;0<L;){var J=31-Mn(L),re=1<<J,Me=w[J];Me===-1?(!(re&y)||re&M)&&(w[J]=_L(re,d)):Me<=d&&(u.expiredLanes|=re),L&=~re}}function Ov(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function kv(u){for(var d=[],y=0;31>y;y++)d.push(u);return d}function Nf(u,d,y){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-Mn(d),u[d]=y}function SL(u,d){var y=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<y;){var w=31-Mn(y),L=1<<w;d[w]=0,M[w]=-1,u[w]=-1,y&=~L}}function Uv(u,d){var y=u.entangledLanes|=d;for(u=u.entanglements;y;){var M=31-Mn(y),w=1<<M;w&d|u[M]&d&&(u[M]|=d),y&=~w}}var Yt=0;function cM(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Hv=r.unstable_scheduleCallback,uM=r.unstable_cancelCallback,ML=r.unstable_shouldYield,CL=r.unstable_requestPaint,di=r.unstable_now,zv=r.unstable_ImmediatePriority,wL=r.unstable_UserBlockingPriority,Gv=r.unstable_NormalPriority,EL=r.unstable_IdlePriority,Dp=null,Ds=null;function TL(u){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Dp,u,void 0,(u.current.flags&128)===128)}catch{}}function bL(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ns=typeof Object.is=="function"?Object.is:bL,co=null,Np=!1,Vv=!1;function fM(u){co===null?co=[u]:co.push(u)}function RL(u){Np=!0,fM(u)}function Fs(){if(!Vv&&co!==null){Vv=!0;var u=0,d=Yt;try{var y=co;for(Yt=1;u<y.length;u++){var M=y[u];do M=M(!0);while(M!==null)}co=null,Np=!1}catch(w){throw co!==null&&(co=co.slice(u+1)),Hv(zv,Fs),w}finally{Yt=d,Vv=!1}}return null}var PL=a.ReactCurrentBatchConfig;function Fp(u,d){if(Ns(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var y=Object.keys(u),M=Object.keys(d);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var w=y[M];if(!ct.call(d,w)||!Ns(u[w],d[w]))return!1}return!0}function IL(u){switch(u.tag){case 5:return qe(u.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return u=Ke(u.type,!1),u;case 11:return u=Ke(u.type.render,!1),u;case 1:return u=Ke(u.type,!0),u;default:return""}}function ds(u,d){if(u&&u.defaultProps){d=s({},d),u=u.defaultProps;for(var y in u)d[y]===void 0&&(d[y]=u[y]);return d}return d}var Op=je(null),kp=null,Rc=null,Wv=null;function jv(){Wv=Rc=kp=null}function dM(u,d,y){ae?($e(Op,d._currentValue),d._currentValue=y):($e(Op,d._currentValue2),d._currentValue2=y)}function Xv(u){var d=Op.current;vt(Op),ae?u._currentValue=d:u._currentValue2=d}function Jv(u,d,y){for(;u!==null;){var M=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),u===y)break;u=u.return}}function Pc(u,d){kp=u,Wv=Rc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(xr=!0),u.firstContext=null)}function Or(u){var d=ae?u._currentValue:u._currentValue2;if(Wv!==u)if(u={context:u,memoizedValue:d,next:null},Rc===null){if(kp===null)throw Error(o(308));Rc=u,kp.dependencies={lanes:0,firstContext:u}}else Rc=Rc.next=u;return d}var Os=null,Yo=!1;function Kv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hM(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function uo(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function Zo(u,d){var y=u.updateQueue;y!==null&&(y=y.shared,ei!==null&&u.mode&1&&!(Ot&2)?(u=y.interleaved,u===null?(d.next=d,Os===null?Os=[y]:Os.push(y)):(d.next=u.next,u.next=d),y.interleaved=d):(u=y.pending,u===null?d.next=d:(d.next=u.next,u.next=d),y.pending=d))}function Up(u,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var M=d.lanes;M&=u.pendingLanes,y|=M,d.lanes=y,Uv(u,y)}}function pM(u,d){var y=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var w=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var J={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};L===null?w=L=J:L=L.next=J,y=y.next}while(y!==null);L===null?w=L=d:L=L.next=d}else w=L=d;y={baseState:M.baseState,firstBaseUpdate:w,lastBaseUpdate:L,shared:M.shared,effects:M.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=d}function Hp(u,d,y,M){var w=u.updateQueue;Yo=!1;var L=w.firstBaseUpdate,J=w.lastBaseUpdate,re=w.shared.pending;if(re!==null){w.shared.pending=null;var Me=re,ke=Me.next;Me.next=null,J===null?L=ke:J.next=ke,J=Me;var nt=u.alternate;nt!==null&&(nt=nt.updateQueue,re=nt.lastBaseUpdate,re!==J&&(re===null?nt.firstBaseUpdate=ke:re.next=ke,nt.lastBaseUpdate=Me))}if(L!==null){var bt=w.baseState;J=0,nt=ke=Me=null,re=L;do{var gt=re.lane,dn=re.eventTime;if((M&gt)===gt){nt!==null&&(nt=nt.next={eventTime:dn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ft=u,Ni=re;switch(gt=d,dn=y,Ni.tag){case 1:if(ft=Ni.payload,typeof ft=="function"){bt=ft.call(dn,bt,gt);break e}bt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Ni.payload,gt=typeof ft=="function"?ft.call(dn,bt,gt):ft,gt==null)break e;bt=s({},bt,gt);break e;case 2:Yo=!0}}re.callback!==null&&re.lane!==0&&(u.flags|=64,gt=w.effects,gt===null?w.effects=[re]:gt.push(re))}else dn={eventTime:dn,lane:gt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},nt===null?(ke=nt=dn,Me=bt):nt=nt.next=dn,J|=gt;if(re=re.next,re===null){if(re=w.shared.pending,re===null)break;gt=re,re=gt.next,gt.next=null,w.lastBaseUpdate=gt,w.shared.pending=null}}while(!0);if(nt===null&&(Me=bt),w.baseState=Me,w.firstBaseUpdate=ke,w.lastBaseUpdate=nt,d=w.shared.interleaved,d!==null){w=d;do J|=w.lane,w=w.next;while(w!==d)}else L===null&&(w.shared.lanes=0);Uc|=J,u.lanes=J,u.memoizedState=bt}}function mM(u,d,y){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var M=u[d],w=M.callback;if(w!==null){if(M.callback=null,M=y,typeof w!="function")throw Error(o(191,w));w.call(M)}}}var gM=new i.Component().refs;function Yv(u,d,y,M){d=u.memoizedState,y=y(M,d),y=y==null?d:s({},d,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var zp={isMounted:function(u){return(u=u._reactInternals)?R(u)===u:!1},enqueueSetState:function(u,d,y){u=u._reactInternals;var M=Yi(),w=$o(u),L=uo(M,w);L.payload=d,y!=null&&(L.callback=y),Zo(u,L),d=Gr(u,w,M),d!==null&&Up(d,u,w)},enqueueReplaceState:function(u,d,y){u=u._reactInternals;var M=Yi(),w=$o(u),L=uo(M,w);L.tag=1,L.payload=d,y!=null&&(L.callback=y),Zo(u,L),d=Gr(u,w,M),d!==null&&Up(d,u,w)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var y=Yi(),M=$o(u),w=uo(y,M);w.tag=2,d!=null&&(w.callback=d),Zo(u,w),d=Gr(u,M,y),d!==null&&Up(d,u,M)}};function vM(u,d,y,M,w,L,J){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,L,J):d.prototype&&d.prototype.isPureReactComponent?!Fp(y,M)||!Fp(w,L):!0}function yM(u,d,y){var M=!1,w=Et,L=d.contextType;return typeof L=="object"&&L!==null?L=Or(L):(w=an(d)?sn:rn.current,M=d.contextTypes,L=(M=M!=null)?Jt(u,w):Et),d=new d(y,L),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zp,u.stateNode=d,d._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=w,u.__reactInternalMemoizedMaskedChildContext=L),d}function xM(u,d,y,M){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,M),d.state!==u&&zp.enqueueReplaceState(d,d.state,null)}function Zv(u,d,y,M){var w=u.stateNode;w.props=y,w.state=u.memoizedState,w.refs=gM,Kv(u);var L=d.contextType;typeof L=="object"&&L!==null?w.context=Or(L):(L=an(d)?sn:rn.current,w.context=Jt(u,L)),w.state=u.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(Yv(u,d,L,y),w.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(d=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),d!==w.state&&zp.enqueueReplaceState(w,w.state,null),Hp(u,y,w,M),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308)}var Ic=[],Bc=0,Gp=null,Vp=0,kr=[],Ur=0,al=null,fo=1,ho="";function ll(u,d){Ic[Bc++]=Vp,Ic[Bc++]=Gp,Gp=u,Vp=d}function _M(u,d,y){kr[Ur++]=fo,kr[Ur++]=ho,kr[Ur++]=al,al=u;var M=fo;u=ho;var w=32-Mn(M)-1;M&=~(1<<w),y+=1;var L=32-Mn(d)+w;if(30<L){var J=w-w%5;L=(M&(1<<J)-1).toString(32),M>>=J,w-=J,fo=1<<32-Mn(d)+w|y<<w|M,ho=L+u}else fo=1<<L|y<<w|M,ho=u}function Qv(u){u.return!==null&&(ll(u,1),_M(u,1,0))}function qv(u){for(;u===Gp;)Gp=Ic[--Bc],Ic[Bc]=null,Vp=Ic[--Bc],Ic[Bc]=null;for(;u===al;)al=kr[--Ur],kr[Ur]=null,ho=kr[--Ur],kr[Ur]=null,fo=kr[--Ur],kr[Ur]=null}var vr=null,yr=null,Cn=!1,Ff=!1,hs=null;function AM(u,d){var y=Vr(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=u,d=u.deletions,d===null?(u.deletions=[y],u.flags|=16):d.push(y)}function SM(u,d){switch(u.tag){case 5:return d=fs(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,vr=u,yr=Nt(d),!0):!1;case 6:return d=Ec(d,u.pendingProps),d!==null?(u.stateNode=d,vr=u,yr=null,!0):!1;case 13:if(d=Tc(d),d!==null){var y=al!==null?{id:fo,overflow:ho}:null;return u.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Vr(18,null,null,0),y.stateNode=d,y.return=u,u.child=y,vr=u,yr=null,!0}return!1;default:return!1}}function $v(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ey(u){if(Cn){var d=yr;if(d){var y=d;if(!SM(u,d)){if($v(u))throw Error(o(418));d=or(y);var M=vr;d&&SM(u,d)?AM(M,y):(u.flags=u.flags&-4097|2,Cn=!1,vr=u)}}else{if($v(u))throw Error(o(418));u.flags=u.flags&-4097|2,Cn=!1,vr=u}}}function MM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;vr=u}function Of(u){if(!ve||u!==vr)return!1;if(!Cn)return MM(u),Cn=!0,!1;if(u.tag!==3&&(u.tag!==5||ge(u.type)&&!we(u.type,u.memoizedProps))){var d=yr;if(d){if($v(u)){for(u=yr;u;)u=or(u);throw Error(o(418))}for(;d;)AM(u,d),d=or(d)}}if(MM(u),u.tag===13){if(!ve)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));yr=W(u)}else yr=vr?or(u.stateNode):null;return!0}function Lc(){ve&&(yr=vr=null,Ff=Cn=!1)}function ty(u){hs===null?hs=[u]:hs.push(u)}function kf(u,d,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,u));var w=M,L=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===L?d.ref:(d=function(J){var re=w.refs;re===gM&&(re=w.refs={}),J===null?delete re[L]:re[L]=J},d._stringRef=L,d)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function Wp(u,d){throw u=Object.prototype.toString.call(d),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function CM(u){var d=u._init;return d(u._payload)}function wM(u){function d(de,oe){if(u){var xe=de.deletions;xe===null?(de.deletions=[oe],de.flags|=16):xe.push(oe)}}function y(de,oe){if(!u)return null;for(;oe!==null;)d(de,oe),oe=oe.sibling;return null}function M(de,oe){for(de=new Map;oe!==null;)oe.key!==null?de.set(oe.key,oe):de.set(oe.index,oe),oe=oe.sibling;return de}function w(de,oe){return de=ta(de,oe),de.index=0,de.sibling=null,de}function L(de,oe,xe){return de.index=xe,u?(xe=de.alternate,xe!==null?(xe=xe.index,xe<oe?(de.flags|=2,oe):xe):(de.flags|=2,oe)):(de.flags|=1048576,oe)}function J(de){return u&&de.alternate===null&&(de.flags|=2),de}function re(de,oe,xe,Qe){return oe===null||oe.tag!==6?(oe=ky(xe,de.mode,Qe),oe.return=de,oe):(oe=w(oe,xe),oe.return=de,oe)}function Me(de,oe,xe,Qe){var ut=xe.type;return ut===f?nt(de,oe,xe.props.children,Qe,xe.key):oe!==null&&(oe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&CM(ut)===oe.type)?(Qe=w(oe,xe.props),Qe.ref=kf(de,oe,xe),Qe.return=de,Qe):(Qe=Am(xe.type,xe.key,xe.props,null,de.mode,Qe),Qe.ref=kf(de,oe,xe),Qe.return=de,Qe)}function ke(de,oe,xe,Qe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==xe.containerInfo||oe.stateNode.implementation!==xe.implementation?(oe=Uy(xe,de.mode,Qe),oe.return=de,oe):(oe=w(oe,xe.children||[]),oe.return=de,oe)}function nt(de,oe,xe,Qe,ut){return oe===null||oe.tag!==7?(oe=ml(xe,de.mode,Qe,ut),oe.return=de,oe):(oe=w(oe,xe),oe.return=de,oe)}function bt(de,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=ky(""+oe,de.mode,xe),oe.return=de,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case l:return xe=Am(oe.type,oe.key,oe.props,null,de.mode,xe),xe.ref=kf(de,null,oe),xe.return=de,xe;case c:return oe=Uy(oe,de.mode,xe),oe.return=de,oe;case S:var Qe=oe._init;return bt(de,Qe(oe._payload),xe)}if($(oe)||E(oe))return oe=ml(oe,de.mode,xe,null),oe.return=de,oe;Wp(de,oe)}return null}function gt(de,oe,xe,Qe){var ut=oe!==null?oe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ut!==null?null:re(de,oe,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return xe.key===ut?Me(de,oe,xe,Qe):null;case c:return xe.key===ut?ke(de,oe,xe,Qe):null;case S:return ut=xe._init,gt(de,oe,ut(xe._payload),Qe)}if($(xe)||E(xe))return ut!==null?null:nt(de,oe,xe,Qe,null);Wp(de,xe)}return null}function dn(de,oe,xe,Qe,ut){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return de=de.get(xe)||null,re(oe,de,""+Qe,ut);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return de=de.get(Qe.key===null?xe:Qe.key)||null,Me(oe,de,Qe,ut);case c:return de=de.get(Qe.key===null?xe:Qe.key)||null,ke(oe,de,Qe,ut);case S:var Ft=Qe._init;return dn(de,oe,xe,Ft(Qe._payload),ut)}if($(Qe)||E(Qe))return de=de.get(xe)||null,nt(oe,de,Qe,ut,null);Wp(oe,Qe)}return null}function ft(de,oe,xe,Qe){for(var ut=null,Ft=null,Rt=oe,Zt=oe=0,pi=null;Rt!==null&&Zt<xe.length;Zt++){Rt.index>Zt?(pi=Rt,Rt=null):pi=Rt.sibling;var Qt=gt(de,Rt,xe[Zt],Qe);if(Qt===null){Rt===null&&(Rt=pi);break}u&&Rt&&Qt.alternate===null&&d(de,Rt),oe=L(Qt,oe,Zt),Ft===null?ut=Qt:Ft.sibling=Qt,Ft=Qt,Rt=pi}if(Zt===xe.length)return y(de,Rt),Cn&&ll(de,Zt),ut;if(Rt===null){for(;Zt<xe.length;Zt++)Rt=bt(de,xe[Zt],Qe),Rt!==null&&(oe=L(Rt,oe,Zt),Ft===null?ut=Rt:Ft.sibling=Rt,Ft=Rt);return Cn&&ll(de,Zt),ut}for(Rt=M(de,Rt);Zt<xe.length;Zt++)pi=dn(Rt,de,Zt,xe[Zt],Qe),pi!==null&&(u&&pi.alternate!==null&&Rt.delete(pi.key===null?Zt:pi.key),oe=L(pi,oe,Zt),Ft===null?ut=pi:Ft.sibling=pi,Ft=pi);return u&&Rt.forEach(function(na){return d(de,na)}),Cn&&ll(de,Zt),ut}function Ni(de,oe,xe,Qe){var ut=E(xe);if(typeof ut!="function")throw Error(o(150));if(xe=ut.call(xe),xe==null)throw Error(o(151));for(var Ft=ut=null,Rt=oe,Zt=oe=0,pi=null,Qt=xe.next();Rt!==null&&!Qt.done;Zt++,Qt=xe.next()){Rt.index>Zt?(pi=Rt,Rt=null):pi=Rt.sibling;var na=gt(de,Rt,Qt.value,Qe);if(na===null){Rt===null&&(Rt=pi);break}u&&Rt&&na.alternate===null&&d(de,Rt),oe=L(na,oe,Zt),Ft===null?ut=na:Ft.sibling=na,Ft=na,Rt=pi}if(Qt.done)return y(de,Rt),Cn&&ll(de,Zt),ut;if(Rt===null){for(;!Qt.done;Zt++,Qt=xe.next())Qt=bt(de,Qt.value,Qe),Qt!==null&&(oe=L(Qt,oe,Zt),Ft===null?ut=Qt:Ft.sibling=Qt,Ft=Qt);return Cn&&ll(de,Zt),ut}for(Rt=M(de,Rt);!Qt.done;Zt++,Qt=xe.next())Qt=dn(Rt,de,Zt,Qt.value,Qe),Qt!==null&&(u&&Qt.alternate!==null&&Rt.delete(Qt.key===null?Zt:Qt.key),oe=L(Qt,oe,Zt),Ft===null?ut=Qt:Ft.sibling=Qt,Ft=Qt);return u&&Rt.forEach(function(aD){return d(de,aD)}),Cn&&ll(de,Zt),ut}function Wr(de,oe,xe,Qe){if(typeof xe=="object"&&xe!==null&&xe.type===f&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:e:{for(var ut=xe.key,Ft=oe;Ft!==null;){if(Ft.key===ut){if(ut=xe.type,ut===f){if(Ft.tag===7){y(de,Ft.sibling),oe=w(Ft,xe.props.children),oe.return=de,de=oe;break e}}else if(Ft.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&CM(ut)===Ft.type){y(de,Ft.sibling),oe=w(Ft,xe.props),oe.ref=kf(de,Ft,xe),oe.return=de,de=oe;break e}y(de,Ft);break}else d(de,Ft);Ft=Ft.sibling}xe.type===f?(oe=ml(xe.props.children,de.mode,Qe,xe.key),oe.return=de,de=oe):(Qe=Am(xe.type,xe.key,xe.props,null,de.mode,Qe),Qe.ref=kf(de,oe,xe),Qe.return=de,de=Qe)}return J(de);case c:e:{for(Ft=xe.key;oe!==null;){if(oe.key===Ft)if(oe.tag===4&&oe.stateNode.containerInfo===xe.containerInfo&&oe.stateNode.implementation===xe.implementation){y(de,oe.sibling),oe=w(oe,xe.children||[]),oe.return=de,de=oe;break e}else{y(de,oe);break}else d(de,oe);oe=oe.sibling}oe=Uy(xe,de.mode,Qe),oe.return=de,de=oe}return J(de);case S:return Ft=xe._init,Wr(de,oe,Ft(xe._payload),Qe)}if($(xe))return ft(de,oe,xe,Qe);if(E(xe))return Ni(de,oe,xe,Qe);Wp(de,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,oe!==null&&oe.tag===6?(y(de,oe.sibling),oe=w(oe,xe),oe.return=de,de=oe):(y(de,oe),oe=ky(xe,de.mode,Qe),oe.return=de,de=oe),J(de)):y(de,oe)}return Wr}var Dc=wM(!0),EM=wM(!1),Uf={},Hr=je(Uf),Hf=je(Uf),Nc=je(Uf);function ks(u){if(u===Uf)throw Error(o(174));return u}function ny(u,d){$e(Nc,d),$e(Hf,u),$e(Hr,Uf),u=pe(d),vt(Hr),$e(Hr,u)}function Fc(){vt(Hr),vt(Hf),vt(Nc)}function TM(u){var d=ks(Nc.current),y=ks(Hr.current);d=F(y,u.type,d),y!==d&&($e(Hf,u),$e(Hr,d))}function iy(u){Hf.current===u&&(vt(Hr),vt(Hf))}var Rn=je(0);function jp(u){for(var d=u;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Nr(y)||Ko(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ry=[];function sy(){for(var u=0;u<ry.length;u++){var d=ry[u];ae?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}ry.length=0}var Xp=a.ReactCurrentDispatcher,zr=a.ReactCurrentBatchConfig,Oc=0,Un=null,Bi=null,hi=null,Jp=!1,zf=!1,Gf=0,BL=0;function Li(){throw Error(o(321))}function oy(u,d){if(d===null)return!1;for(var y=0;y<d.length&&y<u.length;y++)if(!Ns(u[y],d[y]))return!1;return!0}function ay(u,d,y,M,w,L){if(Oc=L,Un=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Xp.current=u===null||u.memoizedState===null?FL:OL,u=y(M,w),zf){L=0;do{if(zf=!1,Gf=0,25<=L)throw Error(o(301));L+=1,hi=Bi=null,d.updateQueue=null,Xp.current=kL,u=y(M,w)}while(zf)}if(Xp.current=qp,d=Bi!==null&&Bi.next!==null,Oc=0,hi=Bi=Un=null,Jp=!1,d)throw Error(o(300));return u}function ly(){var u=Gf!==0;return Gf=0,u}function po(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Un.memoizedState=hi=u:hi=hi.next=u,hi}function Us(){if(Bi===null){var u=Un.alternate;u=u!==null?u.memoizedState:null}else u=Bi.next;var d=hi===null?Un.memoizedState:hi.next;if(d!==null)hi=d,Bi=u;else{if(u===null)throw Error(o(310));Bi=u,u={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},hi===null?Un.memoizedState=hi=u:hi=hi.next=u}return hi}function cl(u,d){return typeof d=="function"?d(u):d}function Kp(u){var d=Us(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=Bi,w=M.baseQueue,L=y.pending;if(L!==null){if(w!==null){var J=w.next;w.next=L.next,L.next=J}M.baseQueue=w=L,y.pending=null}if(w!==null){L=w.next,M=M.baseState;var re=J=null,Me=null,ke=L;do{var nt=ke.lane;if((Oc&nt)===nt)Me!==null&&(Me=Me.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),M=ke.hasEagerState?ke.eagerState:u(M,ke.action);else{var bt={lane:nt,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};Me===null?(re=Me=bt,J=M):Me=Me.next=bt,Un.lanes|=nt,Uc|=nt}ke=ke.next}while(ke!==null&&ke!==L);Me===null?J=M:Me.next=re,Ns(M,d.memoizedState)||(xr=!0),d.memoizedState=M,d.baseState=J,d.baseQueue=Me,y.lastRenderedState=M}if(u=y.interleaved,u!==null){w=u;do L=w.lane,Un.lanes|=L,Uc|=L,w=w.next;while(w!==u)}else w===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Yp(u){var d=Us(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=y.dispatch,w=y.pending,L=d.memoizedState;if(w!==null){y.pending=null;var J=w=w.next;do L=u(L,J.action),J=J.next;while(J!==w);Ns(L,d.memoizedState)||(xr=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),y.lastRenderedState=L}return[L,M]}function bM(){}function RM(u,d){var y=Un,M=Us(),w=d(),L=!Ns(M.memoizedState,w);if(L&&(M.memoizedState=w,xr=!0),M=M.queue,Wf(BM.bind(null,y,M,u),[u]),M.getSnapshot!==d||L||hi!==null&&hi.memoizedState.tag&1){if(y.flags|=2048,Vf(9,IM.bind(null,y,M,w,d),void 0,null),ei===null)throw Error(o(349));Oc&30||PM(y,d,w)}return w}function PM(u,d,y){u.flags|=16384,u={getSnapshot:d,value:y},d=Un.updateQueue,d===null?(d={lastEffect:null,stores:null},Un.updateQueue=d,d.stores=[u]):(y=d.stores,y===null?d.stores=[u]:y.push(u))}function IM(u,d,y,M){d.value=y,d.getSnapshot=M,LM(d)&&Gr(u,1,-1)}function BM(u,d,y){return y(function(){LM(d)&&Gr(u,1,-1)})}function LM(u){var d=u.getSnapshot;u=u.value;try{var y=d();return!Ns(u,y)}catch{return!0}}function cy(u){var d=po();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:u},d.queue=u,u=u.dispatch=NL.bind(null,Un,u),[d.memoizedState,u]}function Vf(u,d,y,M){return u={tag:u,create:d,destroy:y,deps:M,next:null},d=Un.updateQueue,d===null?(d={lastEffect:null,stores:null},Un.updateQueue=d,d.lastEffect=u.next=u):(y=d.lastEffect,y===null?d.lastEffect=u.next=u:(M=y.next,y.next=u,u.next=M,d.lastEffect=u)),u}function DM(){return Us().memoizedState}function Zp(u,d,y,M){var w=po();Un.flags|=u,w.memoizedState=Vf(1|d,y,void 0,M===void 0?null:M)}function Qp(u,d,y,M){var w=Us();M=M===void 0?null:M;var L=void 0;if(Bi!==null){var J=Bi.memoizedState;if(L=J.destroy,M!==null&&oy(M,J.deps)){w.memoizedState=Vf(d,y,L,M);return}}Un.flags|=u,w.memoizedState=Vf(1|d,y,L,M)}function uy(u,d){return Zp(8390656,8,u,d)}function Wf(u,d){return Qp(2048,8,u,d)}function NM(u,d){return Qp(4,2,u,d)}function FM(u,d){return Qp(4,4,u,d)}function OM(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function kM(u,d,y){return y=y!=null?y.concat([u]):null,Qp(4,4,OM.bind(null,d,u),y)}function fy(){}function UM(u,d){var y=Us();d=d===void 0?null:d;var M=y.memoizedState;return M!==null&&d!==null&&oy(d,M[1])?M[0]:(y.memoizedState=[u,d],u)}function HM(u,d){var y=Us();d=d===void 0?null:d;var M=y.memoizedState;return M!==null&&d!==null&&oy(d,M[1])?M[0]:(u=u(),y.memoizedState=[u,d],u)}function LL(u,d){var y=Yt;Yt=y!==0&&4>y?y:4,u(!0);var M=zr.transition;zr.transition={};try{u(!1),d()}finally{Yt=y,zr.transition=M}}function zM(){return Us().memoizedState}function DL(u,d,y){var M=$o(u);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},GM(u)?VM(d,y):(WM(u,d,y),y=Yi(),u=Gr(u,M,y),u!==null&&jM(u,d,M))}function NL(u,d,y){var M=$o(u),w={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(GM(u))VM(d,w);else{WM(u,d,w);var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var J=d.lastRenderedState,re=L(J,y);if(w.hasEagerState=!0,w.eagerState=re,Ns(re,J))return}catch{}finally{}y=Yi(),u=Gr(u,M,y),u!==null&&jM(u,d,M)}}function GM(u){var d=u.alternate;return u===Un||d!==null&&d===Un}function VM(u,d){zf=Jp=!0;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}function WM(u,d,y){ei!==null&&u.mode&1&&!(Ot&2)?(u=d.interleaved,u===null?(y.next=y,Os===null?Os=[d]:Os.push(d)):(y.next=u.next,u.next=y),d.interleaved=y):(u=d.pending,u===null?y.next=y:(y.next=u.next,u.next=y),d.pending=y)}function jM(u,d,y){if(y&4194240){var M=d.lanes;M&=u.pendingLanes,y|=M,d.lanes=y,Uv(u,y)}}var qp={readContext:Or,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},FL={readContext:Or,useCallback:function(u,d){return po().memoizedState=[u,d===void 0?null:d],u},useContext:Or,useEffect:uy,useImperativeHandle:function(u,d,y){return y=y!=null?y.concat([u]):null,Zp(4194308,4,OM.bind(null,d,u),y)},useLayoutEffect:function(u,d){return Zp(4194308,4,u,d)},useInsertionEffect:function(u,d){return Zp(4,2,u,d)},useMemo:function(u,d){var y=po();return d=d===void 0?null:d,u=u(),y.memoizedState=[u,d],u},useReducer:function(u,d,y){var M=po();return d=y!==void 0?y(d):d,M.memoizedState=M.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},M.queue=u,u=u.dispatch=DL.bind(null,Un,u),[M.memoizedState,u]},useRef:function(u){var d=po();return u={current:u},d.memoizedState=u},useState:cy,useDebugValue:fy,useDeferredValue:function(u){var d=cy(u),y=d[0],M=d[1];return uy(function(){var w=zr.transition;zr.transition={};try{M(u)}finally{zr.transition=w}},[u]),y},useTransition:function(){var u=cy(!1),d=u[0];return u=LL.bind(null,u[1]),po().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,y){var M=Un,w=po();if(Cn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=d(),ei===null)throw Error(o(349));Oc&30||PM(M,d,y)}w.memoizedState=y;var L={value:y,getSnapshot:d};return w.queue=L,uy(BM.bind(null,M,L,u),[u]),M.flags|=2048,Vf(9,IM.bind(null,M,L,y,d),void 0,null),y},useId:function(){var u=po(),d=ei.identifierPrefix;if(Cn){var y=ho,M=fo;y=(M&~(1<<32-Mn(M)-1)).toString(32)+y,d=":"+d+"R"+y,y=Gf++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=BL++,d=":"+d+"r"+y.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},OL={readContext:Or,useCallback:UM,useContext:Or,useEffect:Wf,useImperativeHandle:kM,useInsertionEffect:NM,useLayoutEffect:FM,useMemo:HM,useReducer:Kp,useRef:DM,useState:function(){return Kp(cl)},useDebugValue:fy,useDeferredValue:function(u){var d=Kp(cl),y=d[0],M=d[1];return Wf(function(){var w=zr.transition;zr.transition={};try{M(u)}finally{zr.transition=w}},[u]),y},useTransition:function(){var u=Kp(cl)[0],d=Us().memoizedState;return[u,d]},useMutableSource:bM,useSyncExternalStore:RM,useId:zM,unstable_isNewReconciler:!1},kL={readContext:Or,useCallback:UM,useContext:Or,useEffect:Wf,useImperativeHandle:kM,useInsertionEffect:NM,useLayoutEffect:FM,useMemo:HM,useReducer:Yp,useRef:DM,useState:function(){return Yp(cl)},useDebugValue:fy,useDeferredValue:function(u){var d=Yp(cl),y=d[0],M=d[1];return Wf(function(){var w=zr.transition;zr.transition={};try{M(u)}finally{zr.transition=w}},[u]),y},useTransition:function(){var u=Yp(cl)[0],d=Us().memoizedState;return[u,d]},useMutableSource:bM,useSyncExternalStore:RM,useId:zM,unstable_isNewReconciler:!1};function dy(u,d){try{var y="",M=d;do y+=IL(M),M=M.return;while(M);var w=y}catch(L){w=`
Error generating stack: `+L.message+`
`+L.stack}return{value:u,source:d,stack:w}}function hy(u,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var UL=typeof WeakMap=="function"?WeakMap:Map;function XM(u,d,y){y=uo(-1,y),y.tag=3,y.payload={element:null};var M=d.value;return y.callback=function(){pm||(pm=!0,Iy=M),hy(u,d)},y}function JM(u,d,y){y=uo(-1,y),y.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var w=d.value;y.payload=function(){return M(w)},y.callback=function(){hy(u,d)}}var L=u.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(y.callback=function(){hy(u,d),typeof M!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var J=d.stack;this.componentDidCatch(d.value,{componentStack:J!==null?J:""})}),y}function KM(u,d,y){var M=u.pingCache;if(M===null){M=u.pingCache=new UL;var w=new Set;M.set(d,w)}else w=M.get(d),w===void 0&&(w=new Set,M.set(d,w));w.has(y)||(w.add(y),u=$L.bind(null,u,d,y),d.then(u,u))}function YM(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function ZM(u,d,y,M,w){return u.mode&1?(u.flags|=65536,u.lanes=w,u):(u===d?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=uo(-1,1),d.tag=2,Zo(y,d))),y.lanes|=1),u)}function Hs(u){u.flags|=4}function QM(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var jf,Xf,$p,em;if(ht)jf=function(u,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)ue(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Xf=function(){},$p=function(u,d,y,M,w){if(u=u.memoizedProps,u!==M){var L=d.stateNode,J=ks(Hr.current);y=se(L,y,u,M,w,J),(d.updateQueue=y)&&Hs(d)}},em=function(u,d,y,M){y!==M&&Hs(d)};else if(me){jf=function(u,d,y,M){for(var w=d.child;w!==null;){if(w.tag===5){var L=w.stateNode;y&&M&&(L=Wn(L,w.type,w.memoizedProps,w)),ue(u,L)}else if(w.tag===6)L=w.stateNode,y&&M&&(L=hn(L,w.memoizedProps,w)),ue(u,L);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)L=w.child,L!==null&&(L.return=w),jf(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var qM=function(u,d,y,M){for(var w=d.child;w!==null;){if(w.tag===5){var L=w.stateNode;y&&M&&(L=Wn(L,w.type,w.memoizedProps,w)),Ut(u,L)}else if(w.tag===6)L=w.stateNode,y&&M&&(L=hn(L,w.memoizedProps,w)),Ut(u,L);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)L=w.child,L!==null&&(L.return=w),qM(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};Xf=function(u,d){var y=d.stateNode;if(!QM(u,d)){u=y.containerInfo;var M=Xt(u);qM(M,d,!1,!1),y.pendingChildren=M,Hs(d),nn(u,M)}},$p=function(u,d,y,M,w){var L=u.stateNode,J=u.memoizedProps;if((u=QM(u,d))&&J===M)d.stateNode=L;else{var re=d.stateNode,Me=ks(Hr.current),ke=null;J!==M&&(ke=se(re,y,J,M,w,Me)),u&&ke===null?d.stateNode=L:(L=kt(L,ke,y,J,M,d,u,re),Be(L,y,M,w,Me)&&Hs(d),d.stateNode=L,u?Hs(d):jf(L,d,!1,!1))}},em=function(u,d,y,M){y!==M?(u=ks(Nc.current),y=ks(Hr.current),d.stateNode=Se(M,u,y,d),Hs(d)):d.stateNode=u.stateNode}}else Xf=function(){},$p=function(){},em=function(){};function Jf(u,d){if(!Cn)switch(u.tailMode){case"hidden":d=u.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function Di(u){var d=u.alternate!==null&&u.alternate.child===u.child,y=0,M=0;if(d)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,M|=w.subtreeFlags&14680064,M|=w.flags&14680064,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,M|=w.subtreeFlags,M|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=M,u.childLanes=y,d}function HL(u,d,y){var M=d.pendingProps;switch(qv(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(d),null;case 1:return an(d.type)&&jn(),Di(d),null;case 3:return M=d.stateNode,Fc(),vt(St),vt(rn),sy(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Of(d)?Hs(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,hs!==null&&(Dy(hs),hs=null))),Xf(u,d),Di(d),null;case 5:iy(d),y=ks(Nc.current);var w=d.type;if(u!==null&&d.stateNode!=null)$p(u,d,w,M,y),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!M){if(d.stateNode===null)throw Error(o(166));return Di(d),null}if(u=ks(Hr.current),Of(d)){if(!ve)throw Error(o(175));u=D(d.stateNode,d.type,d.memoizedProps,y,u,d,!Ff),d.updateQueue=u,u!==null&&Hs(d)}else{var L=ne(w,M,y,u,d);jf(L,d,!1,!1),d.stateNode=L,Be(L,w,M,y,u)&&Hs(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Di(d),null;case 6:if(u&&d.stateNode!=null)em(u,d,u.memoizedProps,M);else{if(typeof M!="string"&&d.stateNode===null)throw Error(o(166));if(u=ks(Nc.current),y=ks(Hr.current),Of(d)){if(!ve)throw Error(o(176));if(u=d.stateNode,M=d.memoizedProps,(y=T(u,M,d,!Ff))&&(w=vr,w!==null))switch(L=(w.mode&1)!==0,w.tag){case 3:Ae(w.stateNode.containerInfo,u,M,L);break;case 5:Ee(w.type,w.memoizedProps,w.stateNode,u,M,L)}y&&Hs(d)}else d.stateNode=Se(M,u,y,d)}return Di(d),null;case 13:if(vt(Rn),M=d.memoizedState,Cn&&yr!==null&&d.mode&1&&!(d.flags&128)){for(u=yr;u;)u=or(u);return Lc(),d.flags|=98560,d}if(M!==null&&M.dehydrated!==null){if(M=Of(d),u===null){if(!M)throw Error(o(318));if(!ve)throw Error(o(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));N(u,d)}else Lc(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Di(d),null}return hs!==null&&(Dy(hs),hs=null),d.flags&128?(d.lanes=y,d):(M=M!==null,y=!1,u===null?Of(d):y=u.memoizedState!==null,M&&!y&&(d.child.flags|=8192,d.mode&1&&(u===null||Rn.current&1?oi===0&&(oi=3):Fy())),d.updateQueue!==null&&(d.flags|=4),Di(d),null);case 4:return Fc(),Xf(u,d),u===null&&De(d.stateNode.containerInfo),Di(d),null;case 10:return Xv(d.type._context),Di(d),null;case 17:return an(d.type)&&jn(),Di(d),null;case 19:if(vt(Rn),w=d.memoizedState,w===null)return Di(d),null;if(M=(d.flags&128)!==0,L=w.rendering,L===null)if(M)Jf(w,!1);else{if(oi!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(L=jp(u),L!==null){for(d.flags|=128,Jf(w,!1),u=L.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=y,M=d.child;M!==null;)y=M,w=u,y.flags&=14680066,L=y.alternate,L===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=L.childLanes,y.lanes=L.lanes,y.child=L.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=L.memoizedProps,y.memoizedState=L.memoizedState,y.updateQueue=L.updateQueue,y.type=L.type,w=L.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),M=M.sibling;return $e(Rn,Rn.current&1|2),d.child}u=u.sibling}w.tail!==null&&di()>Py&&(d.flags|=128,M=!0,Jf(w,!1),d.lanes=4194304)}else{if(!M)if(u=jp(L),u!==null){if(d.flags|=128,M=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),Jf(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!Cn)return Di(d),null}else 2*di()-w.renderingStartTime>Py&&y!==1073741824&&(d.flags|=128,M=!0,Jf(w,!1),d.lanes=4194304);w.isBackwards?(L.sibling=d.child,d.child=L):(u=w.last,u!==null?u.sibling=L:d.child=L,w.last=L)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=di(),d.sibling=null,u=Rn.current,$e(Rn,M?u&1|2:u&1),d):(Di(d),null);case 22:case 23:return Ny(),M=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(d.flags|=8192),M&&d.mode&1?_r&1073741824&&(Di(d),ht&&d.subtreeFlags&6&&(d.flags|=8192)):Di(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var zL=a.ReactCurrentOwner,xr=!1;function Ki(u,d,y,M){d.child=u===null?EM(d,null,y,M):Dc(d,u.child,y,M)}function $M(u,d,y,M,w){y=y.render;var L=d.ref;return Pc(d,w),M=ay(u,d,y,M,L,w),y=ly(),u!==null&&!xr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~w,mo(u,d,w)):(Cn&&y&&Qv(d),d.flags|=1,Ki(u,d,M,w),d.child)}function eC(u,d,y,M,w){if(u===null){var L=y.type;return typeof L=="function"&&!Oy(L)&&L.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=L,tC(u,d,L,M,w)):(u=Am(y.type,null,M,d,d.mode,w),u.ref=d.ref,u.return=d,d.child=u)}if(L=u.child,!(u.lanes&w)){var J=L.memoizedProps;if(y=y.compare,y=y!==null?y:Fp,y(J,M)&&u.ref===d.ref)return mo(u,d,w)}return d.flags|=1,u=ta(L,M),u.ref=d.ref,u.return=d,d.child=u}function tC(u,d,y,M,w){if(u!==null&&Fp(u.memoizedProps,M)&&u.ref===d.ref)if(xr=!1,(u.lanes&w)!==0)u.flags&131072&&(xr=!0);else return d.lanes=u.lanes,mo(u,d,w);return py(u,d,y,M,w)}function nC(u,d,y){var M=d.pendingProps,w=M.children,L=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},$e(kc,_r),_r|=y;else if(y&1073741824)d.memoizedState={baseLanes:0,cachePool:null},M=L!==null?L.baseLanes:y,$e(kc,_r),_r|=M;else return u=L!==null?L.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,$e(kc,_r),_r|=u,null;else L!==null?(M=L.baseLanes|y,d.memoizedState=null):M=y,$e(kc,_r),_r|=M;return Ki(u,d,w,y),d.child}function iC(u,d){var y=d.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function py(u,d,y,M,w){var L=an(y)?sn:rn.current;return L=Jt(d,L),Pc(d,w),y=ay(u,d,y,M,L,w),M=ly(),u!==null&&!xr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~w,mo(u,d,w)):(Cn&&M&&Qv(d),d.flags|=1,Ki(u,d,y,w),d.child)}function rC(u,d,y,M,w){if(an(y)){var L=!0;en(d)}else L=!1;if(Pc(d,w),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),yM(d,y,M),Zv(d,y,M,w),M=!0;else if(u===null){var J=d.stateNode,re=d.memoizedProps;J.props=re;var Me=J.context,ke=y.contextType;typeof ke=="object"&&ke!==null?ke=Or(ke):(ke=an(y)?sn:rn.current,ke=Jt(d,ke));var nt=y.getDerivedStateFromProps,bt=typeof nt=="function"||typeof J.getSnapshotBeforeUpdate=="function";bt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(re!==M||Me!==ke)&&xM(d,J,M,ke),Yo=!1;var gt=d.memoizedState;J.state=gt,Hp(d,M,J,w),Me=d.memoizedState,re!==M||gt!==Me||St.current||Yo?(typeof nt=="function"&&(Yv(d,y,nt,M),Me=d.memoizedState),(re=Yo||vM(d,y,re,M,gt,Me,ke))?(bt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(d.flags|=4194308)):(typeof J.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=Me),J.props=M,J.state=Me,J.context=ke,M=re):(typeof J.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{J=d.stateNode,hM(u,d),re=d.memoizedProps,ke=d.type===d.elementType?re:ds(d.type,re),J.props=ke,bt=d.pendingProps,gt=J.context,Me=y.contextType,typeof Me=="object"&&Me!==null?Me=Or(Me):(Me=an(y)?sn:rn.current,Me=Jt(d,Me));var dn=y.getDerivedStateFromProps;(nt=typeof dn=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(re!==bt||gt!==Me)&&xM(d,J,M,Me),Yo=!1,gt=d.memoizedState,J.state=gt,Hp(d,M,J,w);var ft=d.memoizedState;re!==bt||gt!==ft||St.current||Yo?(typeof dn=="function"&&(Yv(d,y,dn,M),ft=d.memoizedState),(ke=Yo||vM(d,y,ke,M,gt,ft,Me)||!1)?(nt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(M,ft,Me),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(M,ft,Me)),typeof J.componentDidUpdate=="function"&&(d.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof J.componentDidUpdate!="function"||re===u.memoizedProps&&gt===u.memoizedState||(d.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&gt===u.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=ft),J.props=M,J.state=ft,J.context=Me,M=ke):(typeof J.componentDidUpdate!="function"||re===u.memoizedProps&&gt===u.memoizedState||(d.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&gt===u.memoizedState||(d.flags|=1024),M=!1)}return my(u,d,y,M,L,w)}function my(u,d,y,M,w,L){iC(u,d);var J=(d.flags&128)!==0;if(!M&&!J)return w&&zt(d,y,!1),mo(u,d,L);M=d.stateNode,zL.current=d;var re=J&&typeof y.getDerivedStateFromError!="function"?null:M.render();return d.flags|=1,u!==null&&J?(d.child=Dc(d,u.child,null,L),d.child=Dc(d,null,re,L)):Ki(u,d,re,L),d.memoizedState=M.state,w&&zt(d,y,!0),d.child}function sC(u){var d=u.stateNode;d.pendingContext?Tt(u,d.pendingContext,d.pendingContext!==d.context):d.context&&Tt(u,d.context,!1),ny(u,d.containerInfo)}function oC(u,d,y,M,w){return Lc(),ty(w),d.flags|=256,Ki(u,d,y,M),d.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(u){return{baseLanes:u,cachePool:null}}function aC(u,d,y){var M=d.pendingProps,w=Rn.current,L=!1,J=(d.flags&128)!==0,re;if((re=J)||(re=u!==null&&u.memoizedState===null?!1:(w&2)!==0),re?(L=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(w|=1),$e(Rn,w&1),u===null)return ey(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?Ko(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(w=M.children,u=M.fallback,L?(M=d.mode,L=d.child,w={mode:"hidden",children:w},!(M&1)&&L!==null?(L.childLanes=0,L.pendingProps=w):L=Sm(w,M,0,null),u=ml(u,M,y,null),L.return=d,u.return=d,L.sibling=u,d.child=L,d.child.memoizedState=nm(y),d.memoizedState=tm,u):gy(d,w));if(w=u.memoizedState,w!==null){if(re=w.dehydrated,re!==null){if(J)return d.flags&256?(d.flags&=-257,im(u,d,y,Error(o(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(L=M.fallback,w=d.mode,M=Sm({mode:"visible",children:M.children},w,0,null),L=ml(L,w,y,null),L.flags|=2,M.return=d,L.return=d,M.sibling=L,d.child=M,d.mode&1&&Dc(d,u.child,null,y),d.child.memoizedState=nm(y),d.memoizedState=tm,L);if(!(d.mode&1))d=im(u,d,y,null);else if(Ko(re))d=im(u,d,y,Error(o(419)));else if(M=(y&u.childLanes)!==0,xr||M){if(M=ei,M!==null){switch(y&-y){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}M=L&(M.suspendedLanes|y)?0:L,M!==0&&M!==w.retryLane&&(w.retryLane=M,Gr(u,M,-1))}Fy(),d=im(u,d,y,Error(o(421)))}else Nr(re)?(d.flags|=128,d.child=u.child,d=eD.bind(null,u),Fr(re,d),d=null):(y=w.treeContext,ve&&(yr=Lf(re),vr=d,Cn=!0,hs=null,Ff=!1,y!==null&&(kr[Ur++]=fo,kr[Ur++]=ho,kr[Ur++]=al,fo=y.id,ho=y.overflow,al=d)),d=gy(d,d.pendingProps.children),d.flags|=4096);return d}return L?(M=cC(u,d,M.children,M.fallback,y),L=d.child,w=u.child.memoizedState,L.memoizedState=w===null?nm(y):{baseLanes:w.baseLanes|y,cachePool:null},L.childLanes=u.childLanes&~y,d.memoizedState=tm,M):(y=lC(u,d,M.children,y),d.memoizedState=null,y)}return L?(M=cC(u,d,M.children,M.fallback,y),L=d.child,w=u.child.memoizedState,L.memoizedState=w===null?nm(y):{baseLanes:w.baseLanes|y,cachePool:null},L.childLanes=u.childLanes&~y,d.memoizedState=tm,M):(y=lC(u,d,M.children,y),d.memoizedState=null,y)}function gy(u,d){return d=Sm({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function lC(u,d,y,M){var w=u.child;return u=w.sibling,y=ta(w,{mode:"visible",children:y}),!(d.mode&1)&&(y.lanes=M),y.return=d,y.sibling=null,u!==null&&(M=d.deletions,M===null?(d.deletions=[u],d.flags|=16):M.push(u)),d.child=y}function cC(u,d,y,M,w){var L=d.mode;u=u.child;var J=u.sibling,re={mode:"hidden",children:y};return!(L&1)&&d.child!==u?(y=d.child,y.childLanes=0,y.pendingProps=re,d.deletions=null):(y=ta(u,re),y.subtreeFlags=u.subtreeFlags&14680064),J!==null?M=ta(J,M):(M=ml(M,L,w,null),M.flags|=2),M.return=d,y.return=d,y.sibling=M,d.child=y,M}function im(u,d,y,M){return M!==null&&ty(M),Dc(d,u.child,null,y),u=gy(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function uC(u,d,y){u.lanes|=d;var M=u.alternate;M!==null&&(M.lanes|=d),Jv(u.return,d,y)}function vy(u,d,y,M,w){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:w}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=y,L.tailMode=w)}function fC(u,d,y){var M=d.pendingProps,w=M.revealOrder,L=M.tail;if(Ki(u,d,M.children,y),M=Rn.current,M&2)M=M&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&uC(u,y,d);else if(u.tag===19)uC(u,y,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if($e(Rn,M),!(d.mode&1))d.memoizedState=null;else switch(w){case"forwards":for(y=d.child,w=null;y!==null;)u=y.alternate,u!==null&&jp(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=d.child,d.child=null):(w=y.sibling,y.sibling=null),vy(d,!1,w,y,L);break;case"backwards":for(y=null,w=d.child,d.child=null;w!==null;){if(u=w.alternate,u!==null&&jp(u)===null){d.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}vy(d,!0,y,null,L);break;case"together":vy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function mo(u,d,y){if(u!==null&&(d.dependencies=u.dependencies),Uc|=d.lanes,!(y&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(o(153));if(d.child!==null){for(u=d.child,y=ta(u,u.pendingProps),d.child=y,y.return=d;u.sibling!==null;)u=u.sibling,y=y.sibling=ta(u,u.pendingProps),y.return=d;y.sibling=null}return d.child}function GL(u,d,y){switch(d.tag){case 3:sC(d),Lc();break;case 5:TM(d);break;case 1:an(d.type)&&en(d);break;case 4:ny(d,d.stateNode.containerInfo);break;case 10:dM(d,d.type._context,d.memoizedProps.value);break;case 13:var M=d.memoizedState;if(M!==null)return M.dehydrated!==null?($e(Rn,Rn.current&1),d.flags|=128,null):y&d.child.childLanes?aC(u,d,y):($e(Rn,Rn.current&1),u=mo(u,d,y),u!==null?u.sibling:null);$e(Rn,Rn.current&1);break;case 19:if(M=(y&d.childLanes)!==0,u.flags&128){if(M)return fC(u,d,y);d.flags|=128}var w=d.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),$e(Rn,Rn.current),M)break;return null;case 22:case 23:return d.lanes=0,nC(u,d,y)}return mo(u,d,y)}function VL(u,d){switch(qv(d),d.tag){case 1:return an(d.type)&&jn(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Fc(),vt(St),vt(rn),sy(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return iy(d),null;case 13:if(vt(Rn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Lc()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return vt(Rn),null;case 4:return Fc(),null;case 10:return Xv(d.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var rm=!1,ul=!1,WL=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function sm(u,d){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){cr(u,d,M)}else y.current=null}function yy(u,d,y){try{y()}catch(M){cr(u,d,M)}}var dC=!1;function jL(u,d){for(K(u.containerInfo),Ye=d;Ye!==null;)if(u=Ye,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,Ye=d;else for(;Ye!==null;){u=Ye;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,w=y.memoizedState,L=u.stateNode,J=L.getSnapshotBeforeUpdate(u.elementType===u.type?M:ds(u.type,M),w);L.__reactInternalSnapshotBeforeUpdate=J}break;case 3:ht&&Ve(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){cr(u,u.return,re)}if(d=u.sibling,d!==null){d.return=u.return,Ye=d;break}Ye=u.return}return y=dC,dC=!1,y}function fl(u,d,y){var M=d.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var w=M=M.next;do{if((w.tag&u)===u){var L=w.destroy;w.destroy=void 0,L!==void 0&&yy(d,y,L)}w=w.next}while(w!==M)}}function Kf(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&u)===u){var M=y.create;y.destroy=M()}y=y.next}while(y!==d)}}function xy(u){var d=u.ref;if(d!==null){var y=u.stateNode;switch(u.tag){case 5:u=ie(y);break;default:u=y}typeof d=="function"?d(u):d.current=u}}function hC(u,d,y){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Dp,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var w=M,L=w.destroy;w=w.tag,L!==void 0&&(w&2||w&4)&&yy(d,y,L),M=M.next}while(M!==u)}break;case 1:if(sm(d,y),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(J){cr(d,y,J)}break;case 5:sm(d,y);break;case 4:ht?xC(u,d,y):me&&me&&(d=d.stateNode.containerInfo,y=Xt(d),Dt(d,y))}}function pC(u,d,y){for(var M=d;;)if(hC(u,M,y),M.child===null||ht&&M.tag===4){if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function mC(u){var d=u.alternate;d!==null&&(u.alternate=null,mC(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Ze(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function gC(u){return u.tag===5||u.tag===3||u.tag===4}function vC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||gC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function yC(u){if(ht){e:{for(var d=u.return;d!==null;){if(gC(d))break e;d=d.return}throw Error(o(160))}var y=d;switch(y.tag){case 5:d=y.stateNode,y.flags&32&&(_e(d),y.flags&=-33),y=vC(u),Ay(u,y,d);break;case 3:case 4:d=y.stateNode.containerInfo,y=vC(u),_y(u,y,d);break;default:throw Error(o(161))}}}function _y(u,d,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?lt(y,u,d):Oe(y,u);else if(M!==4&&(u=u.child,u!==null))for(_y(u,d,y),u=u.sibling;u!==null;)_y(u,d,y),u=u.sibling}function Ay(u,d,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?Je(y,u,d):yt(y,u);else if(M!==4&&(u=u.child,u!==null))for(Ay(u,d,y),u=u.sibling;u!==null;)Ay(u,d,y),u=u.sibling}function xC(u,d,y){for(var M=d,w=!1,L,J;;){if(!w){w=M.return;e:for(;;){if(w===null)throw Error(o(160));switch(L=w.stateNode,w.tag){case 5:J=!1;break e;case 3:L=L.containerInfo,J=!0;break e;case 4:L=L.containerInfo,J=!0;break e}w=w.return}w=!0}if(M.tag===5||M.tag===6)pC(u,M,y),J?te(L,M.stateNode):Mt(L,M.stateNode);else if(M.tag===18)J?ce(L,M.stateNode):le(L,M.stateNode);else if(M.tag===4){if(M.child!==null){L=M.stateNode.containerInfo,J=!0,M.child.return=M,M=M.child;continue}}else if(hC(u,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return,M.tag===4&&(w=!1)}M.sibling.return=M.return,M=M.sibling}}function Sy(u,d){if(ht){switch(d.tag){case 0:case 11:case 14:case 15:fl(3,d,d.return),Kf(3,d),fl(5,d,d.return);return;case 1:return;case 5:var y=d.stateNode;if(y!=null){var M=d.memoizedProps;u=u!==null?u.memoizedProps:M;var w=d.type,L=d.updateQueue;d.updateQueue=null,L!==null&&pt(y,L,w,u,M,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));y=d.memoizedProps,rt(d.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:ve&&u!==null&&u.memoizedState.isDehydrated&&j(d.stateNode.containerInfo);return;case 12:return;case 13:om(d);return;case 19:om(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:fl(3,d,d.return),Kf(3,d),fl(5,d,d.return);return;case 12:return;case 13:om(d);return;case 19:om(d);return;case 3:ve&&u!==null&&u.memoizedState.isDehydrated&&j(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Dt(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function om(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new WL),d.forEach(function(M){var w=tD.bind(null,u,M);y.has(M)||(y.add(M),M.then(w,w))})}}function XL(u,d){for(Ye=d;Ye!==null;){d=Ye;var y=d.deletions;if(y!==null)for(var M=0;M<y.length;M++){var w=y[M];try{var L=u;ht?xC(L,w,d):pC(L,w,d);var J=w.alternate;J!==null&&(J.return=null),w.return=null}catch(ut){cr(w,d,ut)}}if(y=d.child,d.subtreeFlags&12854&&y!==null)y.return=d,Ye=y;else for(;Ye!==null;){d=Ye;try{var re=d.flags;if(re&32&&ht&&_e(d.stateNode),re&512){var Me=d.alternate;if(Me!==null){var ke=Me.ref;ke!==null&&(typeof ke=="function"?ke(null):ke.current=null)}}if(re&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var nt=d.alternate;(nt===null||nt.memoizedState===null)&&(Ry=di())}break;case 22:var bt=d.memoizedState!==null,gt=d.alternate,dn=gt!==null&&gt.memoizedState!==null;if(y=d,ht){e:if(M=y,w=bt,L=null,ht)for(var ft=M;;){if(ft.tag===5){if(L===null){L=ft;var Ni=ft.stateNode;w?Q(Ni):ee(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(L===null){var Wr=ft.stateNode;w?ye(Wr):Fe(Wr,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===M)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===M)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===M)break e;L===ft&&(L=null),ft=ft.return}L===ft&&(L=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(bt&&!dn&&y.mode&1){Ye=y;for(var de=y.child;de!==null;){for(y=Ye=de;Ye!==null;){M=Ye;var oe=M.child;switch(M.tag){case 0:case 11:case 14:case 15:fl(4,M,M.return);break;case 1:sm(M,M.return);var xe=M.stateNode;if(typeof xe.componentWillUnmount=="function"){var Qe=M.return;try{xe.props=M.memoizedProps,xe.state=M.memoizedState,xe.componentWillUnmount()}catch(ut){cr(M,Qe,ut)}}break;case 5:sm(M,M.return);break;case 22:if(M.memoizedState!==null){SC(y);continue}}oe!==null?(oe.return=M,Ye=oe):SC(y)}de=de.sibling}}}switch(re&4102){case 2:yC(d),d.flags&=-3;break;case 6:yC(d),d.flags&=-3,Sy(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Sy(d.alternate,d);break;case 4:Sy(d.alternate,d)}}catch(ut){cr(d,d.return,ut)}if(y=d.sibling,y!==null){y.return=d.return,Ye=y;break}Ye=d.return}}}function JL(u,d,y){Ye=u,_C(u)}function _C(u,d,y){for(var M=(u.mode&1)!==0;Ye!==null;){var w=Ye,L=w.child;if(w.tag===22&&M){var J=w.memoizedState!==null||rm;if(!J){var re=w.alternate,Me=re!==null&&re.memoizedState!==null||ul;re=rm;var ke=ul;if(rm=J,(ul=Me)&&!ke)for(Ye=w;Ye!==null;)J=Ye,Me=J.child,J.tag===22&&J.memoizedState!==null?MC(w):Me!==null?(Me.return=J,Ye=Me):MC(w);for(;L!==null;)Ye=L,_C(L),L=L.sibling;Ye=w,rm=re,ul=ke}AC(u)}else w.subtreeFlags&8772&&L!==null?(L.return=w,Ye=L):AC(u)}}function AC(u){for(;Ye!==null;){var d=Ye;if(d.flags&8772){var y=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:ul||Kf(5,d);break;case 1:var M=d.stateNode;if(d.flags&4&&!ul)if(y===null)M.componentDidMount();else{var w=d.elementType===d.type?y.memoizedProps:ds(d.type,y.memoizedProps);M.componentDidUpdate(w,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var L=d.updateQueue;L!==null&&mM(d,L,M);break;case 3:var J=d.updateQueue;if(J!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=ie(d.child.stateNode);break;case 1:y=d.child.stateNode}mM(d,J,y)}break;case 5:var re=d.stateNode;y===null&&d.flags&4&&wt(re,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&d.memoizedState===null){var Me=d.alternate;if(Me!==null){var ke=Me.memoizedState;if(ke!==null){var nt=ke.dehydrated;nt!==null&&X(nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ul||d.flags&512&&xy(d)}catch(bt){cr(d,d.return,bt)}}if(d===u){Ye=null;break}if(y=d.sibling,y!==null){y.return=d.return,Ye=y;break}Ye=d.return}}function SC(u){for(;Ye!==null;){var d=Ye;if(d===u){Ye=null;break}var y=d.sibling;if(y!==null){y.return=d.return,Ye=y;break}Ye=d.return}}function MC(u){for(;Ye!==null;){var d=Ye;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{Kf(4,d)}catch(Me){cr(d,y,Me)}break;case 1:var M=d.stateNode;if(typeof M.componentDidMount=="function"){var w=d.return;try{M.componentDidMount()}catch(Me){cr(d,w,Me)}}var L=d.return;try{xy(d)}catch(Me){cr(d,L,Me)}break;case 5:var J=d.return;try{xy(d)}catch(Me){cr(d,J,Me)}}}catch(Me){cr(d,d.return,Me)}if(d===u){Ye=null;break}var re=d.sibling;if(re!==null){re.return=d.return,Ye=re;break}Ye=d.return}}var am=0,lm=1,cm=2,um=3,fm=4;if(typeof Symbol=="function"&&Symbol.for){var Yf=Symbol.for;am=Yf("selector.component"),lm=Yf("selector.has_pseudo_class"),cm=Yf("selector.role"),um=Yf("selector.test_id"),fm=Yf("selector.text")}function My(u){var d=he(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(u=fe(u),u===null)throw Error(o(362));return u.stateNode.current}function Cy(u,d){switch(d.$$typeof){case am:if(u.type===d.value)return!0;break;case lm:e:{d=d.value,u=[u,0];for(var y=0;y<u.length;){var M=u[y++],w=u[y++],L=d[w];if(M.tag!==5||!Pe(M)){for(;L!=null&&Cy(M,L);)w++,L=d[w];if(w===d.length){d=!0;break e}else for(M=M.child;M!==null;)u.push(M,w),M=M.sibling}}d=!1}return d;case cm:if(u.tag===5&&it(u.stateNode,d.value))return!0;break;case fm:if((u.tag===5||u.tag===6)&&(u=Ie(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case um:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function wy(u){switch(u.$$typeof){case am:return"<"+(I(u.value)||"Unknown")+">";case lm:return":has("+(wy(u)||"")+")";case cm:return'[role="'+u.value+'"]';case fm:return'"'+u.value+'"';case um:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function CC(u,d){var y=[];u=[u,0];for(var M=0;M<u.length;){var w=u[M++],L=u[M++],J=d[L];if(w.tag!==5||!Pe(w)){for(;J!=null&&Cy(w,J);)L++,J=d[L];if(L===d.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,L),w=w.sibling}}return y}function Ey(u,d){if(!U)throw Error(o(363));u=My(u),u=CC(u,d),d=[],u=Array.from(u);for(var y=0;y<u.length;){var M=u[y++];if(M.tag===5)Pe(M)||d.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return d}var KL=Math.ceil,dm=a.ReactCurrentDispatcher,Ty=a.ReactCurrentOwner,Xn=a.ReactCurrentBatchConfig,Ot=0,ei=null,ti=null,Si=0,_r=0,kc=je(0),oi=0,Zf=null,Uc=0,hm=0,by=0,Qf=null,ar=null,Ry=0,Py=1/0;function Hc(){Py=di()+500}var pm=!1,Iy=null,Qo=null,mm=!1,qo=null,gm=0,qf=0,By=null,vm=-1,ym=0;function Yi(){return Ot&6?di():vm!==-1?vm:vm=di()}function $o(u){return u.mode&1?Ot&2&&Si!==0?Si&-Si:PL.transition!==null?(ym===0&&(u=Ip,Ip<<=1,!(Ip&4194240)&&(Ip=64),ym=u),ym):(u=Yt,u!==0?u:Le()):1}function Gr(u,d,y){if(50<qf)throw qf=0,By=null,Error(o(185));var M=xm(u,d);return M===null?null:(Nf(M,d,y),(!(Ot&2)||M!==ei)&&(M===ei&&(!(Ot&2)&&(hm|=d),oi===4&&ea(M,Si)),lr(M,y),d===1&&Ot===0&&!(u.mode&1)&&(Hc(),Np&&Fs())),M)}function xm(u,d){u.lanes|=d;var y=u.alternate;for(y!==null&&(y.lanes|=d),y=u,u=u.return;u!==null;)u.childLanes|=d,y=u.alternate,y!==null&&(y.childLanes|=d),y=u,u=u.return;return y.tag===3?y.stateNode:null}function lr(u,d){var y=u.callbackNode;AL(u,d);var M=Lp(u,u===ei?Si:0);if(M===0)y!==null&&uM(y),u.callbackNode=null,u.callbackPriority=0;else if(d=M&-M,u.callbackPriority!==d){if(y!=null&&uM(y),d===1)u.tag===0?RL(EC.bind(null,u)):fM(EC.bind(null,u)),at?Z(function(){Ot===0&&Fs()}):Hv(zv,Fs),y=null;else{switch(cM(M)){case 1:y=zv;break;case 4:y=wL;break;case 16:y=Gv;break;case 536870912:y=EL;break;default:y=Gv}y=NC(y,wC.bind(null,u))}u.callbackPriority=d,u.callbackNode=y}}function wC(u,d){if(vm=-1,ym=0,Ot&6)throw Error(o(327));var y=u.callbackNode;if(pl()&&u.callbackNode!==y)return null;var M=Lp(u,u===ei?Si:0);if(M===0)return null;if(M&30||M&u.expiredLanes||d)d=_m(u,M);else{d=M;var w=Ot;Ot|=2;var L=RC();(ei!==u||Si!==d)&&(Hc(),dl(u,d));do try{QL();break}catch(re){bC(u,re)}while(!0);jv(),dm.current=L,Ot=w,ti!==null?d=0:(ei=null,Si=0,d=oi)}if(d!==0){if(d===2&&(w=Ov(u),w!==0&&(M=w,d=Ly(u,w))),d===1)throw y=Zf,dl(u,0),ea(u,M),lr(u,di()),y;if(d===6)ea(u,M);else{if(w=u.current.alternate,!(M&30)&&!YL(w)&&(d=_m(u,M),d===2&&(L=Ov(u),L!==0&&(M=L,d=Ly(u,L))),d===1))throw y=Zf,dl(u,0),ea(u,M),lr(u,di()),y;switch(u.finishedWork=w,u.finishedLanes=M,d){case 0:case 1:throw Error(o(345));case 2:hl(u,ar);break;case 3:if(ea(u,M),(M&130023424)===M&&(d=Ry+500-di(),10<d)){if(Lp(u,0)!==0)break;if(w=u.suspendedLanes,(w&M)!==M){Yi(),u.pingedLanes|=u.suspendedLanes&w;break}u.timeoutHandle=be(hl.bind(null,u,ar),d);break}hl(u,ar);break;case 4:if(ea(u,M),(M&4194240)===M)break;for(d=u.eventTimes,w=-1;0<M;){var J=31-Mn(M);L=1<<J,J=d[J],J>w&&(w=J),M&=~L}if(M=w,M=di()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*KL(M/1960))-M,10<M){u.timeoutHandle=be(hl.bind(null,u,ar),M);break}hl(u,ar);break;case 5:hl(u,ar);break;default:throw Error(o(329))}}}return lr(u,di()),u.callbackNode===y?wC.bind(null,u):null}function Ly(u,d){var y=Qf;return u.current.memoizedState.isDehydrated&&(dl(u,d).flags|=256),u=_m(u,d),u!==2&&(d=ar,ar=y,d!==null&&Dy(d)),u}function Dy(u){ar===null?ar=u:ar.push.apply(ar,u)}function YL(u){for(var d=u;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var w=y[M],L=w.getSnapshot;w=w.value;try{if(!Ns(L(),w))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ea(u,d){for(d&=~by,d&=~hm,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var y=31-Mn(d),M=1<<y;u[y]=-1,d&=~M}}function EC(u){if(Ot&6)throw Error(o(327));pl();var d=Lp(u,0);if(!(d&1))return lr(u,di()),null;var y=_m(u,d);if(u.tag!==0&&y===2){var M=Ov(u);M!==0&&(d=M,y=Ly(u,M))}if(y===1)throw y=Zf,dl(u,0),ea(u,d),lr(u,di()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,hl(u,ar),lr(u,di()),null}function TC(u){qo!==null&&qo.tag===0&&!(Ot&6)&&pl();var d=Ot;Ot|=1;var y=Xn.transition,M=Yt;try{if(Xn.transition=null,Yt=1,u)return u()}finally{Yt=M,Xn.transition=y,Ot=d,!(Ot&6)&&Fs()}}function Ny(){_r=kc.current,vt(kc)}function dl(u,d){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==_t&&(u.timeoutHandle=_t,ot(y)),ti!==null)for(y=ti.return;y!==null;){var M=y;switch(qv(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&jn();break;case 3:Fc(),vt(St),vt(rn),sy();break;case 5:iy(M);break;case 4:Fc();break;case 13:vt(Rn);break;case 19:vt(Rn);break;case 10:Xv(M.type._context);break;case 22:case 23:Ny()}y=y.return}if(ei=u,ti=u=ta(u.current,null),Si=_r=d,oi=0,Zf=null,by=hm=Uc=0,ar=Qf=null,Os!==null){for(d=0;d<Os.length;d++)if(y=Os[d],M=y.interleaved,M!==null){y.interleaved=null;var w=M.next,L=y.pending;if(L!==null){var J=L.next;L.next=w,M.next=J}y.pending=M}Os=null}return u}function bC(u,d){do{var y=ti;try{if(jv(),Xp.current=qp,Jp){for(var M=Un.memoizedState;M!==null;){var w=M.queue;w!==null&&(w.pending=null),M=M.next}Jp=!1}if(Oc=0,hi=Bi=Un=null,zf=!1,Gf=0,Ty.current=null,y===null||y.return===null){oi=1,Zf=d,ti=null;break}e:{var L=u,J=y.return,re=y,Me=d;if(d=Si,re.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var ke=Me,nt=re,bt=nt.tag;if(!(nt.mode&1)&&(bt===0||bt===11||bt===15)){var gt=nt.alternate;gt?(nt.updateQueue=gt.updateQueue,nt.memoizedState=gt.memoizedState,nt.lanes=gt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var dn=YM(J);if(dn!==null){dn.flags&=-257,ZM(dn,J,re,L,d),dn.mode&1&&KM(L,ke,d),d=dn,Me=ke;var ft=d.updateQueue;if(ft===null){var Ni=new Set;Ni.add(Me),d.updateQueue=Ni}else ft.add(Me);break e}else{if(!(d&1)){KM(L,ke,d),Fy();break e}Me=Error(o(426))}}else if(Cn&&re.mode&1){var Wr=YM(J);if(Wr!==null){!(Wr.flags&65536)&&(Wr.flags|=256),ZM(Wr,J,re,L,d),ty(Me);break e}}L=Me,oi!==4&&(oi=2),Qf===null?Qf=[L]:Qf.push(L),Me=dy(Me,re),re=J;do{switch(re.tag){case 3:re.flags|=65536,d&=-d,re.lanes|=d;var de=XM(re,Me,d);pM(re,de);break e;case 1:L=Me;var oe=re.type,xe=re.stateNode;if(!(re.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Qo===null||!Qo.has(xe)))){re.flags|=65536,d&=-d,re.lanes|=d;var Qe=JM(re,L,d);pM(re,Qe);break e}}re=re.return}while(re!==null)}IC(y)}catch(ut){d=ut,ti===y&&y!==null&&(ti=y=y.return);continue}break}while(!0)}function RC(){var u=dm.current;return dm.current=qp,u===null?qp:u}function Fy(){(oi===0||oi===3||oi===2)&&(oi=4),ei===null||!(Uc&268435455)&&!(hm&268435455)||ea(ei,Si)}function _m(u,d){var y=Ot;Ot|=2;var M=RC();ei===u&&Si===d||dl(u,d);do try{ZL();break}catch(w){bC(u,w)}while(!0);if(jv(),Ot=y,dm.current=M,ti!==null)throw Error(o(261));return ei=null,Si=0,oi}function ZL(){for(;ti!==null;)PC(ti)}function QL(){for(;ti!==null&&!ML();)PC(ti)}function PC(u){var d=DC(u.alternate,u,_r);u.memoizedProps=u.pendingProps,d===null?IC(u):ti=d,Ty.current=null}function IC(u){var d=u;do{var y=d.alternate;if(u=d.return,d.flags&32768){if(y=VL(y,d),y!==null){y.flags&=32767,ti=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{oi=6,ti=null;return}}else if(y=HL(y,d,_r),y!==null){ti=y;return}if(d=d.sibling,d!==null){ti=d;return}ti=d=u}while(d!==null);oi===0&&(oi=5)}function hl(u,d){var y=Yt,M=Xn.transition;try{Xn.transition=null,Yt=1,qL(u,d,y)}finally{Xn.transition=M,Yt=y}return null}function qL(u,d,y){do pl();while(qo!==null);if(Ot&6)throw Error(o(327));var M=u.finishedWork,w=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var L=M.lanes|M.childLanes;if(SL(u,L),u===ei&&(ti=ei=null,Si=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||mm||(mm=!0,NC(Gv,function(){return pl(),null})),L=(M.flags&15990)!==0,M.subtreeFlags&15990||L){L=Xn.transition,Xn.transition=null;var J=Yt;Yt=1;var re=Ot;Ot|=4,Ty.current=null,jL(u,M),XL(u,M),V(u.containerInfo),u.current=M,JL(M),CL(),Ot=re,Yt=J,Xn.transition=L}else u.current=M;if(mm&&(mm=!1,qo=u,gm=w),L=u.pendingLanes,L===0&&(Qo=null),TL(M.stateNode),lr(u,di()),d!==null)for(y=u.onRecoverableError,M=0;M<d.length;M++)y(d[M]);if(pm)throw pm=!1,u=Iy,Iy=null,u;return gm&1&&u.tag!==0&&pl(),L=u.pendingLanes,L&1?u===By?qf++:(qf=0,By=u):qf=0,Fs(),null}function pl(){if(qo!==null){var u=cM(gm),d=Xn.transition,y=Yt;try{if(Xn.transition=null,Yt=16>u?16:u,qo===null)var M=!1;else{if(u=qo,qo=null,gm=0,Ot&6)throw Error(o(331));var w=Ot;for(Ot|=4,Ye=u.current;Ye!==null;){var L=Ye,J=L.child;if(Ye.flags&16){var re=L.deletions;if(re!==null){for(var Me=0;Me<re.length;Me++){var ke=re[Me];for(Ye=ke;Ye!==null;){var nt=Ye;switch(nt.tag){case 0:case 11:case 15:fl(8,nt,L)}var bt=nt.child;if(bt!==null)bt.return=nt,Ye=bt;else for(;Ye!==null;){nt=Ye;var gt=nt.sibling,dn=nt.return;if(mC(nt),nt===ke){Ye=null;break}if(gt!==null){gt.return=dn,Ye=gt;break}Ye=dn}}}var ft=L.alternate;if(ft!==null){var Ni=ft.child;if(Ni!==null){ft.child=null;do{var Wr=Ni.sibling;Ni.sibling=null,Ni=Wr}while(Ni!==null)}}Ye=L}}if(L.subtreeFlags&2064&&J!==null)J.return=L,Ye=J;else e:for(;Ye!==null;){if(L=Ye,L.flags&2048)switch(L.tag){case 0:case 11:case 15:fl(9,L,L.return)}var de=L.sibling;if(de!==null){de.return=L.return,Ye=de;break e}Ye=L.return}}var oe=u.current;for(Ye=oe;Ye!==null;){J=Ye;var xe=J.child;if(J.subtreeFlags&2064&&xe!==null)xe.return=J,Ye=xe;else e:for(J=oe;Ye!==null;){if(re=Ye,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Kf(9,re)}}catch(ut){cr(re,re.return,ut)}if(re===J){Ye=null;break e}var Qe=re.sibling;if(Qe!==null){Qe.return=re.return,Ye=Qe;break e}Ye=re.return}}if(Ot=w,Fs(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Dp,u)}catch{}M=!0}return M}finally{Yt=y,Xn.transition=d}}return!1}function BC(u,d,y){d=dy(y,d),d=XM(u,d,1),Zo(u,d),d=Yi(),u=xm(u,1),u!==null&&(Nf(u,1,d),lr(u,d))}function cr(u,d,y){if(u.tag===3)BC(u,u,y);else for(;d!==null;){if(d.tag===3){BC(d,u,y);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Qo===null||!Qo.has(M))){u=dy(y,u),u=JM(d,u,1),Zo(d,u),u=Yi(),d=xm(d,1),d!==null&&(Nf(d,1,u),lr(d,u));break}}d=d.return}}function $L(u,d,y){var M=u.pingCache;M!==null&&M.delete(d),d=Yi(),u.pingedLanes|=u.suspendedLanes&y,ei===u&&(Si&y)===y&&(oi===4||oi===3&&(Si&130023424)===Si&&500>di()-Ry?dl(u,0):by|=y),lr(u,d)}function LC(u,d){d===0&&(u.mode&1?(d=Bp,Bp<<=1,!(Bp&130023424)&&(Bp=4194304)):d=1);var y=Yi();u=xm(u,d),u!==null&&(Nf(u,d,y),lr(u,y))}function eD(u){var d=u.memoizedState,y=0;d!==null&&(y=d.retryLane),LC(u,y)}function tD(u,d){var y=0;switch(u.tag){case 13:var M=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(d),LC(u,y)}var DC;DC=function(u,d,y){if(u!==null)if(u.memoizedProps!==d.pendingProps||St.current)xr=!0;else{if(!(u.lanes&y)&&!(d.flags&128))return xr=!1,GL(u,d,y);xr=!!(u.flags&131072)}else xr=!1,Cn&&d.flags&1048576&&_M(d,Vp,d.index);switch(d.lanes=0,d.tag){case 2:var M=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var w=Jt(d,rn.current);Pc(d,y),w=ay(null,d,M,u,w,y);var L=ly();return d.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,an(M)?(L=!0,en(d)):L=!1,d.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Kv(d),w.updater=zp,d.stateNode=w,w._reactInternals=d,Zv(d,M,u,y),d=my(null,d,M,!0,L,y)):(d.tag=0,Cn&&L&&Qv(d),Ki(null,d,w,y),d=d.child),d;case 16:M=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,w=M._init,M=w(M._payload),d.type=M,w=d.tag=iD(M),u=ds(M,u),w){case 0:d=py(null,d,M,u,y);break e;case 1:d=rC(null,d,M,u,y);break e;case 11:d=$M(null,d,M,u,y);break e;case 14:d=eC(null,d,M,ds(M.type,u),y);break e}throw Error(o(306,M,""))}return d;case 0:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:ds(M,w),py(u,d,M,w,y);case 1:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:ds(M,w),rC(u,d,M,w,y);case 3:e:{if(sC(d),u===null)throw Error(o(387));M=d.pendingProps,L=d.memoizedState,w=L.element,hM(u,d),Hp(d,M,null,y);var J=d.memoizedState;if(M=J.element,ve&&L.isDehydrated)if(L={element:M,isDehydrated:!1,cache:J.cache,transitions:J.transitions},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){w=Error(o(423)),d=oC(u,d,M,y,w);break e}else if(M!==w){w=Error(o(424)),d=oC(u,d,M,y,w);break e}else for(ve&&(yr=bc(d.stateNode.containerInfo),vr=d,Cn=!0,hs=null,Ff=!1),y=EM(d,null,M,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Lc(),M===w){d=mo(u,d,y);break e}Ki(u,d,M,y)}d=d.child}return d;case 5:return TM(d),u===null&&ey(d),M=d.type,w=d.pendingProps,L=u!==null?u.memoizedProps:null,J=w.children,we(M,w)?J=null:L!==null&&we(M,L)&&(d.flags|=32),iC(u,d),Ki(u,d,J,y),d.child;case 6:return u===null&&ey(d),null;case 13:return aC(u,d,y);case 4:return ny(d,d.stateNode.containerInfo),M=d.pendingProps,u===null?d.child=Dc(d,null,M,y):Ki(u,d,M,y),d.child;case 11:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:ds(M,w),$M(u,d,M,w,y);case 7:return Ki(u,d,d.pendingProps,y),d.child;case 8:return Ki(u,d,d.pendingProps.children,y),d.child;case 12:return Ki(u,d,d.pendingProps.children,y),d.child;case 10:e:{if(M=d.type._context,w=d.pendingProps,L=d.memoizedProps,J=w.value,dM(d,M,J),L!==null)if(Ns(L.value,J)){if(L.children===w.children&&!St.current){d=mo(u,d,y);break e}}else for(L=d.child,L!==null&&(L.return=d);L!==null;){var re=L.dependencies;if(re!==null){J=L.child;for(var Me=re.firstContext;Me!==null;){if(Me.context===M){if(L.tag===1){Me=uo(-1,y&-y),Me.tag=2;var ke=L.updateQueue;if(ke!==null){ke=ke.shared;var nt=ke.pending;nt===null?Me.next=Me:(Me.next=nt.next,nt.next=Me),ke.pending=Me}}L.lanes|=y,Me=L.alternate,Me!==null&&(Me.lanes|=y),Jv(L.return,y,d),re.lanes|=y;break}Me=Me.next}}else if(L.tag===10)J=L.type===d.type?null:L.child;else if(L.tag===18){if(J=L.return,J===null)throw Error(o(341));J.lanes|=y,re=J.alternate,re!==null&&(re.lanes|=y),Jv(J,y,d),J=L.sibling}else J=L.child;if(J!==null)J.return=L;else for(J=L;J!==null;){if(J===d){J=null;break}if(L=J.sibling,L!==null){L.return=J.return,J=L;break}J=J.return}L=J}Ki(u,d,w.children,y),d=d.child}return d;case 9:return w=d.type,M=d.pendingProps.children,Pc(d,y),w=Or(w),M=M(w),d.flags|=1,Ki(u,d,M,y),d.child;case 14:return M=d.type,w=ds(M,d.pendingProps),w=ds(M.type,w),eC(u,d,M,w,y);case 15:return tC(u,d,d.type,d.pendingProps,y);case 17:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:ds(M,w),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,an(M)?(u=!0,en(d)):u=!1,Pc(d,y),yM(d,M,w),Zv(d,M,w,y),my(null,d,M,!0,u,y);case 19:return fC(u,d,y);case 22:return nC(u,d,y)}throw Error(o(156,d.tag))};function NC(u,d){return Hv(u,d)}function nD(u,d,y,M){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(u,d,y,M){return new nD(u,d,y,M)}function Oy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function iD(u){if(typeof u=="function")return Oy(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===A)return 14}return 2}function ta(u,d){var y=u.alternate;return y===null?(y=Vr(u.tag,d,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=d,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,d=u.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Am(u,d,y,M,w,L){var J=2;if(M=u,typeof u=="function")Oy(u)&&(J=1);else if(typeof u=="string")J=5;else e:switch(u){case f:return ml(y.children,w,L,d);case h:J=8,w|=8;break;case p:return u=Vr(12,y,d,w|2),u.elementType=p,u.lanes=L,u;case x:return u=Vr(13,y,d,w),u.elementType=x,u.lanes=L,u;case g:return u=Vr(19,y,d,w),u.elementType=g,u.lanes=L,u;case C:return Sm(y,w,L,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:J=10;break e;case v:J=9;break e;case _:J=11;break e;case A:J=14;break e;case S:J=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return d=Vr(J,y,d,w),d.elementType=u,d.type=M,d.lanes=L,d}function ml(u,d,y,M){return u=Vr(7,u,M,d),u.lanes=y,u}function Sm(u,d,y,M){return u=Vr(22,u,M,d),u.elementType=C,u.lanes=y,u.stateNode={},u}function ky(u,d,y){return u=Vr(6,u,null,d),u.lanes=y,u}function Uy(u,d,y){return d=Vr(4,u.children!==null?u.children:[],u.key,d),d.lanes=y,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function rD(u,d,y,M,w){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_t,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kv(0),this.expirationTimes=kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kv(0),this.identifierPrefix=M,this.onRecoverableError=w,ve&&(this.mutableSourceEagerHydrationData=null)}function FC(u,d,y,M,w,L,J,re,Me){return u=new rD(u,d,y,re,Me),d===1?(d=1,L===!0&&(d|=8)):d=0,L=Vr(3,null,null,d),u.current=L,L.stateNode=u,L.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},Kv(L),u}function OC(u){if(!u)return Et;u=u._reactInternals;e:{if(R(u)!==u||u.tag!==1)throw Error(o(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(an(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(an(y))return bn(u,y,d)}return d}function kC(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=Y(d),u===null?null:u.stateNode}function UC(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<d?y:d}}function Hy(u,d){UC(u,d),(u=u.alternate)&&UC(u,d)}function sD(u){return u=Y(u),u===null?null:u.stateNode}function oD(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var d=Yi();Gr(u,134217728,d),Hy(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Yi(),y=$o(u);Gr(u,y,d),Hy(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var y=Df(d.pendingLanes);y!==0&&(Uv(d,y|1),lr(d,di()),!(Ot&6)&&(Hc(),Fs()))}break;case 13:var M=Yi();TC(function(){return Gr(u,1,M)}),Hy(u,1)}},t.batchedUpdates=function(u,d){var y=Ot;Ot|=1;try{return u(d)}finally{Ot=y,Ot===0&&(Hc(),Np&&Fs())}},t.createComponentSelector=function(u){return{$$typeof:am,value:u}},t.createContainer=function(u,d,y,M,w,L,J){return FC(u,d,!1,null,y,M,w,L,J)},t.createHasPseudoClassSelector=function(u){return{$$typeof:lm,value:u}},t.createHydrationContainer=function(u,d,y,M,w,L,J,re,Me){return u=FC(y,M,!0,u,w,L,J,re,Me),u.context=OC(null),y=u.current,M=Yi(),w=$o(y),L=uo(M,w),L.callback=d??null,Zo(y,L),u.current.lanes=w,Nf(u,w,M),lr(u,M),u},t.createPortal=function(u,d,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:d,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:cm,value:u}},t.createTestNameSelector=function(u){return{$$typeof:um,value:u}},t.createTextSelector=function(u){return{$$typeof:fm,value:u}},t.deferredUpdates=function(u){var d=Yt,y=Xn.transition;try{return Xn.transition=null,Yt=16,u()}finally{Yt=d,Xn.transition=y}},t.discreteUpdates=function(u,d,y,M,w){var L=Yt,J=Xn.transition;try{return Xn.transition=null,Yt=1,u(d,y,M,w)}finally{Yt=L,Xn.transition=J,Ot===0&&Hc()}},t.findAllNodes=Ey,t.findBoundingRects=function(u,d){if(!U)throw Error(o(363));d=Ey(u,d),u=[];for(var y=0;y<d.length;y++)u.push(Re(d[y]));for(d=u.length-1;0<d;d--){y=u[d];for(var M=y.x,w=M+y.width,L=y.y,J=L+y.height,re=d-1;0<=re;re--)if(d!==re){var Me=u[re],ke=Me.x,nt=ke+Me.width,bt=Me.y,gt=bt+Me.height;if(M>=ke&&L>=bt&&w<=nt&&J<=gt){u.splice(d,1);break}else if(M!==ke||y.width!==Me.width||gt<L||bt>J){if(!(L!==bt||y.height!==Me.height||nt<M||ke>w)){ke>M&&(Me.width+=ke-M,Me.x=M),nt<w&&(Me.width=w-ke),u.splice(d,1);break}}else{bt>L&&(Me.height+=bt-L,Me.y=L),gt<J&&(Me.height=J-bt),u.splice(d,1);break}}}return u},t.findHostInstance=kC,t.findHostInstanceWithNoPortals=function(u){return u=k(u),u=u!==null?q(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return kC(u)},t.flushControlled=function(u){var d=Ot;Ot|=1;var y=Xn.transition,M=Yt;try{Xn.transition=null,Yt=1,u()}finally{Yt=M,Xn.transition=y,Ot=d,Ot===0&&(Hc(),Fs())}},t.flushPassiveEffects=pl,t.flushSync=TC,t.focusWithin=function(u,d){if(!U)throw Error(o(363));for(u=My(u),d=CC(u,d),d=Array.from(d),u=0;u<d.length;){var y=d[u++];if(!Pe(y)){if(y.tag===5&&Ge(y.stateNode))return!0;for(y=y.child;y!==null;)d.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Yt},t.getFindAllNodesFailureDescription=function(u,d){if(!U)throw Error(o(363));var y=0,M=[];u=[My(u),0];for(var w=0;w<u.length;){var L=u[w++],J=u[w++],re=d[J];if((L.tag!==5||!Pe(L))&&(Cy(L,re)&&(M.push(wy(re)),J++,J>y&&(y=J)),J<d.length))for(L=L.child;L!==null;)u.push(L,J),L=L.sibling}if(y<d.length){for(u=[];y<d.length;y++)u.push(wy(d[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ie(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:sD,findFiberByHostInstance:u.findFiberByHostInstance||oD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{Dp=d.inject(u),Ds=d}catch{}u=!!d.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,d,y,M){if(!U)throw Error(o(363));u=Ey(u,d);var w=Ue(u,y,M).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(u,d){var y=d._getVersion;y=y(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,y]:u.mutableSourceEagerHydrationData.push(d,y)},t.runWithPriority=function(u,d){var y=Yt;try{return Yt=u,d()}finally{Yt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,d,y,M){var w=d.current,L=Yi(),J=$o(w);return y=OC(y),d.context===null?d.context=y:d.pendingContext=y,d=uo(L,J),d.payload={element:u},M=M===void 0?null:M,M!==null&&(d.callback=M),Zo(w,d),u=Gr(w,J,L),u!==null&&Up(u,w,J),J},t};bI.exports=jZ;var XZ=bI.exports;const JZ=uA(XZ);var RI={exports:{}},PI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,K){var V=F.length;F.push(K);e:for(;0<V;){var ne=V-1>>>1,ue=F[ne];if(0<r(ue,K))F[ne]=K,F[V]=ue,V=ne;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],V=F.pop();if(V!==K){F[0]=V;e:for(var ne=0,ue=F.length,Be=ue>>>1;ne<Be;){var se=2*(ne+1)-1,we=F[se],Se=se+1,be=F[Se];if(0>r(we,V))Se<ue&&0>r(be,we)?(F[ne]=be,F[Se]=V,ne=Se):(F[ne]=we,F[se]=V,ne=se);else if(Se<ue&&0>r(be,V))F[ne]=be,F[Se]=V,ne=Se;else break e}}return K}function r(F,K){var V=F.sortIndex-K.sortIndex;return V!==0?V:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=F)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function C(F){if(_=!1,S(F),!v)if(t(l)!==null)v=!0,ie(P);else{var K=t(c);K!==null&&pe(C,K.startTime-F)}}function P(F,K){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var V=p;try{for(S(K),h=t(l);h!==null&&(!(h.expirationTime>K)||F&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ue=ne(h.expirationTime<=K);K=n.unstable_now(),typeof ue=="function"?h.callback=ue:h===t(l)&&i(l),S(K)}else i(l);h=t(l)}if(h!==null)var Be=!0;else{var se=t(c);se!==null&&pe(C,se.startTime-K),Be=!1}return Be}finally{h=null,p=V,m=!1}}var E=!1,I=null,B=-1,R=5,b=-1;function k(){return!(n.unstable_now()-b<R)}function Y(){if(I!==null){var F=n.unstable_now();b=F;var K=!0;try{K=I(!0,F)}finally{K?G():(E=!1,I=null)}}else E=!1}var G;if(typeof A=="function")G=function(){A(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=Y,G=function(){$.postMessage(null)}}else G=function(){x(Y,0)};function ie(F){I=F,E||(E=!0,G())}function pe(F,K){B=x(function(){F(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(P))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var V=p;p=K;try{return F()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=p;p=F;try{return K()}finally{p=V}},n.unstable_scheduleCallback=function(F,K,V){var ne=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=V+ue,F={id:f++,callback:K,priorityLevel:F,startTime:V,expirationTime:ue,sortIndex:-1},V>ne?(F.sortIndex=V,e(c,F),t(l)===null&&F===t(c)&&(_?(g(B),B=-1):_=!0,pe(C,V-ne))):(F.sortIndex=ue,e(l,F),v||m||(v=!0,ie(P))),F},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(F){var K=p;return function(){var V=p;p=K;try{return F.apply(this,arguments)}finally{p=V}}}})(PI);RI.exports=PI;var sb=RI.exports;const KZ=n=>typeof n=="object"&&typeof n.then=="function",Ql=[];function II(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function BI(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Ql)if(II(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Ql.indexOf(r);s!==-1&&Ql.splice(s,1)},promise:(KZ(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Ql.push(r),!t)throw r.promise}const YZ=(n,e,t)=>BI(n,e,!1,t),ZZ=(n,e,t)=>void BI(n,e,!0,t),QZ=n=>{if(n===void 0||n.length===0)Ql.splice(0,Ql.length);else{const e=Ql.find(t=>II(n,t.keys,t.equal));e&&e.remove()}},F4={},O4=n=>void Object.assign(F4,n);function qZ(n,e){function t(f,{args:h=[],attach:p,...m},v){let _=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=mu(g,{type:f,root:v,attach:p,primitive:!0})}else{const g=F4[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=mu(new g(...h),{type:f,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof Pt?x.__r3f.attach="geometry":x instanceof si&&(x.__r3f.attach="material")),_!=="inject"&&_x(x,m),x}function i(f,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?xx(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||mu(h,{}),h.__r3f.parent=f,V3(h),gu(h)}}function r(f,h,p){let m=!1;if(h){var v,_;if((v=h.__r3f)!=null&&v.attach)xx(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const x=f.children.filter(A=>A!==h),g=x.indexOf(p);f.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(_=f.__r3f)==null||_.objects.push(h),h.__r3f||mu(h,{}),h.__r3f.parent=f,V3(h),gu(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,v,_;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(C=>C!==h)),(v=h.__r3f)!=null&&v.attach)ub(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var x;f.remove(h),(x=h.__r3f)!=null&&x.root&&oQ(wg(h),h)}const A=(_=h.__r3f)==null?void 0:_.primitive,S=!A&&(p===void 0?h.dispose!==null:p);if(!A){var g;s((g=h.__r3f)==null?void 0:g.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const C=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?sb.unstable_scheduleCallback(sb.unstable_IdlePriority,C):C()}gu(f)}}function a(f,h,p,m){var v;const _=(v=f.__r3f)==null?void 0:v.parent;if(!_)return;const x=t(h,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&i(x,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>i(x,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(_,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&wg(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:JZ({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:x=[],children:g,...A}=m,{args:S=[],children:C,...P}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,B)=>I!==S[B]))return[!0];const E=UI(f,A,P,!0);return E.changes.length?[!1,E]:null}},commitUpdate(f,[h,p],m,v,_,x){h?a(f,m,_,x):_x(f,p)},commitMount(f,h,p,m){var v;const _=(v=f.__r3f)!=null?v:{};f.raycast&&_.handlers&&_.eventCount&&wg(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>mu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&ub(m,f,p),f.isObject3D&&(f.visible=!1),gu(f)},unhideInstance(f,h){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&xx(v,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),gu(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ou.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yn.fun(performance.now)?performance.now:yn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:_x}}var ob,ab;const yx=n=>"colorSpace"in n||"outputColorSpace"in n,LI=()=>{var n;return(n=F4.ColorManagement)!=null?n:null},DI=n=>n&&n.isOrthographicCamera,$Z=n=>n&&n.hasOwnProperty("current"),Ap=typeof window<"u"&&((ob=window.document)!=null&&ob.createElement||((ab=window.navigator)==null?void 0:ab.product)==="ReactNative")?O.useLayoutEffect:O.useEffect;function NI(n){const e=O.useRef(n);return Ap(()=>void(e.current=n),[n]),e}function eQ({set:n}){return Ap(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class FI extends O.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}FI.getDerivedStateFromError=()=>({error:!0});const OI="__default",lb=new Map,tQ=n=>n&&!!n.memoized&&!!n.changes;function kI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const _d=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function wg(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yn={obj:n=>n===Object(n)&&!yn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yn.str(n)||yn.num(n))return n===e;const s=yn.obj(n);if(s&&i==="reference")return n===e;const o=yn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!yn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(yn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function nQ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function iQ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function mu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function G3(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const cb=/-\d+$/;function xx(n,e,t){if(yn.str(t)){if(cb.test(t)){const s=t.replace(cb,""),{target:o,key:a}=G3(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=G3(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function ub(n,e,t){var i,r;if(yn.str(t)){const{target:s,key:o}=G3(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function UI(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const f=n.__r3f,h=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||h.unshift([v[_],OI+"remove"])}h.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||yn.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,_,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,_,!1,g]);for(const A in r){const S=r[A];A.startsWith(`${v}-`)&&p.push([A,S,!1,A.split("-")])}});const m={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}const rQ=typeof process<"u"&&!1;function _x(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=tQ(e)?e:UI(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[h,p,m,v]=a[f];if(yx(n)){const A="srgb",S="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?A:S):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?A:S)}let _=n,x=_[h];if(v.length&&(x=v.reduce((g,A)=>g[A],n),!(x&&x.set))){const[g,...A]=v.reverse();_=A.reverse().reduce((S,C)=>S[C],n),h=g}if(p===OI+"remove")if(_.constructor){let g=lb.get(_.constructor);g||(g=new _.constructor,lb.set(_.constructor,g)),p=g[h]}else p=0;if(m&&i)p?i.handlers[h]=p:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof rc)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&(rQ?x.constructor.name===p.constructor.name:x.constructor===p.constructor))x.copy(p);else if(p!==void 0){const g=x instanceof We;!g&&x.setScalar?x.setScalar(p):x instanceof rc&&p instanceof rc?x.mask=p.mask:x.set(p),!LI()&&s&&!s.linear&&g&&x.convertSRGBToLinear()}}else if(_[h]=p,_[h]instanceof $t&&_[h].format===ci&&_[h].type===Br&&s){const g=_[h];yx(g)&&yx(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}gu(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const f=wg(n).getState().internal,h=f.interaction.indexOf(n);h>-1&&f.interaction.splice(h,1),i.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&V3(n),n}function gu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function V3(n){n.onUpdate==null||n.onUpdate(n)}function HI(n,e){n.manual||(DI(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function z0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sQ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ou.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ou.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ou.ContinuousEventPriority;default:return Ou.DefaultEventPriority}}function zI(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function oQ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{zI(t.capturedMap,e,i,r)})}function aQ(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function i(l,c){const f=n.getState(),h=new Set,p=[],m=c?c(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const A=_d(m[g]);A&&(A.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(g){const A=_d(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(l,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,A)=>{const S=_d(g.object),C=_d(A.object);return!S||!C?g.distance-A.distance:C.events.priority-S.events.priority||g.distance-A.distance}).filter(g=>{const A=z0(g);return h.has(A)?!1:(h.add(A),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const g of _){let A=g.object;for(;A;){var x;(x=A.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())h.has(z0(g.intersection))||p.push(g.intersection);return p}function r(l,c,f,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=_d(v.object)||p,{raycaster:x,pointer:g,camera:A,internal:S}=_,C=new H(g.x,g.y,0).unproject(A),P=b=>{var k,Y;return(k=(Y=S.capturedMap.get(b))==null?void 0:Y.has(v.eventObject))!=null?k:!1},E=b=>{const k={intersection:v,target:c.target};S.capturedMap.has(b)?S.capturedMap.get(b).set(v.eventObject,k):S.capturedMap.set(b,new Map([[v.eventObject,k]])),c.target.setPointerCapture(b)},I=b=>{const k=S.capturedMap.get(b);k&&zI(S.capturedMap,v.eventObject,k,b)};let B={};for(let b in c){let k=c[b];typeof k!="function"&&(B[b]=k)}let R={...v,...B,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:C,ray:x.ray,camera:A,stopPropagation(){const b="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!b||b.has(v.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=l.slice(0,l.indexOf(v));s([...k,v])}},target:{hasPointerCapture:P,setPointerCapture:E,releasePointerCapture:I},currentTarget:{hasPointerCapture:P,setPointerCapture:E,releasePointerCapture:I},nativeEvent:c};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(z0(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(f,m?t:void 0),g=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(f,p.interaction),h&&h(f)),m&&s(x);function A(S){const C=S.eventObject,P=C.__r3f,E=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const I=z0(S),B=p.hovered.get(I);B?B.stopped&&S.stopPropagation():(p.hovered.set(I,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const I=E[l];I?(!v||p.initialHits.includes(C))&&(o(f,p.interaction.filter(B=>!p.initialHits.includes(B))),I(S)):v&&p.initialHits.includes(C)&&o(f,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(x,f,g,A)}}return{handlePointer:a}}const lQ=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],GI=n=>!!(n!=null&&n.render),k4=O.createContext(null),cQ=(n,e)=>{const t=TI((a,l)=>{const c=new H,f=new H,h=new H;function p(g=l().camera,A=f,S=l().size){const{width:C,height:P,top:E,left:I}=S,B=C/P;A instanceof H?h.copy(A):h.set(...A);const R=g.getWorldPosition(c).distanceTo(h);if(DI(g))return{width:C/g.zoom,height:P/g.zoom,top:E,left:I,factor:1,distance:R,aspect:B};{const b=g.fov*Math.PI/180,k=2*Math.tan(b/2)*R,Y=k*(C/P);return{width:Y,height:k,top:E,left:I,factor:C/Y,distance:R,aspect:B}}}let m;const v=g=>a(A=>({performance:{...A.performance,current:g}})),_=new Te;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new I4,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,S,C,P)=>{const E=l().camera,I={width:g,height:A,top:C||0,left:P||0,updateStyle:S};a(B=>({size:I,viewport:{...B.viewport,...p(E,f,I)}}))},setDpr:g=>a(A=>{const S=kI(g);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:O.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,S)=>{const C=l().internal;return C.priority=C.priority+(A>0?1:0),C.subscribers.push({ref:g,priority:A,store:S}),C.subscribers=C.subscribers.sort((P,E)=>P.priority-E.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(A>0?1:0),P.subscribers=P.subscribers.filter(E=>E.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,HI(a,l),f.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function uQ(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let G0,VI=new Set,fQ=new Set,dQ=new Set;const hQ=n=>uQ(n,VI);function Ax(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ad(n,e){switch(n){case"before":return Ax(VI,e);case"after":return Ax(fQ,e);case"tail":return Ax(dQ,e)}}let Sx,Mx;function Cx(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Sx=e.internal.subscribers,G0=0;G0<Sx.length;G0++)Mx=Sx[G0],Mx.ref.current(Mx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pQ(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Ad("before",c),t=!0;for(const h of n.values()){var f;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(i+=Cx(c,s))}if(t=!1,Ad("after",c),i===0)return Ad("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,f=1){var h;if(!c)return n.forEach(p=>a(p.store.getState(),f));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,h,p){if(f&&Ad("before",c),h)Cx(c,h,p);else for(const m of n.values())Cx(c,m.store.getState());f&&Ad("after",c)}return{loop:o,invalidate:a,advance:l}}function U4(){const n=O.useContext(k4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function En(n=t=>t,e){return U4()(n,e)}function Sp(n,e=0){const t=U4(),i=t.getState().internal.subscribe,r=NI(n);return Ap(()=>i(r,e,t),[e,i,t]),null}const fb=new WeakMap;function WI(n,e){return function(t,...i){let r=fb.get(t);return r||(r=new t,fb.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,nQ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function If(n,e,t,i){const r=Array.isArray(e)?e:[e],s=YZ(WI(t,i),[n,...r],{equal:yn.equ});return Array.isArray(e)?s:s[0]}If.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return ZZ(WI(t),[n,...i])};If.clear=function(n,e){const t=Array.isArray(e)?e:[e];return QZ([n,...t])};const vf=new Map,{invalidate:db,advance:hb}=pQ(vf),{reconciler:Uh,applyProps:To}=qZ(vf,sQ),uu={objects:"shallow",strict:!1},mQ=(n,e)=>{const t=typeof n=="function"?n(e):n;return GI(t)?t:new c4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function gQ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function vQ(n){const e=vf.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||cQ(db,hb),o=t||Uh.createContainer(s,Ou.ConcurrentRoot,null,!1,null,"",r,null);e||vf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:h,size:p,scene:m,events:v,onCreated:_,shadows:x=!1,linear:g=!1,flat:A=!1,legacy:S=!1,orthographic:C=!1,frameloop:P="always",dpr:E=[1,2],performance:I,raycaster:B,camera:R,onPointerMissed:b}=f,k=s.getState(),Y=k.gl;k.gl||k.set({gl:Y=mQ(h,n)});let G=k.raycaster;G||k.set({raycaster:G=new N4});const{params:q,...$}=B||{};if(yn.equ($,G,uu)||To(G,{...$}),yn.equ(q,G.params,uu)||To(G,{params:{...G.params,...q}}),!k.camera||k.camera===c&&!yn.equ(c,R,uu)){c=R;const V=R instanceof fp,ne=V?R:C?new ws(0,0,0,0,.1,1e3):new Ln(75,0,.1,1e3);V||(ne.position.z=5,R&&(To(ne,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(ne.manual=!0,ne.updateProjectionMatrix())),!k.camera&&!(R!=null&&R.rotation)&&ne.lookAt(0,0,0)),k.set({camera:ne}),G.camera=ne}if(!k.scene){let V;m instanceof df?V=m:(V=new df,m&&To(V,m)),k.set({scene:mu(V)})}if(!k.xr){var ie;const V=(Be,se)=>{const we=s.getState();we.frameloop!=="never"&&hb(Be,!0,we,se)},ne=()=>{const Be=s.getState();Be.gl.xr.enabled=Be.gl.xr.isPresenting,Be.gl.xr.setAnimationLoop(Be.gl.xr.isPresenting?V:null),Be.gl.xr.isPresenting||db(Be)},ue={connect(){const Be=s.getState().gl;Be.xr.addEventListener("sessionstart",ne),Be.xr.addEventListener("sessionend",ne)},disconnect(){const Be=s.getState().gl;Be.xr.removeEventListener("sessionstart",ne),Be.xr.removeEventListener("sessionend",ne)}};typeof((ie=Y.xr)==null?void 0:ie.addEventListener)=="function"&&ue.connect(),k.set({xr:ue})}if(Y.shadowMap){const V=Y.shadowMap.enabled,ne=Y.shadowMap.type;if(Y.shadowMap.enabled=!!x,yn.boo(x))Y.shadowMap.type=Yd;else if(yn.str(x)){var pe;const ue={basic:_P,percentage:q1,soft:Yd,variance:_s};Y.shadowMap.type=(pe=ue[x])!=null?pe:Yd}else yn.obj(x)&&Object.assign(Y.shadowMap,x);(V!==Y.shadowMap.enabled||ne!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const F=LI();F&&("enabled"in F?F.enabled=!S:"legacyMode"in F&&(F.legacyMode=S)),l||To(Y,{outputEncoding:g?3e3:3001,toneMapping:A?$s:GS}),k.legacy!==S&&k.set(()=>({legacy:S})),k.linear!==g&&k.set(()=>({linear:g})),k.flat!==A&&k.set(()=>({flat:A})),h&&!yn.fun(h)&&!GI(h)&&!yn.equ(h,Y,uu)&&To(Y,h),v&&!k.events.handlers&&k.set({events:v(s)});const K=gQ(n,p);return yn.equ(K,k.size,uu)||k.setSize(K.width,K.height,K.updateStyle,K.top,K.left),E&&k.viewport.dpr!==kI(E)&&k.setDpr(E),k.frameloop!==P&&k.setFrameloop(P),k.onPointerMissed||k.set({onPointerMissed:b}),I&&!yn.equ(I,k.performance,uu)&&k.set(V=>({performance:{...V.performance,...I}})),a=_,l=!0,this},render(f){return l||this.configure(),Uh.updateContainer(z.jsx(yQ,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){jI(n)}}}function yQ({store:n,children:e,onCreated:t,rootElement:i}){return Ap(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),z.jsx(k4.Provider,{value:n,children:e})}function jI(n,e){const t=vf.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Uh.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),iQ(r),vf.delete(n)}catch{}},500)})}}function xQ(n,e,t){return z.jsx(_Q,{children:n,container:e,state:t},e.uuid)}function _Q({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=U4(),[a]=O.useState(()=>new N4),[l]=O.useState(()=>new Te),c=O.useCallback((h,p)=>{const m={...h};Object.keys(h).forEach(_=>{(lQ.includes(_)||h[_]!==p[_]&&p[_])&&delete m[_]});let v;if(p&&r){const _=p.camera;v=h.viewport.getCurrentViewport(_,new H,r),_!==h.camera&&HI(_,r)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...i},size:{...h.size,...r},viewport:{...h.viewport,...v},...s}},[n]),[f]=O.useState(()=>{const h=o.getState();return TI((m,v)=>({...h,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...i},size:{...h.size,...r},...s,set:m,get:v,setEvents:_=>m(x=>({...x,events:{...x.events,..._}}))}))});return O.useEffect(()=>{const h=o.subscribe(p=>f.setState(m=>c(p,m)));return()=>{h()}},[c]),O.useEffect(()=>{f.setState(h=>c(o.getState(),h))},[c]),O.useEffect(()=>()=>{f.destroy()},[]),z.jsx(z.Fragment,{children:Uh.createPortal(z.jsx(k4.Provider,{value:f,children:e}),f,null)})}Uh.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version});function W3(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?i=setTimeout(l,e-f):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var f=t&&!i;return i||(i=setTimeout(l,e)),f&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}W3.debounce=W3;var AQ=W3;const pb=uA(AQ);function SQ(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=O.useRef(!1);O.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=O.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:S,top:C,width:P,height:E,bottom:I,right:B,x:R,y:b}=l.current.element.getBoundingClientRect(),k={left:S,top:C,width:P,height:E,bottom:I,right:B,x:R,y:b};l.current.element instanceof HTMLElement&&r&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),h.current&&!EQ(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[A,f?pb(A,f):A,c?pb(A,c):A]},[a,r,c,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(_(),l.current.element=A,l.current.scrollContainers=XI(A),x())};return CQ(v,!!t),MQ(m),O.useEffect(()=>{_(),x()},[t,v,m]),O.useEffect(()=>_,[]),[g,o,p]}function MQ(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function CQ(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function XI(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...XI(n.parentElement)]}const wQ=["x","y","top","bottom","left","right","width","height"],EQ=(n,e)=>wQ.every(t=>n[t]===e[t]);var TQ=Object.defineProperty,bQ=Object.defineProperties,RQ=Object.getOwnPropertyDescriptors,mb=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,gb=(n,e,t)=>e in n?TQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vb=(n,e)=>{for(var t in e||(e={}))PQ.call(e,t)&&gb(n,t,e[t]);if(mb)for(var t of mb(e))IQ.call(e,t)&&gb(n,t,e[t]);return n},BQ=(n,e)=>bQ(n,RQ(e)),yb,xb;typeof window<"u"&&((yb=window.document)!=null&&yb.createElement||((xb=window.navigator)==null?void 0:xb.product)==="ReactNative")?O.useLayoutEffect:O.useEffect;function JI(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=JI(i,e,t);if(r)return r;i=i.sibling}}function KI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const _b=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=_b;return}return _b.apply(this,arguments)};const H4=KI(O.createContext(null));class YI extends O.Component{render(){return O.createElement(H4.Provider,{value:this._reactInternals},this.props.children)}}function LQ(){const n=O.useContext(H4);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=JI(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function DQ(){const n=LQ(),[e]=O.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==H4&&!e.has(r)&&e.set(r,O.useContext(KI(r)))}t=t.return}return e}function NQ(){const n=DQ();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>O.createElement(e,null,O.createElement(t.Provider,BQ(vb({},i),{value:n.get(t)}))),e=>O.createElement(YI,vb({},e))),[n])}const wx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function FQ(n){const{handlePointer:e}=aQ(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(wx).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=wx[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=wx[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const OQ=O.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=FQ,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:A,scene:S,onPointerMissed:C,onCreated:P,...E},I){O.useMemo(()=>O4(wI),[]);const B=NQ(),[R,b]=SQ({scroll:!0,debounce:{scroll:50,resize:0},...i}),k=O.useRef(null),Y=O.useRef(null);O.useImperativeHandle(I,()=>k.current);const G=NI(C),[q,$]=O.useState(!1),[ie,pe]=O.useState(!1);if(q)throw q;if(ie)throw ie;const F=O.useRef(null);Ap(()=>{const V=k.current;b.width>0&&b.height>0&&V&&(F.current||(F.current=vQ(V)),F.current.configure({gl:s,events:o,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:A,scene:S,size:b,onPointerMissed:(...ne)=>G.current==null?void 0:G.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?$Z(a)?a.current:a:Y.current),l&&ne.setEvents({compute:(ue,Be)=>{const se=ue[l+"X"],we=ue[l+"Y"];Be.pointer.set(se/Be.size.width*2-1,-(we/Be.size.height)*2+1),Be.raycaster.setFromCamera(Be.pointer,Be.camera)}}),P==null||P(ne)}}),F.current.render(z.jsx(B,{children:z.jsx(FI,{set:pe,children:z.jsx(O.Suspense,{fallback:z.jsx(eQ,{set:$}),children:e})})})))}),O.useEffect(()=>{const V=k.current;if(V)return()=>jI(V)},[]);const K=a?"none":"auto";return z.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...r},...E,children:z.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:z.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}),kQ=O.forwardRef(function(e,t){return z.jsx(YI,{children:z.jsx(OQ,{...e,ref:t})})});function ss(){return ss=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ss.apply(this,arguments)}function UQ(n,e,t){return Math.max(e,Math.min(n,t))}const Sn={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function Ab(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function Sb(n,e,t,i=.15){return i===0?UQ(n,e,t):n<e?-Ab(e-n,t-e,i)+e:n>t?+Ab(n-t,t-e,i)+t:n}function HQ(n,[e,t],[i,r]){const[[s,o],[a,l]]=n;return[Sb(e,s,o,i),Sb(t,a,l,r)]}function zQ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GQ(n){var e=zQ(n,"string");return typeof e=="symbol"?e:String(e)}function ii(n,e,t){return e=GQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(t),!0).forEach(function(i){ii(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const ZI={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Cb(n){return n?n[0].toUpperCase()+n.slice(1):""}const VQ=["enter","leave"];function WQ(n=!1,e){return n&&!VQ.includes(e)}function jQ(n,e="",t=!1){const i=ZI[n],r=i&&i[e]||e;return"on"+Cb(n)+Cb(r)+(WQ(t,r)?"Capture":"")}const XQ=["gotpointercapture","lostpointercapture"];function JQ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=XQ.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function KQ(n,e=""){const t=ZI[n],i=t&&t[e]||e;return n+i}function Tv(n){return"touches"in n}function QI(n){return Tv(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function YQ(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function ZQ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function qI(n){return Tv(n)?ZQ(n)[0]:n}function j3(n,e){try{const t=e.clientX-n.clientX,i=e.clientY-n.clientY,r=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,i);return{angle:-(Math.atan2(t,i)*180)/Math.PI,distance:o,origin:[r,s]}}catch{}return null}function QQ(n){return YQ(n).map(e=>e.identifier)}function wb(n,e){const[t,i]=Array.from(n.touches).filter(r=>e.includes(r.identifier));return j3(t,i)}function Ex(n){const e=qI(n);return Tv(n)?e.identifier:e.pointerId}function yf(n){const e=qI(n);return[e.clientX,e.clientY]}const Eb=40,Tb=800;function $I(n){let{deltaX:e,deltaY:t,deltaMode:i}=n;return i===1?(e*=Eb,t*=Eb):i===2&&(e*=Tb,t*=Tb),[e,t]}function qQ(n){var e,t;const{scrollX:i,scrollY:r,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=i??s)!==null&&e!==void 0?e:0,(t=r??o)!==null&&t!==void 0?t:0]}function $Q(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function h1(n,...e){return typeof n=="function"?n(...e):n}function eq(){}function tq(...n){return n.length===0?eq:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function bb(n,e){return Object.assign({},e,n||{})}const nq=32;class eB{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?h1(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,$Q(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);Sn.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=i.threshold,{_step:f,values:h}=t;if(i.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(o)>=l&&h[0]),f[1]===!1&&(f[1]=Math.abs(a)>=c&&h[1])):(f[0]===!1&&(f[0]=Math.abs(o)>=l&&Math.sign(o)*l),f[1]===!1&&(f[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=f[0]!==!1||f[1]!==!1,!t.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[E,I]=h;p[0]=f[0]!==!1?E-f[0]:0,p[1]=f[1]!==!1?I-f[1]:0}else p[0]=f[0]!==!1?o-f[0]:0,p[1]=f[1]!==!1?a-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=h1(i.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[_,x]=t.offset,[[g,A],[S,C]]=t._bounds;t.overflow=[_<g?-1:_>A?1:0,x<S?-1:x>C?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const P=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=HQ(t._bounds,t.offset,P),t.delta=Sn.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>nq)){t.delta=Sn.sub(t.offset,m);const E=t.delta.map(Math.abs);Sn.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(Fn(Fn(Fn({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function iq([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class Mp extends eB{constructor(...e){super(...e),ii(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Sn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Sn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[QI(e)]:i.axisThreshold;t.axis=iq(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const rq=n=>n,Rb=.15,tB={enabled(n=!0){return n},eventOptions(n,e,t){return Fn(Fn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[Rb,Rb];case!1:return[0,0];default:return Sn.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Sn.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||rq},threshold(n){return Sn.toVector(n,0)}},sq=0,wc=Fn(Fn({},tB),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=sq){return n},bounds(n={}){if(typeof n=="function")return s=>wc.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),Pb={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class oq extends Mp{constructor(...e){super(...e),ii(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=wc.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=Ex(e),i._pointerActive=!0,this.computeValues(yf(e)),this.computeInitial(),t.preventScrollAxis&&QI(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=Ex(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=yf(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Sn.sub(s,t._values),this.computeValues(s)),Sn.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=Ex(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,f]=t._movement,[h,p]=i.swipe.velocity,[m,v]=i.swipe.distance,_=i.swipe.duration;if(t.elapsedTime<_){const x=Math.abs(a/t.timeDelta),g=Math.abs(l/t.timeDelta);x>h&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),g>p&&Math.abs(f)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,aq(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=Pb[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,Sn.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Pb&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function aq(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Cp=typeof window<"u"&&window.document&&window.document.createElement;function nB(){return Cp&&"ontouchstart"in window}function lq(){return nB()||Cp&&window.navigator.maxTouchPoints>1}function cq(){return Cp&&"onpointerdown"in window}function uq(){return Cp&&"exitPointerLock"in window.document}function fq(){try{return"constructor"in GestureEvent}catch{return!1}}const $r={isBrowser:Cp,gesture:fq(),touch:nB(),touchscreen:lq(),pointer:cq(),pointerLock:uq()},dq=250,hq=180,pq=.5,mq=50,gq=250,vq=10,Ib={mouse:0,touch:0,pen:8},yq=Fn(Fn({},wc),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&$r.pointerLock,$r.touch&&t?"touch":this.pointerLock?"mouse":$r.pointer&&!r?"pointer":$r.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?dq:void 0,!(!$r.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=Sn.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=pq,distance:e=mq,duration:t=gq}={}){return{velocity:this.transform(Sn.toVector(n)),distance:this.transform(Sn.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return hq;case!1:return 0;default:return n}},axisThreshold(n){return n?Fn(Fn({},Ib),n):Ib},keyboardDisplacement(n=vq){return n}});function iB(n){const[e,t]=n.overflow,[i,r]=n._delta,[s,o]=n._direction;(e<0&&i>0&&s<0||e>0&&i<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const xq=30,_q=100;class Aq extends eB{constructor(...e){super(...e),ii(this,"ingKey","pinching"),ii(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:i}=this.state;e==="wheel"?this.state.offset=Sn.add(t,i):this.state.offset=[(1+t[0])*i[0],t[1]+i[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,i]=e._movement;if(!e.axis){const r=Math.abs(t)*xq-Math.abs(i);r<0?e.axis="angle":r>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,i=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>i.has(s))||i.size<2)return;this.start(e),t._touchIds=Array.from(i).slice(0,2);const r=wb(e,t._touchIds);r&&this.pinchStart(e,r)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,i=t._pointerEvents,r=this.ctrl.pointerIds;if(t._active&&Array.from(i.keys()).every(o=>r.has(o))||(i.size<2&&i.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=j3(...Array.from(i.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const i=this.state;i.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=wb(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const i=j3(...Array.from(t.values()));i&&this.pinchMove(e,i)}pinchMove(e,t){const i=this.state,r=i._values[1],s=t.angle-r;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),i.origin=t.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const i=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Sn.sub(t._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(i=>e[i]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const i=this.state;i._delta=[-$I(e)[1]/_q*i.offset[0],0],Sn.addTo(i._movement,i._delta),iB(i),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const Sq=Fn(Fn({},tB),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!$r.touch&&$r.gesture)return"gesture";if($r.touch&&i)return"touch";if($r.touchscreen){if($r.pointer)return"pointer";if($r.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const a=bb(h1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=bb(h1(i,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Sn.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class Mq extends Mp{constructor(...e){super(...e),ii(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(yf(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=yf(e),i=this.state;i._delta=Sn.sub(t,i._values),Sn.addTo(i._movement,i._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const Cq=Fn(Fn({},wc),{},{mouseOnly:(n=!0)=>n});class wq extends Mp{constructor(...e){super(...e),ii(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,i=qQ(e);t._delta=Sn.sub(i,t._values),Sn.addTo(t._movement,t._delta),this.computeValues(i),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const Eq=wc;class Tq extends Mp{constructor(...e){super(...e),ii(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=$I(e),Sn.addTo(t._movement,t._delta),iB(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const bq=wc;class Rq extends Mp{constructor(...e){super(...e),ii(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(yf(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const i=yf(e);t._movement=t._delta=Sn.sub(i,t._values),this.computeValues(i),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const Pq=Fn(Fn({},wc),{},{mouseOnly:(n=!0)=>n}),z4=new Map,X3=new Map;function Iq(n){z4.set(n.key,n.engine),X3.set(n.key,n.resolver)}const Bq={key:"drag",engine:oq,resolver:yq},Lq={key:"hover",engine:Rq,resolver:Pq},Dq={key:"move",engine:Mq,resolver:Cq},Nq={key:"pinch",engine:Aq,resolver:Sq},Fq={key:"scroll",engine:wq,resolver:Eq},Oq={key:"wheel",engine:Tq,resolver:bq};function kq(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Uq(n,e){if(n==null)return{};var t=kq(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const Hq={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=$r.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},zq=["target","eventOptions","window","enabled","transform"];function Eg(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=Eg(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function Gq(n,e,t={}){const i=n,{target:r,eventOptions:s,window:o,enabled:a,transform:l}=i,c=Uq(i,zq);if(t.shared=Eg({target:r,eventOptions:s,window:o,enabled:a,transform:l},Hq),e){const f=X3.get(e);t[e]=Eg(Fn({shared:t.shared},c),f)}else for(const f in c){const h=X3.get(f);h&&(t[f]=Eg(Fn({shared:t.shared},c[f]),h))}return t}class rB{constructor(e,t){ii(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const o=this._listeners,a=KQ(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Fn(Fn({},l),s);e.addEventListener(a,r,c);const f=()=>{e.removeEventListener(a,r,c),o.delete(f)};return o.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Vq{constructor(){ii(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let Wq=class{constructor(e){ii(this,"gestures",new Set),ii(this,"_targetEventStore",new rB(this)),ii(this,"gestureEventStores",{}),ii(this,"gestureTimeoutStores",{}),ii(this,"handlers",{}),ii(this,"config",{}),ii(this,"pointerIds",new Set),ii(this,"touchIds",new Set),ii(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),jq(this,e)}setEventIds(e){if(Tv(e))return this.touchIds=new Set(QQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Gq(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=Bb(i,a.eventOptions,!!r);if(a.enabled){const c=z4.get(o);new c(this,e,o).bind(l)}}const s=Bb(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Fn(Fn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in i)i[s]=tq(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:a,passive:l}=JQ(s);this._targetEventStore.add(r,o,"",i[s],{capture:a,passive:l})}}}};function fu(n,e){n.gestures.add(e),n.gestureEventStores[e]=new rB(n,e),n.gestureTimeoutStores[e]=new Vq}function jq(n,e){e.drag&&fu(n,"drag"),e.wheel&&fu(n,"wheel"),e.scroll&&fu(n,"scroll"),e.move&&fu(n,"move"),e.pinch&&fu(n,"pinch"),e.hover&&fu(n,"hover")}const Bb=(n,e,t)=>(i,r,s,o={},a=!1)=>{var l,c;const f=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?i:jQ(i,r,f);t&&h&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)},Xq=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Jq(n){const e={},t={},i=new Set;for(let r in n)Xq.test(r)?(i.add(RegExp.lastMatch),t[r]=n[r]):e[r]=n[r];return[t,e,i]}function du(n,e,t,i,r,s){if(!n.has(t)||!z4.has(i))return;const o=t+"Start",a=t+"End",l=c=>{let f;return c.first&&o in e&&e[o](c),t in e&&(f=e[t](c)),c.last&&a in e&&e[a](c),f};r[i]=l,s[i]=s[i]||{}}function Kq(n,e){const[t,i,r]=Jq(n),s={};return du(r,t,"onDrag","drag",s,e),du(r,t,"onWheel","wheel",s,e),du(r,t,"onScroll","scroll",s,e),du(r,t,"onPinch","pinch",s,e),du(r,t,"onMove","move",s,e),du(r,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:i}}function Yq(n,e={},t,i){const r=tn.useMemo(()=>new Wq(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),tn.useEffect(r.effect.bind(r)),tn.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function Zq(n){return n.forEach(Iq),function(t,i){const{handlers:r,nativeHandlers:s,config:o}=Kq(t,i||{});return Yq(r,o,void 0,s)}}function Qq(n,e){return Zq([Bq,Nq,Fq,Oq,Dq,Lq])(n,e||{})}let G4=Ep();const Ct=n=>wp(n,G4);let V4=Ep();Ct.write=n=>wp(n,V4);let bv=Ep();Ct.onStart=n=>wp(n,bv);let W4=Ep();Ct.onFrame=n=>wp(n,W4);let j4=Ep();Ct.onFinish=n=>wp(n,j4);let Ku=[];Ct.setTimeout=(n,e)=>{let t=Ct.now()+e,i=()=>{let s=Ku.findIndex(o=>o.cancel==i);~s&&Ku.splice(s,1),ba-=~s?1:0},r={time:t,handler:n,cancel:i};return Ku.splice(sB(t),0,r),ba+=1,oB(),r};let sB=n=>~(~Ku.findIndex(e=>e.time>n)||~Ku.length);Ct.cancel=n=>{bv.delete(n),W4.delete(n),j4.delete(n),G4.delete(n),V4.delete(n)};Ct.sync=n=>{J3=!0,Ct.batchedUpdates(n),J3=!1};Ct.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,Ct.onStart(t)}return i.handler=n,i.cancel=()=>{bv.delete(t),e=null},i};let X4=typeof window<"u"?window.requestAnimationFrame:()=>{};Ct.use=n=>X4=n;Ct.now=typeof performance<"u"?()=>performance.now():Date.now;Ct.batchedUpdates=n=>n();Ct.catch=console.error;Ct.frameLoop="always";Ct.advance=()=>{Ct.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):lB()};let Ta=-1,ba=0,J3=!1;function wp(n,e){J3?(e.delete(n),n(0)):(e.add(n),oB())}function oB(){Ta<0&&(Ta=0,Ct.frameLoop!=="demand"&&X4(aB))}function qq(){Ta=-1}function aB(){~Ta&&(X4(aB),Ct.batchedUpdates(lB))}function lB(){let n=Ta;Ta=Ct.now();let e=sB(Ta);if(e&&(cB(Ku.splice(0,e),t=>t.handler()),ba-=e),!ba){qq();return}bv.flush(),G4.flush(n?Math.min(64,Ta-n):16.667),W4.flush(),V4.flush(),j4.flush()}function Ep(){let n=new Set,e=n;return{add(t){ba+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return ba-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,ba-=e.size,cB(e,i=>i(t)&&n.add(i)),ba+=n.size,e=n)}}}function cB(n,e){n.forEach(t=>{try{e(t)}catch(i){Ct.catch(i)}})}function K3(){}const $q=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),ze={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Mo(n,e){if(ze.arr(n)){if(!ze.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}const on=(n,e)=>n.forEach(e);function jo(n,e,t){if(ze.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}const os=n=>ze.und(n)?[]:ze.arr(n)?n:[n];function $d(n,e){if(n.size){const t=Array.from(n);n.clear(),on(t,e)}}const Nd=(n,...e)=>$d(n,t=>t(...e)),J4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let K4,uB,za=null,fB=!1,Y4=K3;const e$=n=>{n.to&&(uB=n.to),n.now&&(Ct.now=n.now),n.colors!==void 0&&(za=n.colors),n.skipAnimation!=null&&(fB=n.skipAnimation),n.createStringInterpolator&&(K4=n.createStringInterpolator),n.requestAnimationFrame&&Ct.use(n.requestAnimationFrame),n.batchedUpdates&&(Ct.batchedUpdates=n.batchedUpdates),n.willAdvance&&(Y4=n.willAdvance),n.frameLoop&&(Ct.frameLoop=n.frameLoop)};var ro=Object.freeze({__proto__:null,get createStringInterpolator(){return K4},get to(){return uB},get colors(){return za},get skipAnimation(){return fB},get willAdvance(){return Y4},assign:e$});const eh=new Set;let ts=[],Tx=[],p1=0;const Rv={get idle(){return!eh.size&&!ts.length},start(n){p1>n.priority?(eh.add(n),Ct.onStart(t$)):(dB(n),Ct(Y3))},advance:Y3,sort(n){if(p1)Ct.onFrame(()=>Rv.sort(n));else{const e=ts.indexOf(n);~e&&(ts.splice(e,1),hB(n))}},clear(){ts=[],eh.clear()}};function t$(){eh.forEach(dB),eh.clear(),Ct(Y3)}function dB(n){ts.includes(n)||hB(n)}function hB(n){ts.splice(n$(ts,e=>e.priority>n.priority),0,n)}function Y3(n){const e=Tx;for(let t=0;t<ts.length;t++){const i=ts[t];p1=i.priority,i.idle||(Y4(i),i.advance(n),i.idle||e.push(i))}return p1=0,Tx=ts,Tx.length=0,ts=e,ts.length>0}function n$(n,e){const t=n.findIndex(e);return t<0?n.length:t}const i$=(n,e,t)=>Math.min(Math.max(t,n),e),r$={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Es="[-+]?\\d*\\.?\\d+",m1=Es+"%";function Pv(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}const s$=new RegExp("rgb"+Pv(Es,Es,Es)),o$=new RegExp("rgba"+Pv(Es,Es,Es,Es)),a$=new RegExp("hsl"+Pv(Es,m1,m1)),l$=new RegExp("hsla"+Pv(Es,m1,m1,Es)),c$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,u$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,f$=/^#([0-9a-fA-F]{6})$/,d$=/^#([0-9a-fA-F]{8})$/;function h$(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=f$.exec(n))?parseInt(e[1]+"ff",16)>>>0:za&&za[n]!==void 0?za[n]:(e=s$.exec(n))?(hu(e[1])<<24|hu(e[2])<<16|hu(e[3])<<8|255)>>>0:(e=o$.exec(n))?(hu(e[1])<<24|hu(e[2])<<16|hu(e[3])<<8|Nb(e[4]))>>>0:(e=c$.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=d$.exec(n))?parseInt(e[1],16)>>>0:(e=u$.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=a$.exec(n))?(Lb(Db(e[1]),V0(e[2]),V0(e[3]))|255)>>>0:(e=l$.exec(n))?(Lb(Db(e[1]),V0(e[2]),V0(e[3]))|Nb(e[4]))>>>0:null}function bx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Lb(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,s=bx(r,i,n+1/3),o=bx(r,i,n),a=bx(r,i,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function hu(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function Db(n){return(parseFloat(n)%360+360)%360/360}function Nb(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function V0(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function Fb(n){let e=h$(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${s})`}const Hh=(n,e,t)=>{if(ze.fun(n))return n;if(ze.arr(n))return Hh({range:n,output:e,extrapolate:t});if(ze.str(n.output[0]))return K4(n);const i=n,r=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(c=>c);return c=>{const f=m$(c,s);return p$(c,s[f],s[f+1],r[f],r[f+1],l,o,a,i.map)}};function p$(n,e,t,i,r,s,o,a,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),i===-1/0?c=-c:r===1/0?c=c+i:c=c*(r-i)+i,c)}function m$(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}const g$=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return i$(0,1,r/n)},g1=1.70158,W0=g1*1.525,Ob=g1+1,kb=2*Math.PI/3,Ub=2*Math.PI/4.5,j0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,v$={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>Ob*n*n*n-g1*n*n,easeOutBack:n=>1+Ob*Math.pow(n-1,3)+g1*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((W0+1)*2*n-W0)/2:(Math.pow(2*n-2,2)*((W0+1)*(n*2-2)+W0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*kb),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*kb)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*Ub))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*Ub)/2+1,easeInBounce:n=>1-j0(1-n),easeOutBounce:j0,easeInOutBounce:n=>n<.5?(1-j0(1-2*n))/2:(1+j0(2*n-1))/2,steps:g$};function Z3(){return Z3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Z3.apply(this,arguments)}const xf=Symbol.for("FluidValue.get"),pc=Symbol.for("FluidValue.observers"),js=n=>!!(n&&n[xf]),Zr=n=>n&&n[xf]?n[xf]():n,Hb=n=>n[pc]||null;function y$(n,e){n.eventObserved?n.eventObserved(e):n(e)}function v1(n,e){let t=n[pc];t&&t.forEach(i=>{y$(i,e)})}class x${constructor(e){if(this[xf]=void 0,this[pc]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");_$(this,e)}}const _$=(n,e)=>pB(n,xf,e);function Tp(n,e){if(n[xf]){let t=n[pc];t||pB(n,pc,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function y1(n,e){let t=n[pc];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[pc]=null,n.observerRemoved&&n.observerRemoved(i,e)}}const pB=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Tg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,A$=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,zb=new RegExp(`(${Tg.source})(%|[a-z]+)`,"i"),S$=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Iv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,mB=n=>{const[e,t]=M$(n);if(!e||J4())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||n}else{if(t&&Iv.test(t))return mB(t);if(t)return t}return n},M$=n=>{const e=Iv.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]};let Rx;const C$=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,gB=n=>{Rx||(Rx=za?new RegExp(`(${Object.keys(za).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>Zr(s).replace(Iv,mB).replace(A$,Fb).replace(Rx,Fb)),t=e.map(s=>s.match(Tg).map(Number)),r=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Hh(Z3({},n,{output:s})));return s=>{var o;const a=!zb.test(e[0])&&((o=e.find(c=>zb.test(c)))==null?void 0:o.replace(Tg,""));let l=0;return e[0].replace(Tg,()=>`${r[l++](s)}${a||""}`).replace(S$,C$)}},Z4="react-spring: ",vB=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${Z4}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},w$=vB(console.warn);function E$(){w$(`${Z4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const T$=vB(console.warn);function b$(){T$(`${Z4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Bv(n){return ze.str(n)&&(n[0]=="#"||/\d/.test(n)||!J4()&&Iv.test(n)||n in(za||{}))}const Q4=J4()?O.useEffect:O.useLayoutEffect,R$=()=>{const n=O.useRef(!1);return Q4(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function yB(){const n=O.useState()[1],e=R$();return()=>{e.current&&n(Math.random())}}function P$(n,e){const[t]=O.useState(()=>({inputs:e,result:n()})),i=O.useRef(),r=i.current;let s=r;return s?e&&s.inputs&&I$(e,s.inputs)||(s={inputs:e,result:n()}):s=t,O.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function I$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const xB=n=>O.useEffect(n,B$),B$=[];function Gb(n){const e=O.useRef();return O.useEffect(()=>{e.current=n}),e.current}const zh=Symbol.for("Animated:node"),L$=n=>!!n&&n[zh]===n,Vs=n=>n&&n[zh],q4=(n,e)=>$q(n,zh,e),Lv=n=>n&&n[zh]&&n[zh].getPayload();class _B{constructor(){this.payload=void 0,q4(this,this)}getPayload(){return this.payload||[]}}class Bf extends _B{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,ze.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Bf(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ze.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class _f extends Bf{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Hh({output:[e,e]})}static create(e){return new _f(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ze.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Hh({output:[this.getValue(),e]})),this._value=0,super.reset()}}const x1={dependencies:null};class $4 extends _B{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return jo(this.source,(i,r)=>{L$(i)?t[r]=i.getValue(e):js(i)?t[r]=Zr(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&on(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return jo(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){x1.dependencies&&js(e)&&x1.dependencies.add(e);const t=Lv(e);t&&on(t,i=>this.add(i))}}class eM extends $4{constructor(e){super(e)}static create(e){return new eM(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(D$)),!0)}}function D$(n){return(Bv(n)?_f:Bf).create(n)}function Q3(n){const e=Vs(n);return e?e.constructor:ze.arr(n)?eM:Bv(n)?_f:Bf}function _1(){return _1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_1.apply(this,arguments)}const Vb=(n,e)=>{const t=!ze.fun(n)||n.prototype&&n.prototype.isReactComponent;return O.forwardRef((i,r)=>{const s=O.useRef(null),o=t&&O.useCallback(v=>{s.current=O$(r,v)},[r]),[a,l]=F$(i,e),c=yB(),f=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},h=new N$(f,l),p=O.useRef();Q4(()=>(p.current=h,on(l,v=>Tp(v,h)),()=>{p.current&&(on(p.current.deps,v=>y1(v,p.current)),Ct.cancel(p.current.update))})),O.useEffect(f,[]),xB(()=>()=>{const v=p.current;on(v.deps,_=>y1(_,v))});const m=e.getComponentProps(a.getValue());return O.createElement(n,_1({},m,{ref:o}))})};class N${constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ct.write(this.update)}}function F$(n,e){const t=new Set;return x1.dependencies=t,n.style&&(n=_1({},n,{style:e.createAnimatedStyle(n.style)})),n=new $4(n),x1.dependencies=null,[n,t]}function O$(n,e){return n&&(ze.fun(n)?n(e):n.current=e),e}const Wb=Symbol.for("AnimatedComponent"),k$=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new $4(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},s=o=>{const a=jb(o)||"Anonymous";return ze.str(o)?o=s[o]||(s[o]=Vb(o,r)):o=o[Wb]||(o[Wb]=Vb(o,r)),o.displayName=`Animated(${a})`,o};return jo(n,(o,a)=>{ze.arr(n)&&(a=jb(o)),s[a]=s(o)}),{animated:s}},jb=n=>ze.str(n)?n:n&&ze.str(n.displayName)?n.displayName:ze.fun(n)&&n.name||null;function yi(){return yi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yi.apply(this,arguments)}function Hl(n,...e){return ze.fun(n)?n(...e):n}const th=(n,e)=>n===!0||!!(e&&n&&(ze.fun(n)?n(e):os(n).includes(e))),AB=(n,e)=>ze.obj(n)?e&&n[e]:n,SB=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,U$=n=>n,tM=(n,e=U$)=>{let t=H$;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const i={};for(const r of t){const s=e(n[r],r);ze.und(s)||(i[r]=s)}return i},H$=["config","onProps","onStart","onChange","onPause","onResume","onRest"],z$={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function G$(n){const e={};let t=0;if(jo(n,(i,r)=>{z$[r]||(e[r]=i,t++)}),t)return e}function MB(n){const e=G$(n);if(e){const t={to:e};return jo(n,(i,r)=>r in e||(t[r]=i)),t}return yi({},n)}function Gh(n){return n=Zr(n),ze.arr(n)?n.map(Gh):Bv(n)?ro.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function V$(n){for(const e in n)return!0;return!1}function q3(n){return ze.fun(n)||ze.arr(n)&&ze.obj(n[0])}function W$(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function j$(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}const X$={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},$3=yi({},X$.default,{mass:1,damping:1,easing:v$.linear,clamp:!1});class J${constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,$3)}}function K$(n,e,t){t&&(t=yi({},t),Xb(t,e),e=yi({},t,e)),Xb(n,e),Object.assign(n,e);for(const o in $3)n[o]==null&&(n[o]=$3[o]);let{mass:i,frequency:r,damping:s}=n;return ze.und(r)||(r<.01&&(r=.01),s<0&&(s=0),n.tension=Math.pow(2*Math.PI/r,2)*i,n.friction=4*Math.PI*s*i/r),n}function Xb(n,e){if(!ze.und(e.decay))n.duration=void 0;else{const t=!ze.und(e.tension)||!ze.und(e.friction);(t||!ze.und(e.frequency)||!ze.und(e.damping)||!ze.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}const Jb=[];class Y${constructor(){this.changed=!1,this.values=Jb,this.toValues=null,this.fromValues=Jb,this.to=void 0,this.from=void 0,this.config=new J$,this.immediate=!1}}function CB(n,{key:e,props:t,defaultProps:i,state:r,actions:s}){return new Promise((o,a)=>{var l;let c,f,h=th((l=t.cancel)!=null?l:i==null?void 0:i.cancel,e);if(h)v();else{ze.und(t.pause)||(r.paused=th(t.pause,e));let _=i==null?void 0:i.pause;_!==!0&&(_=r.paused||th(_,e)),c=Hl(t.delay||0,e),_?(r.resumeQueue.add(m),s.pause()):(s.resume(),m())}function p(){r.resumeQueue.add(m),r.timeouts.delete(f),f.cancel(),c=f.time-Ct.now()}function m(){c>0&&!ro.skipAnimation?(r.delayed=!0,f=Ct.setTimeout(v,c),r.pauseQueue.add(p),r.timeouts.add(f)):v()}function v(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(p),r.timeouts.delete(f),n<=(r.cancelId||0)&&(h=!0);try{s.start(yi({},t,{callId:n,cancel:h}),o)}catch(_){a(_)}}})}const nM=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Yu(n.get()):e.every(t=>t.noop)?wB(n.get()):Cs(n.get(),e.every(t=>t.finished)),wB=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Cs=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Yu=n=>({value:n,cancelled:!0,finished:!1});function EB(n,e,t,i){const{callId:r,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;const c=tM(e,(x,g)=>g==="onRest"?void 0:x);let f,h;const p=new Promise((x,g)=>(f=x,h=g)),m=x=>{const g=r<=(t.cancelId||0)&&Yu(i)||r!==t.asyncId&&Cs(i,!1);if(g)throw x.result=g,h(x),x},v=(x,g)=>{const A=new Kb,S=new Yb;return(async()=>{if(ro.skipAnimation)throw Vh(t),S.result=Cs(i,!1),h(S),S;m(A);const C=ze.obj(x)?yi({},x):yi({},g,{to:x});C.parentId=r,jo(c,(E,I)=>{ze.und(C[I])&&(C[I]=E)});const P=await i.start(C);return m(A),t.paused&&await new Promise(E=>{t.resumeQueue.add(E)}),P})()};let _;if(ro.skipAnimation)return Vh(t),Cs(i,!1);try{let x;ze.arr(n)?x=(async g=>{for(const A of g)await v(A)})(n):x=Promise.resolve(n(v,i.stop.bind(i))),await Promise.all([x.then(f),p]),_=Cs(i.get(),!0,!1)}catch(x){if(x instanceof Kb)_=x.result;else if(x instanceof Yb)_=x.result;else throw x}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return ze.fun(o)&&Ct.batchedUpdates(()=>{o(_,i,i.item)}),_})()}function Vh(n,e){$d(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}class Kb extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Yb extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const eA=n=>n instanceof iM;let Z$=1;class iM extends x${constructor(...e){super(...e),this.id=Z$++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Vs(this);return e&&e.getValue()}to(...e){return ro.to(this,e)}interpolate(...e){return E$(),ro.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){v1(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Rv.sort(this),v1(this,{type:"priority",parent:this,priority:e})}}const mc=Symbol.for("SpringPhase"),TB=1,tA=2,nA=4,Px=n=>(n[mc]&TB)>0,pa=n=>(n[mc]&tA)>0,Sd=n=>(n[mc]&nA)>0,Zb=(n,e)=>e?n[mc]|=tA|TB:n[mc]&=~tA,Qb=(n,e)=>e?n[mc]|=nA:n[mc]&=~nA;class Q$ extends iM{constructor(e,t){if(super(),this.key=void 0,this.animation=new Y$,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ze.und(e)||!ze.und(t)){const i=ze.obj(e)?yi({},e):yi({},t,{from:e});ze.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(pa(this)||this._state.asyncTo)||Sd(this)}get goal(){return Zr(this.animation.to)}get velocity(){const e=Vs(this);return e instanceof Bf?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Px(this)}get isAnimating(){return pa(this)}get isPaused(){return Sd(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const r=this.animation;let{config:s,toValues:o}=r;const a=Lv(r.to);!a&&js(r.to)&&(o=os(Zr(r.to))),r.values.forEach((f,h)=>{if(f.done)return;const p=f.constructor==_f?1:a?a[h].lastPosition:o[h];let m=r.immediate,v=p;if(!m){if(v=f.lastPosition,s.tension<=0){f.done=!0;return}let _=f.elapsedTime+=e;const x=r.fromValues[h],g=f.v0!=null?f.v0:f.v0=ze.arr(s.velocity)?s.velocity[h]:s.velocity;let A;const S=s.precision||(x==p?.005:Math.min(1,Math.abs(p-x)*.001));if(ze.und(s.duration))if(s.decay){const C=s.decay===!0?.998:s.decay,P=Math.exp(-(1-C)*_);v=x+g/(1-C)*(1-P),m=Math.abs(f.lastPosition-v)<=S,A=g*P}else{A=f.lastVelocity==null?g:f.lastVelocity;const C=s.restVelocity||S/10,P=s.clamp?0:s.bounce,E=!ze.und(P),I=x==p?f.v0>0:x<p;let B,R=!1;const b=1,k=Math.ceil(e/b);for(let Y=0;Y<k&&(B=Math.abs(A)>C,!(!B&&(m=Math.abs(p-v)<=S,m)));++Y){E&&(R=v==p||v>p==I,R&&(A=-A*P,v=p));const G=-s.tension*1e-6*(v-p),q=-s.friction*.001*A,$=(G+q)/s.mass;A=A+$*b,v=v+A*b}}else{let C=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,f.durationProgress>0&&(f.elapsedTime=s.duration*f.durationProgress,_=f.elapsedTime+=e)),C=(s.progress||0)+_/this._memoizedDuration,C=C>1?1:C<0?0:C,f.durationProgress=C),v=x+s.easing(C)*(p-x),A=(v-f.lastPosition)/e,m=C==1}f.lastVelocity=A,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[h].done&&(m=!1),m?f.done=!0:t=!1,f.setValue(v,s.round)&&(i=!0)});const l=Vs(this),c=l.getValue();if(t){const f=Zr(r.to);(c!==f||i)&&!s.decay?(l.setValue(f),this._onChange(f)):i&&s.decay&&this._onChange(c),this._stop()}else i&&this._onChange(c)}set(e){return Ct.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(pa(this)){const{to:e,config:t}=this.animation;Ct.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return ze.und(e)?(i=this.queue||[],this.queue=[]):i=[ze.obj(e)?e:yi({},t,{to:e})],Promise.all(i.map(r=>this._update(r))).then(r=>nM(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Vh(this._state,e&&this._lastCallId),Ct.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:r}=e;i=ze.obj(i)?i[t]:i,(i==null||q3(i))&&(i=void 0),r=ze.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:i,from:r};return Px(this)||(e.reverse&&([i,r]=[r,i]),r=Zr(r),ze.und(r)?Vs(this)||this._set(i):this._set(r)),s}_update(e,t){let i=yi({},e);const{key:r,defaultProps:s}=this;i.default&&Object.assign(s,tM(i,(l,c)=>/^on/.test(c)?AB(l,r):l)),$b(this,i,"onProps"),Cd(this,"onProps",i,this);const o=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return CB(++this._lastCallId,{key:r,props:i,defaultProps:s,state:a,actions:{pause:()=>{Sd(this)||(Qb(this,!0),Nd(a.pauseQueue),Cd(this,"onPause",Cs(this,Md(this,this.animation.to)),this))},resume:()=>{Sd(this)&&(Qb(this,!1),pa(this)&&this._resume(),Nd(a.resumeQueue),Cd(this,"onResume",Cs(this,Md(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(i.loop&&l.finished&&!(t&&l.noop)){const c=bB(i);if(c)return this._update(c,!0)}return l})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(Yu(this));const r=!ze.und(e.to),s=!ze.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(Yu(this));const{key:o,defaultProps:a,animation:l}=this,{to:c,from:f}=l;let{to:h=c,from:p=f}=e;s&&!r&&(!t.default||ze.und(h))&&(h=p),t.reverse&&([h,p]=[p,h]);const m=!Mo(p,f);m&&(l.from=p),p=Zr(p);const v=!Mo(h,c);v&&this._focus(h);const _=q3(t.to),{config:x}=l,{decay:g,velocity:A}=x;(r||s)&&(x.velocity=0),t.config&&!_&&K$(x,Hl(t.config,o),t.config!==a.config?Hl(a.config,o):void 0);let S=Vs(this);if(!S||ze.und(h))return i(Cs(this,!0));const C=ze.und(t.reset)?s&&!t.default:!ze.und(p)&&th(t.reset,o),P=C?p:this.get(),E=Gh(h),I=ze.num(E)||ze.arr(E)||Bv(E),B=!_&&(!I||th(a.immediate||t.immediate,o));if(v){const Y=Q3(h);if(Y!==S.constructor)if(B)S=this._set(E);else throw Error(`Cannot animate between ${S.constructor.name} and ${Y.name}, as the "to" prop suggests`)}const R=S.constructor;let b=js(h),k=!1;if(!b){const Y=C||!Px(this)&&m;(v||Y)&&(k=Mo(Gh(P),E),b=!k),(!Mo(l.immediate,B)&&!B||!Mo(x.decay,g)||!Mo(x.velocity,A))&&(b=!0)}if(k&&pa(this)&&(l.changed&&!C?b=!0:b||this._stop(c)),!_&&((b||js(c))&&(l.values=S.getPayload(),l.toValues=js(h)?null:R==_f?[1]:os(E)),l.immediate!=B&&(l.immediate=B,!B&&!C&&this._set(c)),b)){const{onRest:Y}=l;on($$,q=>$b(this,t,q));const G=Cs(this,Md(this,c));Nd(this._pendingCalls,G),this._pendingCalls.add(i),l.changed&&Ct.batchedUpdates(()=>{l.changed=!C,Y==null||Y(G,this),C?Hl(a.onRest,G):l.onStart==null||l.onStart(G,this)})}C&&this._set(P),_?i(EB(t.to,t,this._state,this)):b?this._start():pa(this)&&!v?this._pendingCalls.add(i):i(wB(P))}_focus(e){const t=this.animation;e!==t.to&&(Hb(this)&&this._detach(),t.to=e,Hb(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;js(t)&&(Tp(t,this),eA(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;js(e)&&y1(e,this)}_set(e,t=!0){const i=Zr(e);if(!ze.und(i)){const r=Vs(this);if(!r||!Mo(i,r.getValue())){const s=Q3(i);!r||r.constructor!=s?q4(this,s.create(i)):r.setValue(i),r&&Ct.batchedUpdates(()=>{this._onChange(i,t)})}}return Vs(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Cd(this,"onStart",Cs(this,Md(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Hl(this.animation.onChange,e,this)),Hl(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Vs(this).reset(Zr(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),pa(this)||(Zb(this,!0),Sd(this)||this._resume())}_resume(){ro.skipAnimation?this.finish():Rv.start(this)}_stop(e,t){if(pa(this)){Zb(this,!1);const i=this.animation;on(i.values,s=>{s.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),v1(this,{type:"idle",parent:this});const r=t?Yu(this.get()):Cs(this.get(),Md(this,e??i.to));Nd(this._pendingCalls,r),i.changed&&(i.changed=!1,Cd(this,"onRest",r,this))}}}function Md(n,e){const t=Gh(e),i=Gh(n.get());return Mo(i,t)}function bB(n,e=n.loop,t=n.to){let i=Hl(e);if(i){const r=i!==!0&&MB(i),s=(r||n).reverse,o=!r||r.reset;return Wh(yi({},n,{loop:e,default:!1,pause:void 0,to:!s||q3(t)?t:void 0,from:o?n.from:void 0,reset:o},r))}}function Wh(n){const{to:e,from:t}=n=MB(n),i=new Set;return ze.obj(e)&&qb(e,i),ze.obj(t)&&qb(t,i),n.keys=i.size?Array.from(i):null,n}function q$(n){const e=Wh(n);return ze.und(e.default)&&(e.default=tM(e)),e}function qb(n,e){jo(n,(t,i)=>t!=null&&e.add(i))}const $$=["onStart","onRest","onChange","onPause","onResume"];function $b(n,e,t){n.animation[t]=e[t]!==SB(e,t)?AB(e[t],n.key):void 0}function Cd(n,e,...t){var i,r,s,o;(i=(r=n.animation)[e])==null||i.call(r,...t),(s=(o=n.defaultProps)[e])==null||s.call(o,...t)}const eee=["onStart","onChange","onRest"];let tee=1;class nee{constructor(e,t){this.id=tee++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(yi({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(const t in e){const i=e[t];ze.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(Wh(e)),this}start(e){let{queue:t}=this;return e?t=os(e).map(Wh):this.queue=[],this._flush?this._flush(this,t):(LB(this,t),iA(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const i=this.springs;on(os(t),r=>i[r].stop(!!e))}else Vh(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(ze.und(e))this.start({pause:!0});else{const t=this.springs;on(os(e),i=>t[i].pause())}return this}resume(e){if(ze.und(e))this.start({pause:!1});else{const t=this.springs;on(os(e),i=>t[i].resume())}return this}each(e){jo(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:i}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,$d(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!r&&this._started,a=s||o&&i.size?this.get():null;s&&t.size&&$d(t,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,$d(i,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ct.onFrame(this._onFrame)}}function iA(n,e){return Promise.all(e.map(t=>RB(n,t))).then(t=>nM(n,t))}async function RB(n,e,t){const{keys:i,to:r,from:s,loop:o,onRest:a,onResolve:l}=e,c=ze.obj(e.default)&&e.default;o&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);const f=ze.arr(r)||ze.fun(r)?r:void 0;f?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):on(eee,_=>{const x=e[_];if(ze.fun(x)){const g=n._events[_];e[_]=({finished:A,cancelled:S})=>{const C=g.get(x);C?(A||(C.finished=!1),S&&(C.cancelled=!0)):g.set(x,{value:null,finished:A||!1,cancelled:S||!1})},c&&(c[_]=e[_])}});const h=n._state;e.pause===!h.paused?(h.paused=e.pause,Nd(e.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(e.pause=!0);const p=(i||Object.keys(n.springs)).map(_=>n.springs[_].start(e)),m=e.cancel===!0||SB(e,"cancel")===!0;(f||m&&h.asyncId)&&p.push(CB(++n._lastAsyncId,{props:e,state:h,actions:{pause:K3,resume:K3,start(_,x){m?(Vh(h,n._lastAsyncId),x(Yu(n))):(_.onRest=a,x(EB(f,_,h,n)))}}})),h.paused&&await new Promise(_=>{h.resumeQueue.add(_)});const v=nM(n,await Promise.all(p));if(o&&v.finished&&!(t&&v.noop)){const _=bB(e,o,r);if(_)return LB(n,[_]),RB(n,_,!0)}return l&&Ct.batchedUpdates(()=>l(v,n,n.item)),v}function e8(n,e){const t=yi({},n.springs);return e&&on(os(e),i=>{ze.und(i.keys)&&(i=Wh(i)),ze.obj(i.to)||(i=yi({},i,{to:void 0})),BB(t,i,r=>IB(r))}),PB(n,t),t}function PB(n,e){jo(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,Tp(t,n))})}function IB(n,e){const t=new Q$;return t.key=n,e&&Tp(t,e),t}function BB(n,e,t){e.keys&&on(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function LB(n,e){on(e,t=>{BB(n.springs,t,i=>IB(i,n))})}function iee(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}const ree=["children"],Dv=n=>{let{children:e}=n,t=iee(n,ree);const i=O.useContext(A1),r=t.pause||!!i.pause,s=t.immediate||!!i.immediate;t=P$(()=>({pause:r,immediate:s}),[r,s]);const{Provider:o}=A1;return O.createElement(o,{value:t},e)},A1=see(Dv,{});Dv.Provider=A1.Provider;Dv.Consumer=A1.Consumer;function see(n,e){return Object.assign(n,O.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}const oee=()=>{const n=[],e=function(r){b$();const s=[];return on(n,(o,a)=>{if(ze.und(r))s.push(o.start());else{const l=t(r,o,a);l&&s.push(o.start(l))}}),s};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){const r=n.indexOf(i);~r&&n.splice(r,1)},e.pause=function(){return on(n,i=>i.pause(...arguments)),this},e.resume=function(){return on(n,i=>i.resume(...arguments)),this},e.set=function(i){on(n,r=>r.set(i))},e.start=function(i){const r=[];return on(n,(s,o)=>{if(ze.und(i))r.push(s.start());else{const a=this._getProps(i,s,o);a&&r.push(s.start(a))}}),r},e.stop=function(){return on(n,i=>i.stop(...arguments)),this},e.update=function(i){return on(n,(r,s)=>r.update(this._getProps(i,r,s))),this};const t=function(r,s,o){return ze.fun(r)?r(o,s):r};return e._getProps=t,e};function aee(n,e,t){const i=ze.fun(e)&&e;i&&!t&&(t=[]);const r=O.useMemo(()=>i||arguments.length==3?oee():void 0,[]),s=O.useRef(0),o=yB(),a=O.useMemo(()=>({ctrls:[],queue:[],flush(g,A){const S=e8(g,A);return s.current>0&&!a.queue.length&&!Object.keys(S).some(P=>!g.springs[P])?iA(g,A):new Promise(P=>{PB(g,S),a.queue.push(()=>{P(iA(g,A))}),o()})}}),[]),l=O.useRef([...a.ctrls]),c=[],f=Gb(n)||0;O.useMemo(()=>{on(l.current.slice(n,f),g=>{W$(g,r),g.stop(!0)}),l.current.length=n,h(f,n)},[n]),O.useMemo(()=>{h(0,Math.min(f,n))},t);function h(g,A){for(let S=g;S<A;S++){const C=l.current[S]||(l.current[S]=new nee(null,a.flush)),P=i?i(S,C):e[S];P&&(c[S]=q$(P))}}const p=l.current.map((g,A)=>e8(g,c[A])),m=O.useContext(Dv),v=Gb(m),_=m!==v&&V$(m);Q4(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],on(g,A=>A())),on(l.current,(A,S)=>{r==null||r.add(A),_&&A.start({default:m});const C=c[S];C&&(j$(A,C.ref),A.ref?A.queue.push(C):A.start(C))})}),xB(()=>()=>{on(a.ctrls,g=>g.stop(!0))});const x=p.map(g=>yi({},g));return r?[x,r]:x}function lee(n,e){const t=ze.fun(n),[[i],r]=aee(1,t?n:[n],t?[]:e);return t||arguments.length==2?[i,r]:i}let t8;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(t8||(t8={}));class cee extends iM{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Hh(...t);const i=this._get(),r=Q3(i);q4(this,r.create(i))}advance(e){const t=this._get(),i=this.get();Mo(t,i)||(Vs(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&n8(this._active)&&Ix(this)}_get(){const e=ze.arr(this.source)?this.source.map(Zr):os(Zr(this.source));return this.calc(...e)}_start(){this.idle&&!n8(this._active)&&(this.idle=!1,on(Lv(this),e=>{e.done=!1}),ro.skipAnimation?(Ct.batchedUpdates(()=>this.advance()),Ix(this)):Rv.start(this))}_attach(){let e=1;on(os(this.source),t=>{js(t)&&Tp(t,this),eA(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){on(os(this.source),e=>{js(e)&&y1(e,this)}),this._active.clear(),Ix(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=os(this.source).reduce((t,i)=>Math.max(t,(eA(i)?i.priority:0)+1),0))}}function uee(n){return n.idle!==!1}function n8(n){return!n.size||Array.from(n).every(uee)}function Ix(n){n.idle||(n.idle=!0,on(Lv(n),e=>{e.done=!0}),v1(n,{type:"idle",parent:n}))}ro.assign({createStringInterpolator:gB,to:(n,e)=>new cee(n,e)});const fee=["primitive"].concat(Object.keys(wI).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));ro.assign({createStringInterpolator:gB,colors:r$,frameLoop:"demand"});hQ(()=>{Ct.advance()});const dee=k$(fee,{applyAnimatedValues:To}),hee=dee.animated;function pee({enabled:n=!0,snap:e,global:t,domElement:i,cursor:r=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:c=[0,Math.PI/2],azimuth:f=[-1/0,1/0],config:h={mass:1,tension:170,friction:26}}){const p=En(E=>E.events),m=En(E=>E.gl),v=i||p.connected||m.domElement,{size:_}=En(),x=O.useMemo(()=>[a[0]+c[0],a[0]+c[1]],[a[0],c[0],c[1]]),g=O.useMemo(()=>[a[1]+f[0],a[1]+f[1]],[a[1],f[0],f[1]]),A=O.useMemo(()=>[Ks.clamp(a[0],...x),Ks.clamp(a[1],...g),a[2]],[a[0],a[1],a[2],x,g]),[S,C]=lee(()=>({scale:1,rotation:A,config:h}));O.useEffect(()=>void C.start({scale:1,rotation:A,config:h}),[A]),O.useEffect(()=>{if(t&&r&&n)return v.style.cursor="grab",m.domElement.style.cursor="",()=>{v.style.cursor="default",m.domElement.style.cursor="default"}},[t,r,v,n]);const P=Qq({onHover:({last:E})=>{r&&!t&&n&&(v.style.cursor=E?"auto":"grab")},onDrag:({down:E,delta:[I,B],memo:[R,b]=S.rotation.animation.to||A})=>{if(!n)return[B,I];r&&(v.style.cursor=E?"grabbing":"grab"),I=Ks.clamp(b+I/_.width*Math.PI*o,...g),B=Ks.clamp(R+B/_.height*Math.PI*o,...x);const k=e&&!E&&typeof e!="boolean"?e:h;return C.start({scale:E&&B>x[1]/2?l:1,rotation:e&&!E?A:[B,I,0],config:Y=>Y==="scale"?{...k,friction:k.friction*3}:k}),[B,I]}},{target:t?v:void 0});return O.createElement(hee.group,ss({},P==null?void 0:P(),S),s)}function i8(n,e){if(e===f7)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===c1||e===qS){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===c1)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const mee=parseInt(xc.replace(/\D+/g,""));var ns=Uint8Array,Ra=Uint16Array,rA=Uint32Array,DB=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),NB=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gee=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FB=function(n,e){for(var t=new Ra(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new rA(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},OB=FB(DB,2),kB=OB[0],vee=OB[1];kB[28]=258,vee[258]=28;var yee=FB(NB,0),xee=yee[0],sA=new Ra(32768);for(var xn=0;xn<32768;++xn){var ma=(xn&43690)>>>1|(xn&21845)<<1;ma=(ma&52428)>>>2|(ma&13107)<<2,ma=(ma&61680)>>>4|(ma&3855)<<4,sA[xn]=((ma&65280)>>>8|(ma&255)<<8)>>>1}var nh=function(n,e,t){for(var i=n.length,r=0,s=new Ra(e);r<i;++r)++s[n[r]-1];var o=new Ra(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(t){a=new Ra(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],f=e-n[r],h=o[n[r]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)a[sA[h]>>>l]=c}else for(a=new Ra(i),r=0;r<i;++r)n[r]&&(a[r]=sA[o[n[r]-1]++]>>>15-n[r]);return a},bp=new ns(288);for(var xn=0;xn<144;++xn)bp[xn]=8;for(var xn=144;xn<256;++xn)bp[xn]=9;for(var xn=256;xn<280;++xn)bp[xn]=7;for(var xn=280;xn<288;++xn)bp[xn]=8;var UB=new ns(32);for(var xn=0;xn<32;++xn)UB[xn]=5;var _ee=nh(bp,9,1),Aee=nh(UB,5,1),Bx=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ys=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},Lx=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},See=function(n){return(n/8|0)+(n&7&&1)},Mee=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof Ra?Ra:n instanceof rA?rA:ns)(t-e);return i.set(n.subarray(e,t)),i},Cee=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new ns(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new ns(i*3));var o=function(Se){var be=e.length;if(Se>be){var ot=new ns(Math.max(be*2,Se));ot.set(e),e=ot}},a=t.f||0,l=t.p||0,c=t.b||0,f=t.l,h=t.d,p=t.m,m=t.n,v=i*8;do{if(!f){t.f=a=ys(n,l,1);var _=ys(n,l+1,3);if(l+=3,_)if(_==1)f=_ee,h=Aee,p=9,m=5;else if(_==2){var S=ys(n,l,31)+257,C=ys(n,l+10,15)+4,P=S+ys(n,l+5,31)+1;l+=14;for(var E=new ns(P),I=new ns(19),B=0;B<C;++B)I[gee[B]]=ys(n,l+B*3,7);l+=C*3;for(var R=Bx(I),b=(1<<R)-1,k=nh(I,R,1),B=0;B<P;){var Y=k[ys(n,l,b)];l+=Y&15;var x=Y>>>4;if(x<16)E[B++]=x;else{var G=0,q=0;for(x==16?(q=3+ys(n,l,3),l+=2,G=E[B-1]):x==17?(q=3+ys(n,l,7),l+=3):x==18&&(q=11+ys(n,l,127),l+=7);q--;)E[B++]=G}}var $=E.subarray(0,S),ie=E.subarray(S);p=Bx($),m=Bx(ie),f=nh($,p,1),h=nh(ie,m,1)}else throw"invalid block type";else{var x=See(l)+4,g=n[x-4]|n[x-3]<<8,A=x+g;if(A>i){if(s)throw"unexpected EOF";break}r&&o(c+g),e.set(n.subarray(x,A),c),t.b=c+=g,t.p=l=A*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}r&&o(c+131072);for(var pe=(1<<p)-1,F=(1<<m)-1,K=l;;K=l){var G=f[Lx(n,l)&pe],V=G>>>4;if(l+=G&15,l>v){if(s)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if(V<256)e[c++]=V;else if(V==256){K=l,f=null;break}else{var ne=V-254;if(V>264){var B=V-257,ue=DB[B];ne=ys(n,l,(1<<ue)-1)+kB[B],l+=ue}var Be=h[Lx(n,l)&F],se=Be>>>4;if(!Be)throw"invalid distance";l+=Be&15;var ie=xee[se];if(se>3){var ue=NB[se];ie+=Lx(n,l)&(1<<ue)-1,l+=ue}if(l>v){if(s)throw"unexpected EOF";break}r&&o(c+131072);for(var we=c+ne;c<we;c+=4)e[c]=e[c-ie],e[c+1]=e[c+1-ie],e[c+2]=e[c+2-ie],e[c+3]=e[c+3-ie];c=we}}t.l=f,t.p=K,t.b=c,f&&(a=1,t.m=p,t.d=h,t.n=m)}while(!a);return c==e.length?e:Mee(e,0,c)},wee=new ns(0),Eee=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function X0(n,e){return Cee((Eee(n),n.subarray(2,-4)),e)}var Tee=typeof TextDecoder<"u"&&new TextDecoder,bee=0;try{Tee.decode(wee,{stream:!0}),bee=1}catch{}const Ree=n=>n&&n.isCubeTexture;class Pee extends An{constructor(e,t){var i,r;const s=Ree(e),a=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),f=3*Math.max(c,16*7),h=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(xc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,_={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new vp(1,16),g=new Pi({uniforms:_,fragmentShader:v,vertexShader:m,side:es});super(x,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Iee=Object.defineProperty,Bee=(n,e,t)=>e in n?Iee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,At=(n,e,t)=>(Bee(n,typeof e!="symbol"?e+"":e,t),t);const J0=new _c,r8=new Eo,Lee=Math.cos(70*(Math.PI/180)),s8=(n,e)=>(n%e+e)%e;let Dee=class extends oo{constructor(e,t){super(),At(this,"object"),At(this,"domElement"),At(this,"enabled",!0),At(this,"target",new H),At(this,"minDistance",0),At(this,"maxDistance",1/0),At(this,"minZoom",0),At(this,"maxZoom",1/0),At(this,"minPolarAngle",0),At(this,"maxPolarAngle",Math.PI),At(this,"minAzimuthAngle",-1/0),At(this,"maxAzimuthAngle",1/0),At(this,"enableDamping",!1),At(this,"dampingFactor",.05),At(this,"enableZoom",!0),At(this,"zoomSpeed",1),At(this,"enableRotate",!0),At(this,"rotateSpeed",1),At(this,"enablePan",!0),At(this,"panSpeed",1),At(this,"screenSpacePanning",!0),At(this,"keyPanSpeed",7),At(this,"zoomToCursor",!1),At(this,"autoRotate",!1),At(this,"autoRotateSpeed",2),At(this,"reverseOrbit",!1),At(this,"reverseHorizontalOrbit",!1),At(this,"reverseVerticalOrbit",!1),At(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),At(this,"mouseButtons",{LEFT:Nl.ROTATE,MIDDLE:Nl.DOLLY,RIGHT:Nl.PAN}),At(this,"touches",{ONE:Fl.ROTATE,TWO:Fl.DOLLY_PAN}),At(this,"target0"),At(this,"position0"),At(this,"zoom0"),At(this,"_domElementKeyEvents",null),At(this,"getPolarAngle"),At(this,"getAzimuthalAngle"),At(this,"setPolarAngle"),At(this,"setAzimuthalAngle"),At(this,"getDistance"),At(this,"listenToKeyEvents"),At(this,"stopListenToKeyEvents"),At(this,"saveState"),At(this,"reset"),At(this,"update"),At(this,"connect"),At(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=te=>{let _e=s8(te,2*Math.PI),Q=f.phi;Q<0&&(Q+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let ye=Math.abs(_e-Q);2*Math.PI-ye<ye&&(_e<Q?_e+=2*Math.PI:Q+=2*Math.PI),h.phi=_e-Q,i.update()},this.setAzimuthalAngle=te=>{let _e=s8(te,2*Math.PI),Q=f.theta;Q<0&&(Q+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let ye=Math.abs(_e-Q);2*Math.PI-ye<ye&&(_e<Q?_e+=2*Math.PI:Q+=2*Math.PI),h.theta=_e-Q,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",yt),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",yt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const te=new H,_e=new H(0,1,0),Q=new $n().setFromUnitVectors(e.up,_e),ye=Q.clone().invert(),ee=new H,Fe=new $n,Ve=2*Math.PI;return function(){const Xt=i.object.position;Q.setFromUnitVectors(e.up,_e),ye.copy(Q).invert(),te.copy(Xt).sub(i.target),te.applyQuaternion(Q),f.setFromVector3(te),i.autoRotate&&l===a.NONE&&q(Y()),i.enableDamping?(f.theta+=h.theta*i.dampingFactor,f.phi+=h.phi*i.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Ut=i.minAzimuthAngle,nn=i.maxAzimuthAngle;isFinite(Ut)&&isFinite(nn)&&(Ut<-Math.PI?Ut+=Ve:Ut>Math.PI&&(Ut-=Ve),nn<-Math.PI?nn+=Ve:nn>Math.PI&&(nn-=Ve),Ut<=nn?f.theta=Math.max(Ut,Math.min(nn,f.theta)):f.theta=f.theta>(Ut+nn)/2?Math.max(Ut,f.theta):Math.min(nn,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?f.radius=ue(f.radius):f.radius=ue(f.radius*p),te.setFromSpherical(f),te.applyQuaternion(ye),Xt.copy(i.target).add(te),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Dt=!1;if(i.zoomToCursor&&R){let Wn=null;if(i.object instanceof Ln&&i.object.isPerspectiveCamera){const hn=te.length();Wn=ue(hn*p);const fs=hn-Wn;i.object.position.addScaledVector(I,fs),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const hn=new H(B.x,B.y,0);hn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Dt=!0;const fs=new H(B.x,B.y,0);fs.unproject(i.object),i.object.position.sub(fs).add(hn),i.object.updateMatrixWorld(),Wn=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Wn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Wn).add(i.object.position):(J0.origin.copy(i.object.position),J0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(J0.direction))<Lee?e.lookAt(i.target):(r8.setFromNormalAndCoplanarPoint(i.object.up,i.target),J0.intersectPlane(r8,i.target))))}else i.object instanceof ws&&i.object.isOrthographicCamera&&(Dt=p!==1,Dt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Dt||ee.distanceToSquared(i.object.position)>c||8*(1-Fe.dot(i.object.quaternion))>c?(i.dispatchEvent(r),ee.copy(i.object.position),Fe.copy(i.object.quaternion),Dt=!1,!0):!1}})(),this.connect=te=>{te===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=te,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",wt),i.domElement.addEventListener("pointerdown",fe),i.domElement.addEventListener("pointercancel",Pe),i.domElement.addEventListener("wheel",Ue)},this.dispose=()=>{var te,_e,Q,ye,ee,Fe;i.domElement&&(i.domElement.style.touchAction="auto"),(te=i.domElement)==null||te.removeEventListener("contextmenu",wt),(_e=i.domElement)==null||_e.removeEventListener("pointerdown",fe),(Q=i.domElement)==null||Q.removeEventListener("pointercancel",Pe),(ye=i.domElement)==null||ye.removeEventListener("wheel",Ue),(ee=i.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",Re),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointerup",Ie),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",yt)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new z3,h=new z3;let p=1;const m=new H,v=new Te,_=new Te,x=new Te,g=new Te,A=new Te,S=new Te,C=new Te,P=new Te,E=new Te,I=new H,B=new Te;let R=!1;const b=[],k={};function Y(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function q(te){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=te:h.theta-=te}function $(te){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=te:h.phi-=te}const ie=(()=>{const te=new H;return function(Q,ye){te.setFromMatrixColumn(ye,0),te.multiplyScalar(-Q),m.add(te)}})(),pe=(()=>{const te=new H;return function(Q,ye){i.screenSpacePanning===!0?te.setFromMatrixColumn(ye,1):(te.setFromMatrixColumn(ye,0),te.crossVectors(i.object.up,te)),te.multiplyScalar(Q),m.add(te)}})(),F=(()=>{const te=new H;return function(Q,ye){const ee=i.domElement;if(ee&&i.object instanceof Ln&&i.object.isPerspectiveCamera){const Fe=i.object.position;te.copy(Fe).sub(i.target);let Ve=te.length();Ve*=Math.tan(i.object.fov/2*Math.PI/180),ie(2*Q*Ve/ee.clientHeight,i.object.matrix),pe(2*ye*Ve/ee.clientHeight,i.object.matrix)}else ee&&i.object instanceof ws&&i.object.isOrthographicCamera?(ie(Q*(i.object.right-i.object.left)/i.object.zoom/ee.clientWidth,i.object.matrix),pe(ye*(i.object.top-i.object.bottom)/i.object.zoom/ee.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function K(te){i.object instanceof Ln&&i.object.isPerspectiveCamera||i.object instanceof ws&&i.object.isOrthographicCamera?p/=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(te){i.object instanceof Ln&&i.object.isPerspectiveCamera||i.object instanceof ws&&i.object.isOrthographicCamera?p*=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(te){if(!i.zoomToCursor||!i.domElement)return;R=!0;const _e=i.domElement.getBoundingClientRect(),Q=te.clientX-_e.left,ye=te.clientY-_e.top,ee=_e.width,Fe=_e.height;B.x=Q/ee*2-1,B.y=-(ye/Fe)*2+1,I.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function ue(te){return Math.max(i.minDistance,Math.min(i.maxDistance,te))}function Be(te){v.set(te.clientX,te.clientY)}function se(te){ne(te),C.set(te.clientX,te.clientY)}function we(te){g.set(te.clientX,te.clientY)}function Se(te){_.set(te.clientX,te.clientY),x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(q(2*Math.PI*x.x/_e.clientHeight),$(2*Math.PI*x.y/_e.clientHeight)),v.copy(_),i.update()}function be(te){P.set(te.clientX,te.clientY),E.subVectors(P,C),E.y>0?K(G()):E.y<0&&V(G()),C.copy(P),i.update()}function ot(te){A.set(te.clientX,te.clientY),S.subVectors(A,g).multiplyScalar(i.panSpeed),F(S.x,S.y),g.copy(A),i.update()}function _t(te){ne(te),te.deltaY<0?V(G()):te.deltaY>0&&K(G()),i.update()}function ae(te){let _e=!1;switch(te.code){case i.keys.UP:F(0,i.keyPanSpeed),_e=!0;break;case i.keys.BOTTOM:F(0,-i.keyPanSpeed),_e=!0;break;case i.keys.LEFT:F(i.keyPanSpeed,0),_e=!0;break;case i.keys.RIGHT:F(-i.keyPanSpeed,0),_e=!0;break}_e&&(te.preventDefault(),i.update())}function ht(){if(b.length==1)v.set(b[0].pageX,b[0].pageY);else{const te=.5*(b[0].pageX+b[1].pageX),_e=.5*(b[0].pageY+b[1].pageY);v.set(te,_e)}}function me(){if(b.length==1)g.set(b[0].pageX,b[0].pageY);else{const te=.5*(b[0].pageX+b[1].pageX),_e=.5*(b[0].pageY+b[1].pageY);g.set(te,_e)}}function ve(){const te=b[0].pageX-b[1].pageX,_e=b[0].pageY-b[1].pageY,Q=Math.sqrt(te*te+_e*_e);C.set(0,Q)}function he(){i.enableZoom&&ve(),i.enablePan&&me()}function De(){i.enableZoom&&ve(),i.enableRotate&&ht()}function Le(te){if(b.length==1)_.set(te.pageX,te.pageY);else{const Q=Mt(te),ye=.5*(te.pageX+Q.x),ee=.5*(te.pageY+Q.y);_.set(ye,ee)}x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(q(2*Math.PI*x.x/_e.clientHeight),$(2*Math.PI*x.y/_e.clientHeight)),v.copy(_)}function Ze(te){if(b.length==1)A.set(te.pageX,te.pageY);else{const _e=Mt(te),Q=.5*(te.pageX+_e.x),ye=.5*(te.pageY+_e.y);A.set(Q,ye)}S.subVectors(A,g).multiplyScalar(i.panSpeed),F(S.x,S.y),g.copy(A)}function at(te){const _e=Mt(te),Q=te.pageX-_e.x,ye=te.pageY-_e.y,ee=Math.sqrt(Q*Q+ye*ye);P.set(0,ee),E.set(0,Math.pow(P.y/C.y,i.zoomSpeed)),K(E.y),C.copy(P)}function Z(te){i.enableZoom&&at(te),i.enablePan&&Ze(te)}function U(te){i.enableZoom&&at(te),i.enableRotate&&Le(te)}function fe(te){var _e,Q;i.enabled!==!1&&(b.length===0&&((_e=i.domElement)==null||_e.ownerDocument.addEventListener("pointermove",Re),(Q=i.domElement)==null||Q.ownerDocument.addEventListener("pointerup",Ie)),pt(te),te.pointerType==="touch"?Oe(te):it(te))}function Re(te){i.enabled!==!1&&(te.pointerType==="touch"?rt(te):Ge(te))}function Ie(te){var _e,Q,ye;Je(te),b.length===0&&((_e=i.domElement)==null||_e.releasePointerCapture(te.pointerId),(Q=i.domElement)==null||Q.ownerDocument.removeEventListener("pointermove",Re),(ye=i.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",Ie)),i.dispatchEvent(o),l=a.NONE}function Pe(te){Je(te)}function it(te){let _e;switch(te.button){case 0:_e=i.mouseButtons.LEFT;break;case 1:_e=i.mouseButtons.MIDDLE;break;case 2:_e=i.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Nl.DOLLY:if(i.enableZoom===!1)return;se(te),l=a.DOLLY;break;case Nl.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(i.enablePan===!1)return;we(te),l=a.PAN}else{if(i.enableRotate===!1)return;Be(te),l=a.ROTATE}break;case Nl.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(i.enableRotate===!1)return;Be(te),l=a.ROTATE}else{if(i.enablePan===!1)return;we(te),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ge(te){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Se(te);break;case a.DOLLY:if(i.enableZoom===!1)return;be(te);break;case a.PAN:if(i.enablePan===!1)return;ot(te);break}}function Ue(te){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(te.preventDefault(),i.dispatchEvent(s),_t(te),i.dispatchEvent(o))}function yt(te){i.enabled===!1||i.enablePan===!1||ae(te)}function Oe(te){switch(lt(te),b.length){case 1:switch(i.touches.ONE){case Fl.ROTATE:if(i.enableRotate===!1)return;ht(),l=a.TOUCH_ROTATE;break;case Fl.PAN:if(i.enablePan===!1)return;me(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Fl.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;he(),l=a.TOUCH_DOLLY_PAN;break;case Fl.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;De(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function rt(te){switch(lt(te),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Le(te),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ze(te),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Z(te),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;U(te),i.update();break;default:l=a.NONE}}function wt(te){i.enabled!==!1&&te.preventDefault()}function pt(te){b.push(te)}function Je(te){delete k[te.pointerId];for(let _e=0;_e<b.length;_e++)if(b[_e].pointerId==te.pointerId){b.splice(_e,1);return}}function lt(te){let _e=k[te.pointerId];_e===void 0&&(_e=new Te,k[te.pointerId]=_e),_e.set(te.pageX,te.pageY)}function Mt(te){const _e=te.pointerId===b[0].pointerId?b[1]:b[0];return k[_e.pointerId]}t!==void 0&&this.connect(t),this.update()}};class rM extends Ii{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Uee(t)}),this.register(function(t){return new Jee(t)}),this.register(function(t){return new Kee(t)}),this.register(function(t){return new Yee(t)}),this.register(function(t){return new zee(t)}),this.register(function(t){return new Gee(t)}),this.register(function(t){return new Vee(t)}),this.register(function(t){return new Wee(t)}),this.register(function(t){return new kee(t)}),this.register(function(t){return new jee(t)}),this.register(function(t){return new Hee(t)}),this.register(function(t){return new Xee(t)}),this.register(function(t){return new Fee(t)}),this.register(function(t){return new Zee(t)}),this.register(function(t){return new Qee(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=to.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ti(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(to.decodeText(new Uint8Array(e.slice(0,4)))===HB){try{o[Gt.KHR_BINARY_GLTF]=new qee(e)}catch(f){r&&r(f);return}s=JSON.parse(o[Gt.KHR_BINARY_GLTF].content)}else s=JSON.parse(to.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new fte(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](l);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const f=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(f){case Gt.KHR_MATERIALS_UNLIT:o[f]=new Oee;break;case Gt.KHR_DRACO_MESH_COMPRESSION:o[f]=new $ee(s,this.dracoLoader);break;case Gt.KHR_TEXTURE_TRANSFORM:o[f]=new ete;break;case Gt.KHR_MESH_QUANTIZATION:o[f]=new tte;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Nee(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Gt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fee{constructor(e){this.parser=e,this.name=Gt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const f=new We(16777215);l.color!==void 0&&f.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new R4(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new b4(f),c.distance=h;break;case"spot":c=new T4(f),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Aa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Oee{constructor(){this.name=Gt.KHR_MATERIALS_UNLIT}getMaterialType(){return hr}extendParams(e,t,i){const r=[];e.color=new We(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class kee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Uee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Te(a,a)}return Promise.all(s)}}class Hee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class zee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new We(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Gee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Vee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new We(a[0],a[1],a[2]),Promise.all(s)}}class Wee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class jee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new We(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Xee{constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Jee{constructor(e){this.parser=e,this.name=Gt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Kee{constructor(e){this.parser=e,this.name=Gt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Yee{constructor(e){this.parser=e,this.name=Gt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Zee{constructor(e){this.name=Gt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,f=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(m),f,h,p,r.mode,r.filter),m})})}else return null}}class Qee{constructor(e){this.name=Gt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Yr.TRIANGLES&&c.mode!==Yr.TRIANGLE_STRIP&&c.mode!==Yr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(f=>(l[c]=f,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const f=c.pop(),h=f.isGroup?f.children:[f],p=c[0].count,m=[];for(const v of h){const _=new dt,x=new H,g=new $n,A=new H(1,1,1),S=new d4(v.geometry,v.material,p);for(let C=0;C<p;C++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,C),l.SCALE&&A.fromBufferAttribute(l.SCALE,C),S.setMatrixAt(C,_.compose(x,g,A));for(const C in l)C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&v.geometry.setAttribute(C,l[C]);Wt.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const HB="glTF",wd=12,o8={JSON:1313821514,BIN:5130562};class qee{constructor(e){this.name=Gt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,wd);if(this.header={magic:to.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==HB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-wd,r=new DataView(e,wd);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===o8.JSON){const l=new Uint8Array(e,wd+s,o);this.content=to.decodeText(l)}else if(a===o8.BIN){const l=wd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class $ee{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const f in o){const h=oA[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=oA[f]||f.toLowerCase();if(o[f]!==void 0){const p=i.accessors[e.attributes[f]],m=Zu[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(h){r.decodeDracoFile(f,function(p){for(const m in p.attributes){const v=p.attributes[m],_=l[m];_!==void 0&&(v.normalized=_)}h(p)},a,c)})})}}class ete{constructor(){this.name=Gt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class tte{constructor(){this.name=Gt.KHR_MESH_QUANTIZATION}}class zB extends Pf{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,f=r-t,h=(i-t)/f,p=h*h,m=p*h,v=e*c,_=v-c,x=-2*m+3*p,g=m-p,A=1-x,S=g-p+h;for(let C=0;C!==a;C++){const P=o[_+C+a],E=o[_+C+l]*f,I=o[v+C+a],B=o[v+C]*f;s[C]=A*P+S*E+x*I+g*B}return s}}const nte=new $n;class ite extends zB{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return nte.fromArray(s).normalize().toArray(s),s}}const Yr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Zu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},a8={9728:Qn,9729:qt,9984:$1,9985:Xu,9986:jl,9987:rs},l8={33071:Zn,33648:af,10497:Ya},Dx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},oA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...mee>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ga={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},rte={CUBICSPLINE:void 0,LINEAR:dc,STEP:cf},Nx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ste(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new _p({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:no})),n.DefaultMaterial}function Pl(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Aa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ote(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,f=e.length;c<f;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const f=c[0],h=c[1],p=c[2];return i&&(n.morphAttributes.position=f),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function ate(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function lte(n){let e;const t=n.extensions&&n.extensions[Gt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Fx(t.attributes):e=n.indices+":"+Fx(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Fx(n.targets[i]);return e}function Fx(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function aA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function cte(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ute=new dt;class fte{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Nee,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new dI(this.options.manager):this.textureLoader=new _I(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ti(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Pl(s,a,r),Aa(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,f]of o.children.entries())s(f,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Gt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(to.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Dx[r.type],a=Zu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new jt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Dx[r.type],c=Zu[r.componentType],f=c.BYTES_PER_ELEMENT,h=f*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let _,x;if(m&&m!==h){const g=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(A);S||(_=new c(a,g*m,r.count*m/f),S=new pp(_,m/f),t.cache.add(A,S)),x=new Qa(S,l,p%m/f,v)}else a===null?_=new c(r.count*l):_=new c(a,p,r.count*l),x=new jt(_,l,v);if(r.sparse!==void 0){const g=Dx.SCALAR,A=Zu[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,P=new A(o[1],S,r.sparse.count*g),E=new c(o[2],C,r.sparse.count*l);a!==null&&(x=new jt(x.array.slice(),x.itemSize,x.normalized));for(let I=0,B=P.length;I<B;I++){const R=P[I];if(x.setX(R,E[I*l]),l>=2&&x.setY(R,E[I*l+1]),l>=3&&x.setZ(R,E[I*l+2]),l>=4&&x.setW(R,E[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=a8[p.magFilter]||qt,f.minFilter=a8[p.minFilter]||rs,f.wrapS=l8[p.wrapS]||Ya,f.wrapT=l8[p.wrapT]||Ya,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(_){const x=new $t(_);x.needsUpdate=!0,p(x)}),t.load(to.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||cte(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Gt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Gt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Gt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new uv,si.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Xi,si.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return _p}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Gt.KHR_MATERIALS_UNLIT]){const h=r[Gt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new We(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=es);const f=s.alphaMode||Nx.OPAQUE;if(f===Nx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===Nx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==hr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Te(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==hr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==hr&&(a.emissive=new We().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==hr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Aa(h,s),t.associations.set(h,{materials:e}),s.extensions&&Pl(r,h,s),h})}createUniqueName(e){const t=Vt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Gt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return c8(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],f=lte(c),h=r[f];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Gt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=c8(new Pt,c,t),r[f]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const f=o[l].material===void 0?ste(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let m=0,v=f.length;m<v;m++){const _=f[m],x=o[m];let g;const A=c[m];if(x.mode===Yr.TRIANGLES||x.mode===Yr.TRIANGLE_STRIP||x.mode===Yr.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new f4(_,A):new An(_,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===Yr.TRIANGLE_STRIP?g.geometry=i8(g.geometry,qS):x.mode===Yr.TRIANGLE_FAN&&(g.geometry=i8(g.geometry,c1));else if(x.mode===Yr.LINES)g=new Ps(_,A);else if(x.mode===Yr.LINE_STRIP)g=new Wo(_,A);else if(x.mode===Yr.LINE_LOOP)g=new h4(_,A);else if(x.mode===Yr.POINTS)g=new p4(_,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&ate(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Aa(g,s),x.extensions&&Pl(r,g,x),t.assignFinalMaterial(g),h.push(g)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Pl(r,h[0],s),h[0];const p=new Lo;s.extensions&&Pl(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ln(Ks.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new ws(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Aa(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,f=o.length;c<f;c++){const h=o[c];if(h){a.push(h);const p=new dt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new mp(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let f=0,h=i.channels.length;f<h;f++){const p=i.channels[f],m=i.samplers[p.sampler],v=p.target,_=v.node,x=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",x)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(f){const h=f[0],p=f[1],m=f[2],v=f[3],_=f[4],x=[];for(let g=0,A=h.length;g<A;g++){const S=h[g],C=p[g],P=m[g],E=v[g],I=_[g];if(S===void 0)continue;S.updateMatrix();let B;switch(ga[I.path]){case ga.weights:B=pf;break;case ga.rotation:B=qa;break;case ga.position:case ga.scale:default:B=mf;break}const R=S.name?S.name:S.uuid,b=E.interpolation!==void 0?rte[E.interpolation]:dc,k=[];ga[I.path]===ga.weights?S.traverse(function(G){G.morphTargetInfluences&&k.push(G.name?G.name:G.uuid)}):k.push(R);let Y=P.array;if(P.normalized){const G=aA(Y.constructor),q=new Float32Array(Y.length);for(let $=0,ie=Y.length;$<ie;$++)q[$]=Y[$]*G;Y=q}for(let G=0,q=k.length;G<q;G++){const $=new B(k[G]+"."+ga[I.path],C.array,Y,b);E.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(pe){const F=this instanceof qa?ite:zB;return new F(this.times,this.values,this.getValueSize()/3,pe)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push($)}}return new gf(r,void 0,x)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,f=a.length;c<f;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const f=c[0],h=c[1],p=c[2];p!==null&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(p,ute)});for(let m=0,v=h.length;m<v;m++)f.add(h[m]);return f})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let f;if(s.isBone===!0?f=new cv:c.length>1?f=new Lo:c.length===1?f=c[0]:f=new Wt,f!==c[0])for(let h=0,p=c.length;h<p;h++)f.add(c[h]);if(s.name&&(f.userData.name=s.name,f.name=o),Aa(f,s),s.extensions&&Pl(i,f,s),s.matrix!==void 0){const h=new dt;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return r.associations.has(f)||r.associations.set(f,{}),r.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Lo;i.name&&(s.name=r.createUniqueName(i.name)),Aa(s,i),i.extensions&&Pl(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,h=l.length;f<h;f++)s.add(l[f]);const c=f=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof si||p instanceof $t)&&h.set(p,m);return f.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=c(s),s})}}function dte(n,e,t){const i=e.attributes,r=new _i;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new H(l[0],l[1],l[2]),new H(c[0],c[1],c[2])),a.normalized){const f=aA(Zu[a.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new H,l=new H;for(let c=0,f=s.length;c<f;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const _=aA(Zu[p.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Ai;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function c8(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=oA[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Aa(n,e),dte(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?ote(n,e.targets,t):n})}const hte={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},pte={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class mte extends w4{constructor(e){super(e),this.type=vi}parse(e){const o=function(B,R){switch(B){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(R||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(R||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(R||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(R||""))}},f=`
`,h=function(B,R,b){R=R||1024;let Y=B.pos,G=-1,q=0,$="",ie=String.fromCharCode.apply(null,new Uint16Array(B.subarray(Y,Y+128)));for(;0>(G=ie.indexOf(f))&&q<R&&Y<B.byteLength;)$+=ie,q+=ie.length,Y+=128,ie+=String.fromCharCode.apply(null,new Uint16Array(B.subarray(Y,Y+128)));return-1<G?(B.pos+=q+G+1,$+ie.slice(0,G)):!1},p=function(B){const R=/^#\?(\S+)/,b=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,q={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let $,ie;for((B.pos>=B.byteLength||!($=h(B)))&&o(1,"no header found"),(ie=$.match(R))||o(3,"bad initial token"),q.valid|=1,q.programtype=ie[1],q.string+=$+`
`;$=h(B),$!==!1;){if(q.string+=$+`
`,$.charAt(0)==="#"){q.comments+=$+`
`;continue}if((ie=$.match(b))&&(q.gamma=parseFloat(ie[1])),(ie=$.match(k))&&(q.exposure=parseFloat(ie[1])),(ie=$.match(Y))&&(q.valid|=2,q.format=ie[1]),(ie=$.match(G))&&(q.valid|=4,q.height=parseInt(ie[1],10),q.width=parseInt(ie[2],10)),q.valid&2&&q.valid&4)break}return q.valid&2||o(3,"missing format specifier"),q.valid&4||o(3,"missing image size specifier"),q},m=function(B,R,b){const k=R;if(k<8||k>32767||B[0]!==2||B[1]!==2||B[2]&128)return new Uint8Array(B);k!==(B[2]<<8|B[3])&&o(3,"wrong scanline width");const Y=new Uint8Array(4*R*b);Y.length||o(4,"unable to allocate buffer space");let G=0,q=0;const $=4*k,ie=new Uint8Array(4),pe=new Uint8Array($);let F=b;for(;F>0&&q<B.byteLength;){q+4>B.byteLength&&o(1),ie[0]=B[q++],ie[1]=B[q++],ie[2]=B[q++],ie[3]=B[q++],(ie[0]!=2||ie[1]!=2||(ie[2]<<8|ie[3])!=k)&&o(3,"bad rgbe scanline format");let K=0,V;for(;K<$&&q<B.byteLength;){V=B[q++];const ue=V>128;if(ue&&(V-=128),(V===0||K+V>$)&&o(3,"bad scanline data"),ue){const Be=B[q++];for(let se=0;se<V;se++)pe[K++]=Be}else pe.set(B.subarray(q,q+V),K),K+=V,q+=V}const ne=k;for(let ue=0;ue<ne;ue++){let Be=0;Y[G]=pe[ue+Be],Be+=k,Y[G+1]=pe[ue+Be],Be+=k,Y[G+2]=pe[ue+Be],Be+=k,Y[G+3]=pe[ue+Be],G+=4}F--}return Y},v=function(B,R,b,k){const Y=B[R+3],G=Math.pow(2,Y-128)/255;b[k+0]=B[R+0]*G,b[k+1]=B[R+1]*G,b[k+2]=B[R+2]*G,b[k+3]=1},_=function(B,R,b,k){const Y=B[R+3],G=Math.pow(2,Y-128)/255;b[k+0]=Yl.toHalfFloat(Math.min(B[R+0]*G,65504)),b[k+1]=Yl.toHalfFloat(Math.min(B[R+1]*G,65504)),b[k+2]=Yl.toHalfFloat(Math.min(B[R+2]*G,65504)),b[k+3]=Yl.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const g=p(x),A=g.width,S=g.height,C=m(x.subarray(x.pos),A,S);let P,E,I;switch(this.type){case qn:I=C.length/4;const B=new Float32Array(I*4);for(let b=0;b<I;b++)v(C,b*4,B,b*4);P=B,E=qn;break;case vi:I=C.length/4;const R=new Uint16Array(I*4);for(let b=0;b<I;b++)_(C,b*4,R,b*4);P=R,E=vi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:S,data:P,header:g.string,gamma:g.gamma,exposure:g.exposure,type:E}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case qn:case vi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=qt,o.magFilter=qt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}const Ed="colorSpace"in new $t;class gte extends w4{constructor(e){super(e),this.type=vi}parse(e){const R=Math.pow(2.7182818,2.2);function b(D,T){for(var N=0,W=0;W<65536;++W)(W==0||D[W>>3]&1<<(W&7))&&(T[N++]=W);for(var j=N-1;N<65536;)T[N++]=0;return j}function k(D){for(var T=0;T<16384;T++)D[T]={},D[T].len=0,D[T].lit=0,D[T].p=null}const Y={l:0,c:0,lc:0};function G(D,T,N,W,j){for(;N<D;)T=T<<8|Mt(W,j),N+=8;N-=D,Y.l=T>>N&(1<<D)-1,Y.c=T,Y.lc=N}const q=new Array(59);function $(D){for(var T=0;T<=58;++T)q[T]=0;for(var T=0;T<65537;++T)q[D[T]]+=1;for(var N=0,T=58;T>0;--T){var W=N+q[T]>>1;q[T]=N,N=W}for(var T=0;T<65537;++T){var j=D[T];j>0&&(D[T]=j|q[j]++<<6)}}function ie(D,T,N,W,j,X,le){for(var ce=N,ge=0,Ae=0;j<=X;j++){if(ce.value-N.value>W)return!1;G(6,ge,Ae,D,ce);var Ee=Y.l;if(ge=Y.c,Ae=Y.lc,le[j]=Ee,Ee==63){if(ce.value-N.value>W)throw"Something wrong with hufUnpackEncTable";G(8,ge,Ae,D,ce);var Ce=Y.l+6;if(ge=Y.c,Ae=Y.lc,j+Ce>X+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)le[j++]=0;j--}else if(Ee>=59){var Ce=Ee-59+2;if(j+Ce>X+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)le[j++]=0;j--}}$(le)}function pe(D){return D&63}function F(D){return D>>6}function K(D,T,N,W){for(;T<=N;T++){var j=F(D[T]),X=pe(D[T]);if(j>>X)throw"Invalid table entry";if(X>14){var le=W[j>>X-14];if(le.len)throw"Invalid table entry";if(le.lit++,le.p){var ce=le.p;le.p=new Array(le.lit);for(var ge=0;ge<le.lit-1;++ge)le.p[ge]=ce[ge]}else le.p=new Array(1);le.p[le.lit-1]=T}else if(X)for(var Ae=0,ge=1<<14-X;ge>0;ge--){var le=W[(j<<14-X)+Ae];if(le.len||le.p)throw"Invalid table entry";le.len=X,le.lit=T,Ae++}}return!0}const V={c:0,lc:0};function ne(D,T,N,W){D=D<<8|Mt(N,W),T+=8,V.c=D,V.lc=T}const ue={c:0,lc:0};function Be(D,T,N,W,j,X,le,ce,ge,Ae){if(D==T){W<8&&(ne(N,W,j,le),N=V.c,W=V.lc),W-=8;var Ee=N>>W,Ee=new Uint8Array([Ee])[0];if(ge.value+Ee>Ae)return!1;for(var Ce=ce[ge.value-1];Ee-- >0;)ce[ge.value++]=Ce}else if(ge.value<Ae)ce[ge.value++]=D;else return!1;ue.c=N,ue.lc=W}function se(D){return D&65535}function we(D){var T=se(D);return T>32767?T-65536:T}const Se={a:0,b:0};function be(D,T){var N=we(D),W=we(T),j=W,X=N+(j&1)+(j>>1),le=X,ce=X-j;Se.a=le,Se.b=ce}function ot(D,T){var N=se(D),W=se(T),j=N-(W>>1)&65535,X=W+j-32768&65535;Se.a=X,Se.b=j}function _t(D,T,N,W,j,X,le){for(var ce=le<16384,ge=N>j?j:N,Ae=1,Ee;Ae<=ge;)Ae<<=1;for(Ae>>=1,Ee=Ae,Ae>>=1;Ae>=1;){for(var Ce=0,qe=Ce+X*(j-Ee),He=X*Ae,Ke=X*Ee,ct=W*Ae,mt=W*Ee,tt,je,vt,$e;Ce<=qe;Ce+=Ke){for(var Et=Ce,rn=Ce+W*(N-Ee);Et<=rn;Et+=mt){var St=Et+ct,sn=Et+He,Jt=sn+ct;ce?(be(D[Et+T],D[sn+T]),tt=Se.a,vt=Se.b,be(D[St+T],D[Jt+T]),je=Se.a,$e=Se.b,be(tt,je),D[Et+T]=Se.a,D[St+T]=Se.b,be(vt,$e),D[sn+T]=Se.a,D[Jt+T]=Se.b):(ot(D[Et+T],D[sn+T]),tt=Se.a,vt=Se.b,ot(D[St+T],D[Jt+T]),je=Se.a,$e=Se.b,ot(tt,je),D[Et+T]=Se.a,D[St+T]=Se.b,ot(vt,$e),D[sn+T]=Se.a,D[Jt+T]=Se.b)}if(N&Ae){var sn=Et+He;ce?be(D[Et+T],D[sn+T]):ot(D[Et+T],D[sn+T]),tt=Se.a,D[sn+T]=Se.b,D[Et+T]=tt}}if(j&Ae)for(var Et=Ce,rn=Ce+W*(N-Ee);Et<=rn;Et+=mt){var St=Et+ct;ce?be(D[Et+T],D[St+T]):ot(D[Et+T],D[St+T]),tt=Se.a,D[St+T]=Se.b,D[Et+T]=tt}Ee=Ae,Ae>>=1}return Ce}function ae(D,T,N,W,j,X,le,ce,ge,Ae){for(var Ee=0,Ce=0,qe=ce,He=Math.trunc(j.value+(X+7)/8);j.value<He;)for(ne(Ee,Ce,N,j),Ee=V.c,Ce=V.lc;Ce>=14;){var Ke=Ee>>Ce-14&16383,ct=T[Ke];if(ct.len)Ce-=ct.len,Be(ct.lit,le,Ee,Ce,N,W,j,ge,Ae,qe),Ee=ue.c,Ce=ue.lc;else{if(!ct.p)throw"hufDecode issues";var mt;for(mt=0;mt<ct.lit;mt++){for(var tt=pe(D[ct.p[mt]]);Ce<tt&&j.value<He;)ne(Ee,Ce,N,j),Ee=V.c,Ce=V.lc;if(Ce>=tt&&F(D[ct.p[mt]])==(Ee>>Ce-tt&(1<<tt)-1)){Ce-=tt,Be(ct.p[mt],le,Ee,Ce,N,W,j,ge,Ae,qe),Ee=ue.c,Ce=ue.lc;break}}if(mt==ct.lit)throw"hufDecode issues"}}var je=8-X&7;for(Ee>>=je,Ce-=je;Ce>0;){var ct=T[Ee<<14-Ce&16383];if(ct.len)Ce-=ct.len,Be(ct.lit,le,Ee,Ce,N,W,j,ge,Ae,qe),Ee=ue.c,Ce=ue.lc;else throw"hufDecode issues"}return!0}function ht(D,T,N,W,j,X){var le={value:0},ce=N.value,ge=lt(T,N),Ae=lt(T,N);N.value+=4;var Ee=lt(T,N);if(N.value+=4,ge<0||ge>=65537||Ae<0||Ae>=65537)throw"Something wrong with HUF_ENCSIZE";var Ce=new Array(65537),qe=new Array(16384);k(qe);var He=W-(N.value-ce);if(ie(D,T,N,He,ge,Ae,Ce),Ee>8*(W-(N.value-ce)))throw"Something wrong with hufUncompress";K(Ce,ge,Ae,qe),ae(Ce,qe,D,T,N,Ee,Ae,X,j,le)}function me(D,T,N){for(var W=0;W<N;++W)T[W]=D[T[W]]}function ve(D){for(var T=1;T<D.length;T++){var N=D[T-1]+D[T]-128;D[T]=N}}function he(D,T){for(var N=0,W=Math.floor((D.length+1)/2),j=0,X=D.length-1;!(j>X||(T[j++]=D[N++],j>X));)T[j++]=D[W++]}function De(D){for(var T=D.byteLength,N=new Array,W=0,j=new DataView(D);T>0;){var X=j.getInt8(W++);if(X<0){var le=-X;T-=le+1;for(var ce=0;ce<le;ce++)N.push(j.getUint8(W++))}else{var le=X;T-=2;for(var ge=j.getUint8(W++),ce=0;ce<le+1;ce++)N.push(ge)}}return N}function Le(D,T,N,W,j,X){var St=new DataView(X.buffer),le=N[D.idx[0]].width,ce=N[D.idx[0]].height,ge=3,Ae=Math.floor(le/8),Ee=Math.ceil(le/8),Ce=Math.ceil(ce/8),qe=le-(Ee-1)*8,He=ce-(Ce-1)*8,Ke={value:0},ct=new Array(ge),mt=new Array(ge),tt=new Array(ge),je=new Array(ge),vt=new Array(ge);for(let Tt=0;Tt<ge;++Tt)vt[Tt]=T[D.idx[Tt]],ct[Tt]=Tt<1?0:ct[Tt-1]+Ee*Ce,mt[Tt]=new Float32Array(64),tt[Tt]=new Uint16Array(64),je[Tt]=new Uint16Array(Ee*64);for(let Tt=0;Tt<Ce;++Tt){var $e=8;Tt==Ce-1&&($e=He);var Et=8;for(let en=0;en<Ee;++en){en==Ee-1&&(Et=qe);for(let zt=0;zt<ge;++zt)tt[zt].fill(0),tt[zt][0]=j[ct[zt]++],Ze(Ke,W,tt[zt]),at(tt[zt],mt[zt]),Z(mt[zt]);U(mt);for(let zt=0;zt<ge;++zt)fe(mt[zt],je[zt],en*64)}let bn=0;for(let en=0;en<ge;++en){const zt=N[D.idx[en]].type;for(let Mn=8*Tt;Mn<8*Tt+$e;++Mn){bn=vt[en][Mn];for(let lo=0;lo<Ae;++lo){const Ji=lo*64+(Mn&7)*8;St.setUint16(bn+0*2*zt,je[en][Ji+0],!0),St.setUint16(bn+1*2*zt,je[en][Ji+1],!0),St.setUint16(bn+2*2*zt,je[en][Ji+2],!0),St.setUint16(bn+3*2*zt,je[en][Ji+3],!0),St.setUint16(bn+4*2*zt,je[en][Ji+4],!0),St.setUint16(bn+5*2*zt,je[en][Ji+5],!0),St.setUint16(bn+6*2*zt,je[en][Ji+6],!0),St.setUint16(bn+7*2*zt,je[en][Ji+7],!0),bn+=8*2*zt}}if(Ae!=Ee)for(let Mn=8*Tt;Mn<8*Tt+$e;++Mn){const lo=vt[en][Mn]+8*Ae*2*zt,Ji=Ae*64+(Mn&7)*8;for(let Ls=0;Ls<Et;++Ls)St.setUint16(lo+Ls*2*zt,je[en][Ji+Ls],!0)}}}for(var rn=new Uint16Array(le),St=new DataView(X.buffer),sn=0;sn<ge;++sn){N[D.idx[sn]].decoded=!0;var Jt=N[D.idx[sn]].type;if(N[sn].type==2)for(var an=0;an<ce;++an){const Tt=vt[sn][an];for(var jn=0;jn<le;++jn)rn[jn]=St.getUint16(Tt+jn*2*Jt,!0);for(var jn=0;jn<le;++jn)St.setFloat32(Tt+jn*2*Jt,ee(rn[jn]),!0)}}}function Ze(D,T,N){for(var W,j=1;j<64;)W=T[D.value],W==65280?j=64:W>>8==255?j+=W&255:(N[j]=W,j++),D.value++}function at(D,T){T[0]=ee(D[0]),T[1]=ee(D[1]),T[2]=ee(D[5]),T[3]=ee(D[6]),T[4]=ee(D[14]),T[5]=ee(D[15]),T[6]=ee(D[27]),T[7]=ee(D[28]),T[8]=ee(D[2]),T[9]=ee(D[4]),T[10]=ee(D[7]),T[11]=ee(D[13]),T[12]=ee(D[16]),T[13]=ee(D[26]),T[14]=ee(D[29]),T[15]=ee(D[42]),T[16]=ee(D[3]),T[17]=ee(D[8]),T[18]=ee(D[12]),T[19]=ee(D[17]),T[20]=ee(D[25]),T[21]=ee(D[30]),T[22]=ee(D[41]),T[23]=ee(D[43]),T[24]=ee(D[9]),T[25]=ee(D[11]),T[26]=ee(D[18]),T[27]=ee(D[24]),T[28]=ee(D[31]),T[29]=ee(D[40]),T[30]=ee(D[44]),T[31]=ee(D[53]),T[32]=ee(D[10]),T[33]=ee(D[19]),T[34]=ee(D[23]),T[35]=ee(D[32]),T[36]=ee(D[39]),T[37]=ee(D[45]),T[38]=ee(D[52]),T[39]=ee(D[54]),T[40]=ee(D[20]),T[41]=ee(D[22]),T[42]=ee(D[33]),T[43]=ee(D[38]),T[44]=ee(D[46]),T[45]=ee(D[51]),T[46]=ee(D[55]),T[47]=ee(D[60]),T[48]=ee(D[21]),T[49]=ee(D[34]),T[50]=ee(D[37]),T[51]=ee(D[47]),T[52]=ee(D[50]),T[53]=ee(D[56]),T[54]=ee(D[59]),T[55]=ee(D[61]),T[56]=ee(D[35]),T[57]=ee(D[36]),T[58]=ee(D[48]),T[59]=ee(D[49]),T[60]=ee(D[57]),T[61]=ee(D[58]),T[62]=ee(D[62]),T[63]=ee(D[63])}function Z(D){const T=.5*Math.cos(.7853975),N=.5*Math.cos(3.14159/16),W=.5*Math.cos(3.14159/8),j=.5*Math.cos(3*3.14159/16),X=.5*Math.cos(5*3.14159/16),le=.5*Math.cos(3*3.14159/8),ce=.5*Math.cos(7*3.14159/16);for(var ge=new Array(4),Ae=new Array(4),Ee=new Array(4),Ce=new Array(4),qe=0;qe<8;++qe){var He=qe*8;ge[0]=W*D[He+2],ge[1]=le*D[He+2],ge[2]=W*D[He+6],ge[3]=le*D[He+6],Ae[0]=N*D[He+1]+j*D[He+3]+X*D[He+5]+ce*D[He+7],Ae[1]=j*D[He+1]-ce*D[He+3]-N*D[He+5]-X*D[He+7],Ae[2]=X*D[He+1]-N*D[He+3]+ce*D[He+5]+j*D[He+7],Ae[3]=ce*D[He+1]-X*D[He+3]+j*D[He+5]-N*D[He+7],Ee[0]=T*(D[He+0]+D[He+4]),Ee[3]=T*(D[He+0]-D[He+4]),Ee[1]=ge[0]+ge[3],Ee[2]=ge[1]-ge[2],Ce[0]=Ee[0]+Ee[1],Ce[1]=Ee[3]+Ee[2],Ce[2]=Ee[3]-Ee[2],Ce[3]=Ee[0]-Ee[1],D[He+0]=Ce[0]+Ae[0],D[He+1]=Ce[1]+Ae[1],D[He+2]=Ce[2]+Ae[2],D[He+3]=Ce[3]+Ae[3],D[He+4]=Ce[3]-Ae[3],D[He+5]=Ce[2]-Ae[2],D[He+6]=Ce[1]-Ae[1],D[He+7]=Ce[0]-Ae[0]}for(var Ke=0;Ke<8;++Ke)ge[0]=W*D[16+Ke],ge[1]=le*D[16+Ke],ge[2]=W*D[48+Ke],ge[3]=le*D[48+Ke],Ae[0]=N*D[8+Ke]+j*D[24+Ke]+X*D[40+Ke]+ce*D[56+Ke],Ae[1]=j*D[8+Ke]-ce*D[24+Ke]-N*D[40+Ke]-X*D[56+Ke],Ae[2]=X*D[8+Ke]-N*D[24+Ke]+ce*D[40+Ke]+j*D[56+Ke],Ae[3]=ce*D[8+Ke]-X*D[24+Ke]+j*D[40+Ke]-N*D[56+Ke],Ee[0]=T*(D[Ke]+D[32+Ke]),Ee[3]=T*(D[Ke]-D[32+Ke]),Ee[1]=ge[0]+ge[3],Ee[2]=ge[1]-ge[2],Ce[0]=Ee[0]+Ee[1],Ce[1]=Ee[3]+Ee[2],Ce[2]=Ee[3]-Ee[2],Ce[3]=Ee[0]-Ee[1],D[0+Ke]=Ce[0]+Ae[0],D[8+Ke]=Ce[1]+Ae[1],D[16+Ke]=Ce[2]+Ae[2],D[24+Ke]=Ce[3]+Ae[3],D[32+Ke]=Ce[3]-Ae[3],D[40+Ke]=Ce[2]-Ae[2],D[48+Ke]=Ce[1]-Ae[1],D[56+Ke]=Ce[0]-Ae[0]}function U(D){for(var T=0;T<64;++T){var N=D[0][T],W=D[1][T],j=D[2][T];D[0][T]=N+1.5747*j,D[1][T]=N-.1873*W-.4682*j,D[2][T]=N+1.8556*W}}function fe(D,T,N){for(var W=0;W<64;++W)T[N+W]=Yl.toHalfFloat(Re(D[W]))}function Re(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(R,Math.abs(D)-1)}function Ie(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function Pe(D){var T=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),N=new Uint8Array(De(T)),W=new Uint8Array(N.length);return ve(N),he(N,W),new DataView(W.buffer)}function it(D){var T=D.array.slice(D.offset.value,D.offset.value+D.size),N=X0(T),W=new Uint8Array(N.length);return ve(N),he(N,W),new DataView(W.buffer)}function Ge(D){for(var T=D.viewer,N={value:D.offset.value},W=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),j=new Uint8Array(8192),X=0,le=new Array(D.channels),ce=0;ce<D.channels;ce++)le[ce]={},le[ce].start=X,le[ce].end=le[ce].start,le[ce].nx=D.width,le[ce].ny=D.lines,le[ce].size=D.type,X+=le[ce].nx*le[ce].ny*le[ce].size;var ge=Fe(T,N),Ae=Fe(T,N);if(Ae>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ge<=Ae)for(var ce=0;ce<Ae-ge+1;ce++)j[ce+ge]=te(T,N);var Ee=new Uint16Array(65536),Ce=b(j,Ee),qe=lt(T,N);ht(D.array,T,N,qe,W,X);for(var ce=0;ce<D.channels;++ce)for(var He=le[ce],Ke=0;Ke<le[ce].size;++Ke)_t(W,He.start+Ke,He.nx,He.size,He.ny,He.nx*He.size,Ce);me(Ee,W,X);for(var ct=0,mt=new Uint8Array(W.buffer.byteLength),tt=0;tt<D.lines;tt++)for(var je=0;je<D.channels;je++){var He=le[je],vt=He.nx*He.size,$e=new Uint8Array(W.buffer,He.end*2,vt*2);mt.set($e,ct),ct+=vt*2,He.end+=vt}return new DataView(mt.buffer)}function Ue(D){var T=D.array.slice(D.offset.value,D.offset.value+D.size),N=X0(T);const W=D.lines*D.channels*D.width,j=D.type==1?new Uint16Array(W):new Uint32Array(W);let X=0,le=0;const ce=new Array(4);for(let ge=0;ge<D.lines;ge++)for(let Ae=0;Ae<D.channels;Ae++){let Ee=0;switch(D.type){case 1:ce[0]=X,ce[1]=ce[0]+D.width,X=ce[1]+D.width;for(let Ce=0;Ce<D.width;++Ce){const qe=N[ce[0]++]<<8|N[ce[1]++];Ee+=qe,j[le]=Ee,le++}break;case 2:ce[0]=X,ce[1]=ce[0]+D.width,ce[2]=ce[1]+D.width,X=ce[2]+D.width;for(let Ce=0;Ce<D.width;++Ce){const qe=N[ce[0]++]<<24|N[ce[1]++]<<16|N[ce[2]++]<<8;Ee+=qe,j[le]=Ee,le++}break}}return new DataView(j.buffer)}function yt(D){var T=D.viewer,N={value:D.offset.value},W=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),j={version:_e(T,N),unknownUncompressedSize:_e(T,N),unknownCompressedSize:_e(T,N),acCompressedSize:_e(T,N),dcCompressedSize:_e(T,N),rleCompressedSize:_e(T,N),rleUncompressedSize:_e(T,N),rleRawSize:_e(T,N),totalAcUncompressedCount:_e(T,N),totalDcUncompressedCount:_e(T,N),acCompression:_e(T,N)};if(j.version<2)throw"EXRLoader.parse: "+or.compression+" version "+j.version+" is unsupported";for(var X=new Array,le=Fe(T,N)-2;le>0;){var ce=Oe(T.buffer,N),ge=te(T,N),Ae=ge>>2&3,Ee=(ge>>4)-1,Ce=new Int8Array([Ee])[0],qe=te(T,N);X.push({name:ce,index:Ce,type:qe,compression:Ae}),le-=ce.length+3}for(var He=or.channels,Ke=new Array(D.channels),ct=0;ct<D.channels;++ct){var mt=Ke[ct]={},tt=He[ct];mt.name=tt.name,mt.compression=0,mt.decoded=!1,mt.type=tt.pixelType,mt.pLinear=tt.pLinear,mt.width=D.width,mt.height=D.lines}for(var je={idx:new Array(3)},vt=0;vt<D.channels;++vt)for(var mt=Ke[vt],ct=0;ct<X.length;++ct){var $e=X[ct];mt.name==$e.name&&(mt.compression=$e.compression,$e.index>=0&&(je.idx[$e.index]=vt),mt.offset=vt)}if(j.acCompressedSize>0)switch(j.acCompression){case 0:var St=new Uint16Array(j.totalAcUncompressedCount);ht(D.array,T,N,j.acCompressedSize,St,j.totalAcUncompressedCount);break;case 1:var Et=D.array.slice(N.value,N.value+j.totalAcUncompressedCount),rn=X0(Et),St=new Uint16Array(rn.buffer);N.value+=j.totalAcUncompressedCount;break}if(j.dcCompressedSize>0){var sn={array:D.array,offset:N,size:j.dcCompressedSize},Jt=new Uint16Array(it(sn).buffer);N.value+=j.dcCompressedSize}if(j.rleRawSize>0){var Et=D.array.slice(N.value,N.value+j.rleCompressedSize),rn=X0(Et),an=De(rn.buffer);N.value+=j.rleCompressedSize}for(var jn=0,Tt=new Array(Ke.length),ct=0;ct<Tt.length;++ct)Tt[ct]=new Array;for(var bn=0;bn<D.lines;++bn)for(var en=0;en<Ke.length;++en)Tt[en].push(jn),jn+=Ke[en].width*D.type*2;Le(je,Tt,Ke,St,Jt,W);for(var ct=0;ct<Ke.length;++ct){var mt=Ke[ct];if(!mt.decoded)switch(mt.compression){case 2:for(var zt=0,Mn=0,bn=0;bn<D.lines;++bn){for(var lo=Tt[ct][zt],Ji=0;Ji<mt.width;++Ji){for(var Ls=0;Ls<2*mt.type;++Ls)W[lo++]=an[Mn+Ls*mt.width*mt.height];Mn++}zt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(W.buffer)}function Oe(D,T){for(var N=new Uint8Array(D),W=0;N[T.value+W]!=0;)W+=1;var j=new TextDecoder().decode(N.slice(T.value,T.value+W));return T.value=T.value+W+1,j}function rt(D,T,N){var W=new TextDecoder().decode(new Uint8Array(D).slice(T.value,T.value+N));return T.value=T.value+N,W}function wt(D,T){var N=Je(D,T),W=lt(D,T);return[N,W]}function pt(D,T){var N=lt(D,T),W=lt(D,T);return[N,W]}function Je(D,T){var N=D.getInt32(T.value,!0);return T.value=T.value+4,N}function lt(D,T){var N=D.getUint32(T.value,!0);return T.value=T.value+4,N}function Mt(D,T){var N=D[T.value];return T.value=T.value+1,N}function te(D,T){var N=D.getUint8(T.value);return T.value=T.value+1,N}const _e=function(D,T){let N;return"getBigInt64"in DataView.prototype?N=Number(D.getBigInt64(T.value,!0)):N=D.getUint32(T.value+4,!0)+Number(D.getUint32(T.value,!0)<<32),T.value+=8,N};function Q(D,T){var N=D.getFloat32(T.value,!0);return T.value+=4,N}function ye(D,T){return Yl.toHalfFloat(Q(D,T))}function ee(D){var T=(D&31744)>>10,N=D&1023;return(D>>15?-1:1)*(T?T===31?N?NaN:1/0:Math.pow(2,T-15)*(1+N/1024):6103515625e-14*(N/1024))}function Fe(D,T){var N=D.getUint16(T.value,!0);return T.value+=2,N}function Ve(D,T){return ee(Fe(D,T))}function kt(D,T,N,W){for(var j=N.value,X=[];N.value<j+W-1;){var le=Oe(T,N),ce=Je(D,N),ge=te(D,N);N.value+=3;var Ae=Je(D,N),Ee=Je(D,N);X.push({name:le,pixelType:ce,pLinear:ge,xSampling:Ae,ySampling:Ee})}return N.value+=1,X}function Xt(D,T){var N=Q(D,T),W=Q(D,T),j=Q(D,T),X=Q(D,T),le=Q(D,T),ce=Q(D,T),ge=Q(D,T),Ae=Q(D,T);return{redX:N,redY:W,greenX:j,greenY:X,blueX:le,blueY:ce,whiteX:ge,whiteY:Ae}}function Ut(D,T){var N=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],W=te(D,T);return N[W]}function nn(D,T){var N=lt(D,T),W=lt(D,T),j=lt(D,T),X=lt(D,T);return{xMin:N,yMin:W,xMax:j,yMax:X}}function Dt(D,T){var N=["INCREASING_Y"],W=te(D,T);return N[W]}function Wn(D,T){var N=Q(D,T),W=Q(D,T);return[N,W]}function hn(D,T){var N=Q(D,T),W=Q(D,T),j=Q(D,T);return[N,W,j]}function fs(D,T,N,W,j){if(W==="string"||W==="stringvector"||W==="iccProfile")return rt(T,N,j);if(W==="chlist")return kt(D,T,N,j);if(W==="chromaticities")return Xt(D,N);if(W==="compression")return Ut(D,N);if(W==="box2i")return nn(D,N);if(W==="lineOrder")return Dt(D,N);if(W==="float")return Q(D,N);if(W==="v2f")return Wn(D,N);if(W==="v3f")return hn(D,N);if(W==="int")return Je(D,N);if(W==="rational")return wt(D,N);if(W==="timecode")return pt(D,N);if(W==="preview")return N.value+=j,"skipped";N.value+=j}function Ec(D,T,N){const W={};if(D.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";W.version=D.getUint8(4);const j=D.getUint8(5);W.spec={singleTile:!!(j&2),longName:!!(j&4),deepFormat:!!(j&8),multiPart:!!(j&16)},N.value=8;for(var X=!0;X;){var le=Oe(T,N);if(le==0)X=!1;else{var ce=Oe(T,N),ge=lt(D,N),Ae=fs(D,T,N,ce,ge);Ae===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ce}'.`):W[le]=Ae}}if(j&-5)throw console.error("EXRHeader:",W),"THREE.EXRLoader: provided file is currently unsupported.";return W}function Tc(D,T,N,W,j){const X={size:0,viewer:T,array:N,offset:W,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,[Ed?"colorSpace":"encoding"]:null};switch(D.compression){case"NO_COMPRESSION":X.lines=1,X.uncompress=Ie;break;case"RLE_COMPRESSION":X.lines=1,X.uncompress=Pe;break;case"ZIPS_COMPRESSION":X.lines=1,X.uncompress=it;break;case"ZIP_COMPRESSION":X.lines=16,X.uncompress=it;break;case"PIZ_COMPRESSION":X.lines=32,X.uncompress=Ge;break;case"PXR24_COMPRESSION":X.lines=16,X.uncompress=Ue;break;case"DWAA_COMPRESSION":X.lines=32,X.uncompress=yt;break;case"DWAB_COMPRESSION":X.lines=256,X.uncompress=yt;break;default:throw"EXRLoader.parse: "+D.compression+" is unsupported"}if(X.scanlineBlockSize=X.lines,X.type==1)switch(j){case qn:X.getter=Ve,X.inputSize=2;break;case vi:X.getter=Fe,X.inputSize=2;break}else if(X.type==2)switch(j){case qn:X.getter=Q,X.inputSize=4;break;case vi:X.getter=ye,X.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+X.type+" for "+D.compression+".";X.blockCount=(D.dataWindow.yMax+1)/X.scanlineBlockSize;for(var le=0;le<X.blockCount;le++)_e(T,W);X.outputChannels=X.channels==3?4:X.channels;const ce=X.width*X.height*X.outputChannels;switch(j){case qn:X.byteArray=new Float32Array(ce),X.channels<X.outputChannels&&X.byteArray.fill(1,0,ce);break;case vi:X.byteArray=new Uint16Array(ce),X.channels<X.outputChannels&&X.byteArray.fill(15360,0,ce);break;default:console.error("THREE.EXRLoader: unsupported type: ",j);break}return X.bytesPerLine=X.width*X.inputSize*X.channels,X.outputChannels==4?X.format=ci:X.format=tv,Ed?X.colorSpace="srgb-linear":X.encoding=3e3,X}const Nr=new DataView(e),Ko=new Uint8Array(e),Fr={value:0},or=Ec(Nr,e,Fr),Nt=Tc(or,Nr,Ko,Fr,this.type),bc={value:0},Lf={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<Nt.height/Nt.scanlineBlockSize;D++){const T=lt(Nr,Fr);Nt.size=lt(Nr,Fr),Nt.lines=T+Nt.scanlineBlockSize>Nt.height?Nt.height-T:Nt.scanlineBlockSize;const W=Nt.size<Nt.lines*Nt.bytesPerLine?Nt.uncompress(Nt):Ie(Nt);Fr.value+=Nt.size;for(let j=0;j<Nt.scanlineBlockSize;j++){const X=j+D*Nt.scanlineBlockSize;if(X>=Nt.height)break;for(let le=0;le<Nt.channels;le++){const ce=Lf[or.channels[le].name];for(let ge=0;ge<Nt.width;ge++){bc.value=(j*(Nt.channels*Nt.width)+le*Nt.width+ge)*Nt.inputSize;const Ae=(Nt.height-1-X)*(Nt.width*Nt.outputChannels)+ge*Nt.outputChannels+ce;Nt.byteArray[Ae]=Nt.getter(W,bc)}}}}return{header:or,width:Nt.width,height:Nt.height,data:Nt.byteArray,format:Nt.format,[Ed?"colorSpace":"encoding"]:Nt[Ed?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){Ed?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=qt,o.magFilter=qt,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,i,r)}}const Ox=new WeakMap;class vte extends Ii{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ti(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Ox.has(e)){const l=Ox.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,f)=>{r._callbacks[s]={resolve:c,reject:f},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Ox.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Pt;e.index&&t.setIndex(new jt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new jt(o,a))}return t}_loadLibrary(e,t){const i=new Ti(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=yte.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function yte(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(f){n.onModuleLoaded=function(h){f({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(f=>{const h=f.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,c),_=v.attributes.map(x=>x.array.buffer);v.index&&_.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},_)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const f=c.attributeIDs,h=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const _={index:null,attributes:[]};for(const x in f){const g=self[h[x]];let A,S;if(c.useUniqueIDs)S=f[x],A=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[f[x]]),S===-1)continue;A=a.GetAttribute(p,S)}_.attributes.push(r(o,a,p,x,g,A))}return v===o.TRIANGULAR_MESH&&(_.index=i(o,a,p)),o.destroy(p),_}function i(o,a,l){const f=l.num_faces()*3,h=f*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,f,h){const p=h.num_components(),v=l.num_points()*p,_=v*f.BYTES_PER_ELEMENT,x=s(o,f),g=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,h,x,_,g);const A=new f(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let K0;const kx=()=>{if(K0)return K0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const _=h.charCodeAt(v);p[v]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,_,x){const g=s.exports.sbrk,A=m+3&-4,S=g(A*v),C=g(_.length),P=new Uint8Array(s.exports.memory.buffer);P.set(_,C);const E=h(S,m,v,C,_.length);if(E===0&&x&&x(S,A,v),p.set(P.subarray(S,S+m*v)),g(S-g(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return K0={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,_){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[c[_]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,_,x){l(s.exports[f[_]],h,p,m,v,s.exports[c[x]])}},K0};function GB(n,e,t,i){const r=class extends Pi{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,f])=>{const h=r4.clone({[c]:{value:f}});return{...l,...h}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return r.key=Ks.generateUUID(),r}const xte=()=>parseInt(xc.replace(/\D+/g,"")),VB=xte();let Y0=null,WB="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function jB(n,e,t){return i=>{t&&t(i),n&&(Y0||(Y0=new vte),Y0.setDecoderPath(typeof n=="string"?n:WB),i.setDRACOLoader(Y0)),e&&i.setMeshoptDecoder(typeof kx=="function"?kx():kx)}}function Rp(n,e=!0,t=!0,i){return If(rM,n,jB(e,t,i))}Rp.preload=(n,e=!0,t=!0,i)=>If.preload(rM,n,jB(e,t,i));Rp.clear=n=>If.clear(rM,n);Rp.setDecoderPath=n=>{WB=n};const _te=O.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const h=En(E=>E.invalidate),p=En(E=>E.camera),m=En(E=>E.gl),v=En(E=>E.events),_=En(E=>E.setEvents),x=En(E=>E.set),g=En(E=>E.get),A=En(E=>E.performance),S=e||p,C=i||v.connected||m.domElement,P=O.useMemo(()=>new Dee(S),[S]);return Sp(()=>{P.enabled&&P.update()},-1),O.useEffect(()=>(s&&P.connect(s===!0?C:s),P.connect(C),()=>void P.dispose()),[s,C,t,P,h]),O.useEffect(()=>{const E=R=>{h(),t&&A.regress(),o&&o(R)},I=R=>{a&&a(R)},B=R=>{l&&l(R)};return P.addEventListener("change",E),P.addEventListener("start",I),P.addEventListener("end",B),()=>{P.removeEventListener("start",I),P.removeEventListener("end",B),P.removeEventListener("change",E)}},[o,a,l,P,h,_]),O.useEffect(()=>{if(n){const E=g().controls;return x({controls:P}),()=>x({controls:E})}},[n,P]),O.createElement("primitive",ss({ref:f,object:P,enableDamping:r},c))}),Ate=O.forwardRef(function({children:e,disable:t,disableX:i,disableY:r,disableZ:s,left:o,right:a,top:l,bottom:c,front:f,back:h,onCentered:p,precise:m=!0,cacheKey:v=0,..._},x){const g=O.useRef(null),A=O.useRef(null),S=O.useRef(null);return O.useLayoutEffect(()=>{A.current.matrixWorld.identity();const C=new _i().setFromObject(S.current,m),P=new H,E=new Ai,I=C.max.x-C.min.x,B=C.max.y-C.min.y,R=C.max.z-C.min.z;C.getCenter(P),C.getBoundingSphere(E);const b=l?B/2:c?-B/2:0,k=o?-I/2:a?I/2:0,Y=f?R/2:h?-R/2:0;A.current.position.set(t||i?0:-P.x+k,t||r?0:-P.y+b,t||s?0:-P.z+Y),typeof p<"u"&&p({parent:g.current.parent,container:g.current,width:I,height:B,depth:R,boundingBox:C,boundingSphere:E,center:P,verticalAlignment:b,horizontalAlignment:k,depthAlignment:Y})},[v,p,l,o,f,t,i,r,s,m,a,c,h]),O.useImperativeHandle(x,()=>g.current,[]),O.createElement("group",ss({ref:g},_),O.createElement("group",{ref:A},O.createElement("group",{ref:S},e)))}),Ste=3e3,Mte=3001,Cte=GB({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var Jr=function(n){return n[n.NONE=0]="NONE",n[n.START=1]="START",n[n.ACTIVE=2]="ACTIVE",n}(Jr||{});const pu=n=>n&&n.isOrthographicCamera,wte=n=>n&&n.isBox3,Ete=n=>1-Math.exp(-5*n)+.007*n,XB=O.createContext(null);function Tte({children:n,maxDuration:e=1,margin:t=1.2,observe:i,fit:r,clip:s,interpolateFunc:o=Ete,onFit:a}){const l=O.useRef(null),{camera:c,size:f,invalidate:h}=En(),p=En(P=>P.controls),m=O.useRef(a);m.current=a;const v=O.useRef({camPos:new H,camRot:new $n,camZoom:1}),_=O.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),x=O.useRef(Jr.NONE),g=O.useRef(0),[A]=O.useState(()=>new _i),S=O.useMemo(()=>{function P(){const E=A.getSize(new H),I=A.getCenter(new H),B=Math.max(E.x,E.y,E.z),R=pu(c)?B*4:B/(2*Math.atan(Math.PI*c.fov/360)),b=pu(c)?B*4:R/c.aspect,k=t*Math.max(R,b);return{box:A,size:E,center:I,distance:k}}return{getSize:P,refresh(E){if(wte(E))A.copy(E);else{const I=E||l.current;if(!I)return this;I.updateWorldMatrix(!0,!0),A.setFromObject(I)}if(A.isEmpty()){const I=c.position.length()||10;A.setFromCenterAndSize(new H,new H(I,I,I))}return v.current.camPos.copy(c.position),v.current.camRot.copy(c.quaternion),pu(c)&&(v.current.camZoom=c.zoom),_.current.camPos=void 0,_.current.camRot=void 0,_.current.camZoom=void 0,_.current.camUp=void 0,_.current.target=void 0,this},reset(){const{center:E,distance:I}=P(),B=c.position.clone().sub(E).normalize();_.current.camPos=E.clone().addScaledVector(B,I),_.current.target=E.clone();const R=new dt().lookAt(_.current.camPos,_.current.target,c.up);return _.current.camRot=new $n().setFromRotationMatrix(R),x.current=Jr.START,g.current=0,this},moveTo(E){return _.current.camPos=Array.isArray(E)?new H(...E):E.clone(),x.current=Jr.START,g.current=0,this},lookAt({target:E,up:I}){_.current.target=Array.isArray(E)?new H(...E):E.clone(),I?_.current.camUp=Array.isArray(I)?new H(...I):I.clone():_.current.camUp=c.up.clone();const B=new dt().lookAt(_.current.camPos||c.position,_.current.target,_.current.camUp);return _.current.camRot=new $n().setFromRotationMatrix(B),x.current=Jr.START,g.current=0,this},to({position:E,target:I}){return this.moveTo(E).lookAt({target:I})},fit(){if(!pu(c))return this.reset();let E=0,I=0;const B=[new H(A.min.x,A.min.y,A.min.z),new H(A.min.x,A.max.y,A.min.z),new H(A.min.x,A.min.y,A.max.z),new H(A.min.x,A.max.y,A.max.z),new H(A.max.x,A.max.y,A.max.z),new H(A.max.x,A.max.y,A.min.z),new H(A.max.x,A.min.y,A.max.z),new H(A.max.x,A.min.y,A.min.z)],R=_.current.camPos||c.position,b=_.current.target||(p==null?void 0:p.target),k=_.current.camUp||c.up,Y=b?new dt().lookAt(R,b,k).setPosition(R).invert():c.matrixWorldInverse;for(const $ of B)$.applyMatrix4(Y),E=Math.max(E,Math.abs($.y)),I=Math.max(I,Math.abs($.x));E*=2,I*=2;const G=(c.top-c.bottom)/E,q=(c.right-c.left)/I;return _.current.camZoom=Math.min(G,q)/t,x.current=Jr.START,g.current=0,m.current&&m.current(this.getSize()),this},clip(){const{distance:E}=P();return c.near=E/100,c.far=E*100,c.updateProjectionMatrix(),p&&(p.maxDistance=E*10,p.update()),h(),this}}},[A,c,p,t,h]);O.useLayoutEffect(()=>{if(p){const P=()=>{if(p&&_.current.target&&x.current!==Jr.NONE){const E=new H().setFromMatrixColumn(c.matrix,2),I=v.current.camPos.distanceTo(p.target),B=(_.current.camPos||v.current.camPos).distanceTo(_.current.target),R=(1-g.current)*I+g.current*B;p.target.copy(c.position).addScaledVector(E,-R),p.update()}x.current=Jr.NONE};return p.addEventListener("start",P),()=>p.removeEventListener("start",P)}},[p]);const C=O.useRef(0);return O.useLayoutEffect(()=>{(i||C.current++===0)&&(S.refresh(),r&&S.reset().fit(),s&&S.clip())},[f,s,r,i,c,p]),Sp((P,E)=>{if(x.current===Jr.START)x.current=Jr.ACTIVE,h();else if(x.current===Jr.ACTIVE){if(g.current+=E/e,g.current>=1)_.current.camPos&&c.position.copy(_.current.camPos),_.current.camRot&&c.quaternion.copy(_.current.camRot),_.current.camUp&&c.up.copy(_.current.camUp),_.current.camZoom&&pu(c)&&(c.zoom=_.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix(),p&&_.current.target&&(p.target.copy(_.current.target),p.update()),x.current=Jr.NONE;else{const I=o(g.current);_.current.camPos&&c.position.lerpVectors(v.current.camPos,_.current.camPos,I),_.current.camRot&&c.quaternion.slerpQuaternions(v.current.camRot,_.current.camRot,I),_.current.camUp&&c.up.set(0,1,0).applyQuaternion(c.quaternion),_.current.camZoom&&pu(c)&&(c.zoom=(1-I)*v.current.camZoom+I*_.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix()}h()}}),O.createElement("group",{ref:l},O.createElement(XB.Provider,{value:S},n))}function bte(){return O.useContext(XB)}const JB=(n,e,t)=>{let i;switch(n){case Br:i=new Uint8ClampedArray(e*t*4);break;case vi:i=new Uint16Array(e*t*4);break;case Za:i=new Uint32Array(e*t*4);break;case VS:i=new Int8Array(e*t*4);break;case WS:i=new Int16Array(e*t*4);break;case ev:i=new Int32Array(e*t*4);break;case qn:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let Z0;const Rte=(n,e,t,i)=>{if(Z0!==void 0)return Z0;const r=new Ri(1,1,i);e.setRenderTarget(r);const s=new An(new Jo,new hr({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=JB(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,o),r.dispose(),s.geometry.dispose(),s.material.dispose(),Z0=o[0]!==0,Z0};class sM{constructor(e){var t,i,r,s,o,a,l,c,f,h,p,m,v,_,x,g;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const A={format:ci,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:qt,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:qt,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Zn,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapT:Zn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=sM.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new df,this._camera=new ws,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Rte(this._type,this._renderer,this._camera,A)){let S;switch(this._type){case vi:S=this._renderer.extensions.has("EXT_color_buffer_float")?qn:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${qn}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new An(new Jo,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Ri(this.width,this.height,A),this._renderTarget.texture.mapping=((x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.mapping:Ja}static instantiateRenderer(){const e=new c4;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=JB(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Uo(this.toArray(),this.width,this.height,ci,this._type,(e==null?void 0:e.mapping)||Ja,(e==null?void 0:e.wrapS)||Zn,(e==null?void 0:e.wrapT)||Zn,(e==null?void 0:e.magFilter)||qt,(e==null?void 0:e.minFilter)||qt,(e==null?void 0:e.anisotropy)||1,us);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Pi&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof $t&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof $t&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Pte=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Ite=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Bte extends Pi{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:Pte,fragmentShader:Ite,uniforms:{sdr:{value:c},gainMap:{value:f},gamma:{value:new H(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new H().fromArray(t)},offsetSdr:{value:new H().fromArray(i)},gainMapMin:{value:new H().fromArray(r)},gainMapMax:{value:new H().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:qs,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class KB extends Error{}class YB extends Error{}const Td=(n,e,t)=>{var i;let r;const s=(i=n.attributes.getNamedItem(e))===null||i===void 0?void 0:i.nodeValue;if(s)r=s;else{const o=n.getElementsByTagName(e)[0];if(o){const a=o.getElementsByTagName("rdf:li");if(a.length===3)r=Array.from(a).map(l=>l.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(t)return t;throw new Error(`Can't find ${e} in gainmap metadata`)}}return r},Lte=n=>{var e,t;let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(n):i=n.toString();let r=i.indexOf("<x:xmpmeta");const s=new DOMParser;for(;r!==-1;){const o=i.indexOf("x:xmpmeta>",r);i.slice(r,o+10);const a=i.slice(r,o+10);try{const c=s.parseFromString(a,"text/xml").getElementsByTagName("rdf:Description")[0],f=Td(c,"hdrgm:GainMapMin","0"),h=Td(c,"hdrgm:GainMapMax"),p=Td(c,"hdrgm:Gamma","1"),m=Td(c,"hdrgm:OffsetSDR","0.015625"),v=Td(c,"hdrgm:OffsetHDR","0.015625");let _=(e=c.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;_||(_="0");const x=(t=c.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||t===void 0?void 0:t.nodeValue;if(!x)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(f)?f.map(g=>parseFloat(g)):[parseFloat(f),parseFloat(f),parseFloat(f)],gainMapMax:Array.isArray(h)?h.map(g=>parseFloat(g)):[parseFloat(h),parseFloat(h),parseFloat(h)],gamma:Array.isArray(p)?p.map(g=>parseFloat(g)):[parseFloat(p),parseFloat(p),parseFloat(p)],offsetSdr:Array.isArray(m)?m.map(g=>parseFloat(g)):[parseFloat(m),parseFloat(m),parseFloat(m)],offsetHdr:Array.isArray(v)?v.map(g=>parseFloat(g)):[parseFloat(v),parseFloat(v),parseFloat(v)],hdrCapacityMin:parseFloat(_),hdrCapacityMax:parseFloat(x)}}catch{}r=i.indexOf("<x:xmpmeta",o)}};class Dte{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){i(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(a)!==255){i(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const f=a+4;if(s.getUint32(f)===1297106432){const h=f+4;let p;if(s.getUint16(h)===18761)p=!1;else if(s.getUint16(h)===19789)p=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(h+2,!p)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(h+4,!p);if(m<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=h+m,_=s.getUint16(v,!p),x=v+2;let g=0;for(let P=x;P<x+12*_;P+=12)s.getUint16(P,!p)===45057&&(g=s.getUint32(P+8,!p));const S=v+2+_*12+4,C=[];for(let P=S;P<S+g*16;P+=16){const E={MPType:s.getUint32(P,!p),size:s.getUint32(P+4,!p),dataOffset:s.getUint32(P+8,!p),dependantImages:s.getUint32(P+12,!p),start:-1,end:-1,isFII:!1};E.dataOffset?(E.start=h+E.dataOffset,E.isFII=!1):(E.start=0,E.isFII=!0),E.end=E.start+E.size,C.push(E)}if(this.options.extractNonFII&&C.length){const P=new Blob([s]),E=[];for(const I of C){if(I.isFII&&!this.options.extractFII)continue;const B=P.slice(I.start,I.end+1,"image/jpeg");E.push(B)}t(E)}}}a+=2+s.getUint16(a+2)}})}}const Nte=async n=>{const e=Lte(n);if(!e)throw new YB("Gain map XMP metadata not found");const i=await new Dte({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new KB("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},u8=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class ZB extends Ii{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new wv}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Bte({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new $t,sdr:new $t});return new sM({width:16,height:16,type:vi,colorSpace:us,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,o=new Blob([i],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([s?u8(s):Promise.resolve(void 0),u8(o)]);l=p[0],a=p[1],c=!0}else{const p=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=p[0],a=p[1]}const f=new $t(l||new ImageData(2,2),Ja,Zn,Zn,qt,s3,ci,Br,1,us);f.flipY=c,f.needsUpdate=!0;const h=new $t(a,Ja,Zn,Zn,qt,s3,ci,Br,1,Cr);h.flipY=c,h.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=f,e.material.sdr=h,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Fte extends ZB{load([e,t,i],r,s,o){const a=this.prepareQuadRenderer();let l,c,f;const h=async()=>{if(l&&c&&f){try{await this.render(a,f,l,c)}catch(R){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof o=="function"&&o(R),a.disposeOnDemandRenderer();return}typeof r=="function"&&r(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),a.disposeOnDemandRenderer()}};let p=!0,m=0,v=0,_=!0,x=0,g=0,A=!0,S=0,C=0;const P=()=>{if(typeof s=="function"){const R=m+x+S,b=v+g+C,k=p&&_&&A;s(new ProgressEvent("progress",{lengthComputable:k,loaded:b,total:R}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const E=new Ti(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(e,async R=>{if(typeof R=="string")throw new Error("Invalid sdr buffer");l=R,await h()},R=>{p=R.lengthComputable,v=R.loaded,m=R.total,P()},R=>{this.manager.itemError(e),typeof o=="function"&&o(R)});const I=new Ti(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(t,async R=>{if(typeof R=="string")throw new Error("Invalid gainmap buffer");c=R,await h()},R=>{_=R.lengthComputable,g=R.loaded,x=R.total,P()},R=>{this.manager.itemError(t),typeof o=="function"&&o(R)});const B=new Ti(this._internalLoadingManager);return B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(i,async R=>{if(typeof R!="string")throw new Error("Invalid metadata string");f=JSON.parse(R),await h()},R=>{A=R.lengthComputable,C=R.loaded,S=R.total,P()},R=>{this.manager.itemError(i),typeof o=="function"&&o(R)}),a}}class Ote extends ZB{load(e,t,i,r){const s=this.prepareQuadRenderer(),o=new Ti(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,f,h;try{const p=await Nte(l);c=p.sdr,f=p.gainMap,h=p.metadata}catch(p){if(p instanceof YB||p instanceof KB)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw p}try{await this.render(s,h,c,f)}catch(p){this.manager.itemError(e),typeof r=="function"&&r(p),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,a=>{this.manager.itemError(e),typeof r=="function"&&r(a)}),s}}const Ux={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},kte="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Q0=n=>Array.isArray(n);function QB({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}={}){var s;let o=null,a=!1,l;if(t){if(!(t in Ux))throw new Error("Preset must be one of: "+Object.keys(Ux).join(", "));n=Ux[t],e=kte}const c=Q0(n)&&n.length===6,f=Q0(n)&&n.length===3&&n.some(x=>x.endsWith("json")),h=Q0(n)?n[0]:n;if(a=Q0(n),l=c?"cube":f?"webp":h.startsWith("data:application/exr")?"exr":h.startsWith("data:application/hdr")?"hdr":h.startsWith("data:image/jpeg")?"jpg":(s=h.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=l==="cube"?fI:l==="hdr"?mte:l==="exr"?gte:l==="jpg"||l==="jpeg"?Ote:l==="webp"?Fte:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);const p=En(x=>x.gl),m=If(o,a?[n]:n,x=>{(l==="webp"||l==="jpg"||l==="jpeg")&&x.setRenderer(p),x.setPath==null||x.setPath(e),r&&r(x)});let v=a?m[0]:m;if(l==="jpg"||l==="jpeg"||l==="webp"){var _;v=(_=v.renderTarget)==null?void 0:_.texture}return v.mapping=c?io:of,"colorSpace"in v?v.colorSpace=i??c?"srgb":"srgb-linear":v.encoding=i??c?Mte:Ste,v}const Ute=n=>n.current&&n.current.isScene,Hte=n=>Ute(n)?n.current:n;function oM(n,e,t,i,r={}){var s,o,a,l,c;r={backgroundBlurriness:(s=r.blur)!==null&&s!==void 0?s:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const f=Hte(e||t),h=f.background,p=f.environment,m={backgroundBlurriness:f.backgroundBlurriness,backgroundIntensity:f.backgroundIntensity,backgroundRotation:(o=(a=f.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&o!==void 0?o:[0,0,0],environmentIntensity:f.environmentIntensity,environmentRotation:(l=(c=f.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return n!=="only"&&(f.environment=i),n&&(f.background=i),To(f,r),()=>{n!=="only"&&(f.environment=p),n&&(f.background=h),To(f,m)}}function aM({scene:n,background:e=!1,map:t,...i}){const r=En(s=>s.scene);return O.useLayoutEffect(()=>{if(t)return oM(e,n,r,t,i)}),null}function qB({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=QB(l),f=En(h=>h.scene);return O.useLayoutEffect(()=>oM(n,e,f,c,{blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),null}function zte({children:n,near:e=1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:p,scene:m,files:v,path:_,preset:x=void 0,extensions:g}){const A=En(B=>B.gl),S=En(B=>B.scene),C=O.useRef(null),[P]=O.useState(()=>new df),E=O.useMemo(()=>{const B=new s4(i);return B.texture.type=vi,B},[i]);O.useLayoutEffect(()=>(r===1&&C.current.update(A,P),oM(o,m,S,E.texture,{blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:p})),[n,P,E.texture,m,S,o,r,A]);let I=1;return Sp(()=>{(r===1/0||I<r)&&(C.current.update(A,P),I++)}),O.createElement(O.Fragment,null,xQ(O.createElement(O.Fragment,null,n,O.createElement("cubeCamera",{ref:C,args:[e,t,E]}),v||x?O.createElement(qB,{background:!0,files:v,preset:x,path:_,extensions:g}):s?O.createElement(aM,{background:!0,map:s,extensions:g}):null),P))}function Gte(n){var e,t,i,r;const s=QB(n),o=n.map||s;O.useMemo(()=>O4({GroundProjectedEnvImpl:Pee}),[]);const a=O.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,f=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return O.createElement(O.Fragment,null,O.createElement(aM,ss({},n,{map:o})),O.createElement("groundProjectedEnvImpl",{args:a,scale:f,height:l,radius:c}))}function Vte(n){return n.ground?O.createElement(Gte,n):n.map?O.createElement(aM,n):n.children?O.createElement(zte,n):O.createElement(qB,n)}const Wte=O.forwardRef(({scale:n=10,frames:e=1/0,opacity:t=1,width:i=1,height:r=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:c=!0,color:f="#000000",depthWrite:h=!1,renderOrder:p,...m},v)=>{const _=O.useRef(null),x=En(q=>q.scene),g=En(q=>q.gl),A=O.useRef(null);i=i*(Array.isArray(n)?n[0]:n||1),r=r*(Array.isArray(n)?n[1]:n||1);const[S,C,P,E,I,B,R]=O.useMemo(()=>{const q=new Ri(l,l),$=new Ri(l,l);$.texture.generateMipmaps=q.texture.generateMipmaps=!1;const ie=new Jo(i,r).rotateX(Math.PI/2),pe=new An(ie),F=new ov;F.depthTest=F.depthWrite=!1,F.onBeforeCompile=ne=>{ne.uniforms={...ne.uniforms,ucolor:{value:new We(f)}},ne.fragmentShader=ne.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),ne.fragmentShader=ne.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const K=new Pi(hte),V=new Pi(pte);return V.depthTest=K.depthTest=!1,[q,ie,F,pe,K,V,$]},[l,i,r,n,f]),b=q=>{E.visible=!0,E.material=I,I.uniforms.tDiffuse.value=S.texture,I.uniforms.h.value=q*1/256,g.setRenderTarget(R),g.render(E,A.current),E.material=B,B.uniforms.tDiffuse.value=R.texture,B.uniforms.v.value=q*1/256,g.setRenderTarget(S),g.render(E,A.current),E.visible=!1};let k=0,Y,G;return Sp(()=>{A.current&&(e===1/0||k<e)&&(k++,Y=x.background,G=x.overrideMaterial,_.current.visible=!1,x.background=null,x.overrideMaterial=P,g.setRenderTarget(S),g.render(x,A.current),b(s),c&&b(s*.4),g.setRenderTarget(null),_.current.visible=!0,x.overrideMaterial=G,x.background=Y)}),O.useImperativeHandle(v,()=>_.current,[]),O.createElement("group",ss({"rotation-x":Math.PI/2},m,{ref:_}),O.createElement("mesh",{renderOrder:p,geometry:C,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},O.createElement("meshBasicMaterial",{transparent:!0,map:S.texture,opacity:t,depthWrite:h})),O.createElement("orthographicCamera",{ref:A,args:[-i/2,i/2,r/2,-r/2,o,a]}))});function jte(n){return n.isLight}function Xte(n){return!!n.geometry}const $B=O.createContext(null),Jte=GB({color:new We,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${VB>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),Kte=O.forwardRef(({children:n,temporal:e,frames:t=40,limit:i=1/0,blend:r=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:c=2,resolution:f=1024,toneMapped:h=!0,...p},m)=>{O4({SoftShadowMaterial:Jte});const v=En(E=>E.gl),_=En(E=>E.scene),x=En(E=>E.camera),g=En(E=>E.invalidate),A=O.useRef(null),S=O.useRef(null),[C]=O.useState(()=>new Zte(v,_,f));O.useLayoutEffect(()=>{C.configure(A.current)},[]);const P=O.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?r:t),count:0,getMesh:()=>A.current,reset:()=>{C.clear();const E=A.current.material;E.opacity=0,E.alphaTest=0,P.count=0},update:(E=1)=>{const I=A.current.material;P.temporal?(I.opacity=Math.min(o,I.opacity+o/P.blend),I.alphaTest=Math.min(a,I.alphaTest+a/P.blend)):(I.opacity=o,I.alphaTest=a),S.current.visible=!0,C.prepare();for(let B=0;B<E;B++)P.lights.forEach(R=>R.update()),C.update(x,P.blend);S.current.visible=!1,C.finish()}}),[C,x,_,e,t,r,o,a]);return O.useLayoutEffect(()=>{P.reset(),!P.temporal&&P.frames!==1/0&&P.update(P.blend)}),O.useImperativeHandle(m,()=>P,[P]),Sp(()=>{(P.temporal||P.frames===1/0)&&P.count<P.frames&&P.count<i&&(g(),P.update(),P.count++)}),O.createElement("group",p,O.createElement("group",{traverse:()=>null,ref:S},O.createElement($B.Provider,{value:P},n)),O.createElement("mesh",{receiveShadow:!0,ref:A,scale:s,rotation:[-Math.PI/2,0,0]},O.createElement("planeGeometry",null),O.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:h,color:l,blend:c,map:C.progressiveLightMap2.texture})))}),Yte=O.forwardRef(({castShadow:n=!0,bias:e=.001,mapSize:t=512,size:i=5,near:r=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:c=8,intensity:f=VB>=155?Math.PI:1,ambient:h=.5,...p},m)=>{const v=O.useRef(null),_=new H(...a).length(),x=O.useContext($B),g=O.useCallback(()=>{let S;if(v.current)for(let C=0;C<v.current.children.length;C++)if(S=v.current.children[C],Math.random()>h)S.position.set(a[0]+Ks.randFloatSpread(l),a[1]+Ks.randFloatSpread(l),a[2]+Ks.randFloatSpread(l));else{let P=Math.acos(2*Math.random()-1)-Math.PI/2,E=2*Math.PI*Math.random();S.position.set(Math.cos(P)*Math.cos(E)*_,Math.abs(Math.cos(P)*Math.sin(E)*_),Math.sin(P)*_)}},[l,h,_,...a]),A=O.useMemo(()=>({update:g}),[g]);return O.useImperativeHandle(m,()=>A,[A]),O.useLayoutEffect(()=>{var S;const C=v.current;return x&&((S=x.lights)==null||S.set(C.uuid,A)),()=>{var P;return void(x==null||(P=x.lights)==null?void 0:P.delete(C.uuid))}},[x,A]),O.createElement("group",ss({ref:v},p),Array.from({length:c},(S,C)=>O.createElement("directionalLight",{key:C,castShadow:n,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:f/c},O.createElement("orthographicCamera",{attach:"shadow-camera",args:[-i,i,i,-i,r,s]}))))});class Zte{constructor(e,t,i=1024){this.renderer=e,this.res=i,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new We,this.clearAlpha=0;const r={type:vi,magFilter:Qn,minFilter:Qn};this.progressiveLightMap1=new Ri(this.res,this.res,r),this.progressiveLightMap2=new Ri(this.res,this.res,r),this.discardMat=new Cte,this.targetMat=new A4({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Xte(e)?this.meshes.push({object:e,material:e.material}):jte(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const i=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(i),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const Qte={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function qte({radius:n,adjustCamera:e}){const t=bte();return O.useEffect(()=>{e&&t.refresh().clip().fit()},[n,e]),null}function $te({children:n,center:e,adjustCamera:t=!0,intensity:i=.5,shadows:r="contact",environment:s="city",preset:o="rembrandt",...a}){var l,c,f,h,p,m,v,_;const x=typeof o=="string"?Qte[o]:o,[{radius:g,height:A},S]=O.useState({radius:0,width:0,height:0,depth:0}),C=(l=r==null?void 0:r.bias)!==null&&l!==void 0?l:-1e-4,P=(c=r==null?void 0:r.normalBias)!==null&&c!==void 0?c:0,E=(f=r==null?void 0:r.size)!==null&&f!==void 0?f:1024,I=(h=r==null?void 0:r.offset)!==null&&h!==void 0?h:0,B=r==="contact"||(r==null?void 0:r.type)==="contact",R=r==="accumulative"||(r==null?void 0:r.type)==="accumulative",b={...typeof r=="object"?r:{}},k=s?typeof s=="string"?{preset:s}:s:null,Y=O.useCallback(G=>{const{width:q,height:$,depth:ie,boundingSphere:pe}=G;S({radius:pe.radius,width:q,height:$,depth:ie}),e!=null&&e.onCentered&&e.onCentered(G)},[]);return O.createElement(O.Fragment,null,O.createElement("ambientLight",{intensity:i/3}),O.createElement("spotLight",{penumbra:1,position:[x.main[0]*g,x.main[1]*g,x.main[2]*g],intensity:i*2,castShadow:!!r,"shadow-bias":C,"shadow-normalBias":P,"shadow-mapSize":E}),O.createElement("pointLight",{position:[x.fill[0]*g,x.fill[1]*g,x.fill[2]*g],intensity:i}),O.createElement(Tte,ss({fit:!!t,clip:!!t,margin:Number(t),observe:!0},a),O.createElement(qte,{radius:g,adjustCamera:t}),O.createElement(Ate,ss({},e,{position:[0,I/2,0],onCentered:Y}),n)),O.createElement("group",{position:[0,-A/2-I/2,0]},B&&O.createElement(Wte,ss({scale:g*4,far:g,blur:2},b)),R&&O.createElement(Kte,ss({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:g*4},b),O.createElement(Yte,{amount:(p=b.amount)!==null&&p!==void 0?p:8,radius:(m=b.radius)!==null&&m!==void 0?m:g,ambient:(v=b.ambient)!==null&&v!==void 0?v:.5,intensity:(_=b.intensity)!==null&&_!==void 0?_:1,position:[x.main[0]*g,x.main[1]*g,x.main[2]*g],size:g*4,bias:-C,mapSize:E}))),s&&O.createElement(Vte,k))}const ene=n=>O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:223,height:169,viewBox:"0 0 223 169",...n},O.createElement("image",{id:"Camada_2","data-name":"Camada 2",width:223,height:169,xlinkHref:"data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAACpCAYAAACrgujwAAAQp0lEQVR4nO2d25MV1RWHf3NmhplhYGa4ykVuoog4oKA1Kl6xyAXzkNsDvvmQi5VURUpT/gXkjSotkodU1BhzedCHKA8mpBJLUQTMqEzkJkEBnRFjRC7DnRlmTmrBaoLjmd6rz+m9e3fv9VVRynDmdPfu853u3muvterK5TIU/ygvW5HFPpUANABo5L8PArgAYDh6Qd321/TTkhINhTgKJQ2aAFwNYAmAOeQ/gP0A9gA4BOC8jnK6qHwKWLxbATwE4D4Ak1i+TwG8AuB5AO+pgOmi8il0q3kdgEcBfAtA8xUjMhHALL4NPcZXwuHgRywlSoU4CqUWWgB8G8A3RohH1AHoAPAAgFuueBZUUkDlU6YA+D6AcTEjMQNAJ4AxwY9Wiqh8YUNXthsALDCMAl3x2gHUhz5gaaLyhQ1JdSeAsYZRIElPAhgIfcDSROULmzYAd7FccdAkywc625kuKl/Y0EzmIsEInOB431DoA5YmKl+40PPbzQAmCEaArnoHQx+wtFH5wqWZn/dMsV4Ktm/jq5+SIipfuNAqluWCo6dJls36vJc+Kl+4XMNrOE0c5uc9XYGfMipfmNCt5m0VVrSMhITbzms8lZRR+cKEVrPcLTz/mwCcDn3AbKDyhcl0XqtpgqR7R0MMdlD5woPO+U2csRBHlM+3P/QBs4XKFx5NfMtpylCgVS9vAjga+oDZQuULjwkcYjAtKRvUEINdVL7wmM9/THwB4F8aYrCHyhcWUYihVXDUPQA+C33AbKLyhQWFGO4VnHea3XxdQwx2UfnCYgovpjZxDsDbXDZQsYTKFw51XBZwiuCIezmTQbGIyhcOTZzF0CQ44q0aYrCPyhcObSyfiQsc3zsX+oDZRuULh7kArhcc7TGe6dT6nJZR+cKgnitSjxccLaUP9YU+YC5Q+cKgVRhiGOYQw8nQB8wFKl8YTBFmMdBSsrc0xOAGla/4RIVxZwiOlLoR7dUlZW5Q+YoPlXi/nXsyxEHCvctlIxQHqHzFhyZZ7hEcJT3vvQHgbOgD5gqVr/hIC+Oe1Kx1t6h8xYZCDEu5yYkJetb7KPQBc4nKV2ya+ZbT1F2ozEvK+kMfMJc01NWZEprdUy6bJ9vunzl73KqWNmraiI1nT/z11UO9p+Je7+o4JfvukMkAutLMWncxjqYxfGjO/EWdjS2dvUMDvb86uO8t0/v5+BmH4KQ4R/Lh3XJj15PLm1qX8weL6N56/vTWO3d3PzrqgeZMvvKyFWm8zf0AXhbMdFIWw9cA7DO9YalnUxr7NSpx40fSrZ8wc317qb6Nz303/fypU0eefnjfjmfi3tdHAb267TR9cOlqd/zme/4xQjyii35G/1btexeQRg4xmArjgstFeJ21TuI9N2n279pL9SuvOPf0364fj5v0o+cXLn0s7vd9PP/eyCcZnPUTL37rrRwhXkQXfSOaTkJAjBOGGIa4MO4Zn4eGrnijnHeia/XYjtV5E9AL+SSDsnPxHb/tbGzuNLys65vN41eltmP5ZibX5zTdb53xPWudrnp8qxlH7gTMXL6E4o32zXcZwUkKARKukzsRmaCiuAd8HhOaXJGc+7wJmKl8aYunXKaJbzlNhXGJLVwm0FtoVjOaXBGQGwEzk086uZJUPJr1TGP/cs4E7rVuIspaH/T5cCXhhBHkQsBM5JOI9+KUuS/FTK6MRve6E4fX2djnnLGAM9dNfA7gvTxkMVA4IcHVD3kQ0Ll8CcVLQvcjxw6t2dB3sGIvOV8DrRZo4Kx1aWHcQ3k4KIrjvXDm+AtFEtCpfLbFq+L2pIhEIQZJ1vqbvoUY4r4kH9zb80SRBHQmn4rnjGkAlgk2RqlD2/KWtV4kAZ3IlzCAngSReAHdctKBLhYWxv3I18K4pvNVFAGty5diAH0kKt5XaeL2X2MMrytzrZbjWeykhBAEtCqfxTieileZdi6MazrwC1ylzOus9aILaE0+FS8TKLxwnWDD/XnpvVdkAa3Ip+JlQgOXB5Qsr9sFoGJIxkeKKmDq8ql4mTE2QYiBshhO5OngiihgqvKpeJkylYPrJs5ziMHrJWWVKJqAqcmn4mVKVBh3pmEn6CR9wsWS8nmgBRIwFflUvMyh0MIdgt57dVwe8FieD7YoAtYsn4rnBTTJcrcgxBD1Wvc6a11CEQSsST4VzxtmCwvj9vNi6kIUxs27gFXLp+J5Q1QYVxJi2Fe0wrh5FrAq+VQ8r2jhxNkGw06VOYuhcIVx8ypgYvlUPO+grPXbBDs1wFWpjYVx80geBUwkn4rnJdcLs9b/C+D9Ig9E3gQUy6fieckYHmtTiAHcey83S8qqJU8CiuRT8byljZeUSUIMbxQhxCAhLwIa5VPxvOYqnuk0cdr3wrhpkwcBY+VT8byGBmeJoDBumQvjBtd7z3cBR5VPxfOeJmEWQx2HGI6GOEg+C1jxxKl4uWCyMGt9gKtSnwt1oHwV8CvyqXi5YT6AeYKdPZKXwrg2kQi4a/DcLpcCliQvuhIVzwsaObBuanoJLhfxnwDGxIjp87V457YfuBSwFPePI1HxvIGqUd8r6LU+zFkMpwMam1h8ErBU6YeVUPG8YjrPdJqg6mT/DCnEIMEXAUsqXu6Ieu9dJdjxjwF8GPqAVcIHAY1BdhXPO5o4a12SxbCZJ1yUCmQtYKx8Kp6XdAiz1i/wkrJgQwwSshRwVPlUPG+RFsalOi07Qw8xSMhKwIryqXjeEvXeGy/Ywffy0nvPB7IQ8CvyqXheM5ZDDJLCuHTLeTLw8UqEawG/dBJVPO+5ikvCmxjgEEPuCuNmjUsBL8un4nlPVBh3hmBHe7lYklIFrgS8KN+WG7ueVPG8ZwwvpJb03qPcvS9CH7BasCngz+YtuJ3+UqJ2zMubWpereN7TwVXKTIMaLSnTEEON2BLw8bapj9P/lFa1tD2QUDyoeJkwC8BCwYaj3nuFKIybNQkEFDOrvvFqVFM6sH94CLsHkm1MqZkkhXH38rIyxREvnL6YC5iI78yaN6PUOzTQm+Sy2V6qx4tT5r5Et6txr3PZWD4AWjhr3bSkbJiz1r3ttZ43TJ9jen5b2zFtbdLD2tB38NMS3T72Dw8lapTYXqpfqQI6ZZLw0SDKWh8o0LFnhkS8X06YuT7pfAlnzV+67Vxz7NCahA+NKqBbaDnZ1YItFr4writsiUfPh5Q1j0i+33+8f88jKqCvRL33mgX7945mrdeOTfFogib6weUJF7r9VAG9ZBxnMUiWlL3OCbRKlbgSDyNPqAroJdTq+SbBjtE6zu0aYqgel+Kh0repCugVFGRazJ2ITOznP0oVuBYPo93KqIDe0MwhhkbDDhW2954LshAPcc8RKqAXTOT1nCY0a71KshKPqLO0cVoJ88r3Dn/03VcP9Z6K3YGCLUMbXnpfWm9Vx2s5/8qTLnFQ0uxKXt1ilVLPJtubcEaW4hEl04dfr4CZ0cAhhrGCHegJofdemmQtHnlXguDqowJmQquwEcowVykLovdeGvggHq48sSqgd0wT9t47w+dEC+MK8EU8jPxWVQG9IQoxTBXs0AEtjCvDJ/FQ6ZZGBfSCZl7VYurFQIO1TQvjmvFNPIz2PKECZg4F1Zcn6LWuIYYYfBQPcQ/zKmCmXAPgWsEOHNXCuPH4Kh5MM2kqYCbQrebNWhi3dnwWD5IyEiqgcyjEcL/g3JS1MO7o+C4epDVcVECnUGHcZYINntXCuJXJg3hIUkBJBXTGjRzjM/EJgH8XfziSkRfxkLR6mQponWZeUmYqjAseYw0xXEGexINgKrsiuhh7dGpcWE23nC+xgHFQiOEnAJ6Nkmfrtr9m7ZiuxNexz5t4qKZup2RDegWsGiqMe73gl49r1vr/sXUxsCkeqpVPssFaBTS9roACRiGGdsFr93IzlOCxeRe25ujFz28stdwJVC0f7ArYRl2TTK8rmIBUGPc+4ZIyylpPVGu1iOT98acm+SQ7UKWAXdQ1KTABJycojLsVwHkH++QtRZh3qFk+yY6ogEbqeDmZpDAuJc3uyXh/M6UoE36pyAcVsFaiwrgtgvd5mytTB0mRZtpTkw8qYC20cq91E1Gv9SCz1osW4kpVPqiA1UIhhiWC36VJlndDDDEUMbacunxQAZMSZa13CH7vQ85cD4qiLuqwIh9UwCREWeuSwrhbQ+u9V+TVVNbkgwooZbKwMO4gP+8Fk8VQ9GWMVuWDCiiBstbnCl73OYDdoWSth7B+2Lp88EBAj6FbzdsEIQb6JO4IpfdeKAv3nciHjAX0+OrXykvKJOeB6rSfdrBPXlOkjBln8kGvgJWQ9t47w1nrhS+MG/dFWbRUNafyIUMBPbz60UAsAjBF8NoDoffee2jO/EVFyxF1Lh8sC/ibBUt+WPMOuqGFezE0CLa2OfSs9bUd09cWLTk7E/lgUcDVYztW17xzbugQFsa9wClEwWYx0FVvVn2jZNF5BGWgP+t7VYTM5IMlASkXMI19c8A8ANcJNnMk9MK4nY0tnQmuepdLP/hejiRT+WAxIddz6FbzFp7tNLEj9N57/cNDx4Xn32rNlbTJXD6kLODW86e3prlvlqCGlyuEvfdeD6Uw7miTYr848P7fJb/fPzx0Ii/iwRf5kJ6A3etOHF6X+s6lz3Su12KCGqC8FcqSsrjPwFOnjjwdd+6jyZVatuEab+RDcgGvPBEX/07/tqHvYMVbNI8GnXbkBhYwDroM9GnvvUs8vG/HMxvPnvxbBQG7+4YGX8xjyUkvizBKYnLPL1z62Kz6RsqDQ9/QYN+De3ueiHu9q4EX1O2kLAaaNv+5YPz/AOCnkpUtRanbKVlatqq5bVV7qXRxYm3j2ZMbJbelPtYbrdNeeOlSXrbC9H7TuDDu7YbXUcLswwCekyTPupJPSQ+vbjsDYbawMO4xAD1aGLe4qHxuoZqctwKQxCLfB/BxkQ5e+TIqn1vG8qoWSWHcLQBiJxCUfKPyuWUC5++ZOM8lIwYCGZcgUfncQdNtCxMUxt2rvdaLjcrnjka+5WwWbPGdULLWQ0blc0cbVykzMcRLys4GMCZBo/K5YybX5zRxSnvvhYHK54Y6Xss5UbC1fQAOFuGglXhUPjdQiOGuBCGG/qIcuDI6Kp8bJgqWk4GzF7aE3nsvFFQ+N1zLxXFNUGHcXRpiCAOVzz4NHFhvEmyJJlo+y/sBKzJUPvu0cpUy0/Ne1HtPl5QFgspnnxkAlgq2coa7zha+MK5yCZXPLnXc9HKyYCsHQuy9FzIqn12ahYVxy3zLeTjvB6zIUfnsMgnAHYItRIVxNYshIFQ+u1DfvfmCLRwLvTBuiKh89mjkKsvjBFvoCb0wboiofPagRij3Csa4zFkMwffeCw2Vzx7TEoQYukPqta5cQuWzQ4nTh6YK3r2Xs9aVwFD57EDPe3cKlpSV+ap3PK8HqlSPymeHCVwywsQQx/c0az1AVD47zBEWxj3BLcCG83iQSm2ofOlTz73WJb33dmph3HBR+dKniQPrkhDDZr76KQGi8qUPTbaMF7zrGS2MGzYqX/oMcR/1uFIQZS6UtFuXlIWLypc+57kURN8o71zmq96fuWyEEigqX/pc4HIQL/MVcOSVjVo9/wXABi2UFDamPDMlOWVeJP0nfp77OvdnKHG+3iYAfwTwgd5yho3KZweSbg+AX/Oi6bmc1d7Hz3mf6kSLovLZg+T6hKuRNfJWBvm2VK94oQPgf+YheNWoZoShAAAAAElFTkSuQmCC"})),tne=n=>O.createElement("svg",{viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M55.2812 7.625H5.71875C2.56009 7.625 0 10.1851 0 13.3438V43.8438C0 47.0024 2.56009 49.5625 5.71875 49.5625H22.875V55.2812H20.0156C19.4895 55.2812 19.0625 55.7082 19.0625 56.2344C19.0625 56.7605 19.4895 57.1875 20.0156 57.1875H40.9844C41.5105 57.1875 41.9375 56.7605 41.9375 56.2344C41.9375 55.7082 41.5105 55.2812 40.9844 55.2812H38.125V49.5625H55.2812C58.4399 49.5625 61 47.0024 61 43.8438V13.3438C61 10.1851 58.4399 7.625 55.2812 7.625ZM36.2188 55.2812H24.7812V49.5625H36.2188V55.2812ZM59.0938 43.8438C59.0938 45.9502 57.3877 47.6562 55.2812 47.6562H5.71875C3.61234 47.6562 1.90625 45.9502 1.90625 43.8438V13.3438C1.90625 11.2373 3.61234 9.53125 5.71875 9.53125H55.2812C57.3877 9.53125 59.0938 11.2373 59.0938 13.3438V43.8438ZM49.1908 17.2134C47.7001 16.9199 46.3791 17.7853 45.9254 19.0625H34.3125V17.1562H26.6875V19.0625H15.0746C14.6209 17.7853 13.298 16.9199 11.8092 17.2134C10.7169 17.4288 9.82672 18.3038 9.59797 19.3942C9.20719 21.2452 10.6083 22.875 12.3906 22.875C13.6335 22.875 14.6819 22.0763 15.0746 20.9688H26.6875V21.3958C18.3229 23.1057 11.9236 30.2751 11.4642 39.0209C11.4356 39.568 11.8702 40.0312 12.4192 40.0312C12.9206 40.0312 13.3418 39.6424 13.3666 39.141C13.765 31.3921 19.3408 25.0157 26.6875 23.3401V24.7812H34.3125V23.3382C41.6592 25.0157 47.235 31.3921 47.6334 39.1391C47.6601 39.6424 48.0794 40.0312 48.5808 40.0312C49.1298 40.0312 49.5644 39.568 49.5358 39.0209C49.0764 30.2751 42.6771 23.1057 34.3125 21.3958V20.9688H45.9254C46.32 22.0763 47.3665 22.875 48.6094 22.875C50.3917 22.875 51.7928 21.2452 51.4039 19.3942C51.1733 18.3038 50.2831 17.4288 49.1908 17.2134ZM12.3906 20.9688C11.8645 20.9688 11.4375 20.5417 11.4375 20.0156C11.4375 19.4895 11.8645 19.0625 12.3906 19.0625C12.9167 19.0625 13.3438 19.4895 13.3438 20.0156C13.3438 20.5417 12.9167 20.9688 12.3906 20.9688ZM32.4062 22.875H28.5938V19.0625H32.4062V22.875ZM48.6094 20.9688C48.0832 20.9688 47.6562 20.5417 47.6562 20.0156C47.6562 19.4895 48.0832 19.0625 48.6094 19.0625C49.1355 19.0625 49.5625 19.4895 49.5625 20.0156C49.5625 20.5417 49.1355 20.9688 48.6094 20.9688Z",fill:"#FE3140"})),nne=n=>O.createElement("svg",{width:61,height:58,viewBox:"0 0 61 58",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M51.4688 7.5271H9.53126C8.12754 7.5271 6.98959 8.60855 6.98959 9.94258V16.0443C6.98959 17.3784 8.12754 18.4598 9.53126 18.4598H51.4688C52.8725 18.4598 54.0104 17.3784 54.0104 16.0443V9.94258C54.0104 8.60855 52.8725 7.5271 51.4688 7.5271Z",stroke:"#FE3140",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),O.createElement("path",{d:"M53.8043 33.577V31.4015C53.8043 30.0674 52.6664 28.986 51.2626 28.986H9.53126C8.1275 28.986 6.98959 27.9046 6.98959 26.5705V24.395",stroke:"#FE3140",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),O.createElement("path",{d:"M51.4688 39.5122H9.53126C8.12754 39.5122 6.98959 40.5937 6.98959 41.9277V48.0294C6.98959 49.3635 8.12754 50.4449 9.53126 50.4449H51.4688C52.8725 50.4449 54.0104 49.3635 54.0104 48.0294V41.9277C54.0104 40.5937 52.8725 39.5122 51.4688 39.5122Z",stroke:"#FE3140",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),eL=n=>O.createElement("svg",{width:56,height:51,viewBox:"0 0 56 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M46.0975 16.6176C45.5271 16.4181 44.936 16.2293 44.3274 16.0507C44.4274 15.6358 44.5193 15.2263 44.6009 14.8237C45.9408 8.21336 45.0647 2.88802 42.0732 1.13469C39.2047 -0.546516 34.5134 1.20641 29.7755 5.39705C29.3199 5.80002 28.8631 6.22666 28.4064 6.6738C28.1021 6.37796 27.7983 6.09207 27.4953 5.81862C22.5298 1.33772 17.5527 -0.550595 14.5641 1.20781C11.6983 2.89389 10.8496 7.90021 12.0557 14.1649C12.1722 14.77 12.3084 15.3879 12.4623 16.0162C11.7579 16.2194 11.0779 16.4361 10.4272 16.6665C4.60574 18.7293 0.887878 21.9622 0.887878 25.3156C0.887878 28.779 4.879 32.2528 10.9425 34.3592C11.421 34.5254 11.9176 34.6826 12.4292 34.8318C12.2631 35.5113 12.1187 36.1772 11.9974 36.8266C10.8474 42.9826 11.7455 47.8706 14.6036 49.5461C17.5558 51.2763 22.5104 49.4978 27.3349 45.2117C27.7163 44.8729 28.0989 44.5136 28.4823 44.137C28.9792 44.6233 29.4754 45.0836 29.9688 45.5153C34.642 49.6024 39.2574 51.2527 42.1129 49.5726C45.0622 47.8374 46.0206 42.5865 44.7763 36.1979C44.6812 35.7099 44.5706 35.2115 44.4464 34.7042C44.7944 34.5996 45.136 34.4917 45.469 34.3795C51.7726 32.2568 55.874 28.8252 55.874 25.3156C55.874 21.9501 52.0362 18.6954 46.0975 16.6176ZM44.7303 32.1134C44.4296 32.2145 44.1211 32.3123 43.8067 32.4071C43.1108 30.168 42.1716 27.7871 41.0223 25.3272C42.1191 22.9259 43.022 20.5755 43.6984 18.3509C44.2609 18.5164 44.8068 18.6908 45.3329 18.875C50.4212 20.6553 53.525 23.2874 53.525 25.3156C53.525 27.476 50.173 30.2805 44.7303 32.1134ZM42.4719 36.6615C43.0222 39.4865 43.1008 42.0406 42.7363 44.0372C42.4088 45.8313 41.7502 47.0275 40.9359 47.5065C39.203 48.526 35.4973 47.2009 31.5008 43.7056C31.0426 43.3049 30.5811 42.877 30.1182 42.4242C31.6675 40.702 33.216 38.6999 34.7273 36.4764C37.3855 36.2367 39.8968 35.8447 42.1743 35.3097C42.2864 35.7695 42.3861 36.2205 42.4719 36.6615ZM19.6339 47.3304C17.9408 47.9381 16.5924 47.9555 15.7773 47.4778C14.0429 46.4611 13.3219 42.5364 14.3054 37.2719C14.418 36.669 14.5521 36.0496 14.7067 35.4166C16.9592 35.9228 19.4521 36.2871 22.1167 36.5066C23.6381 38.6824 25.2313 40.6823 26.8369 42.4335C26.4861 42.7777 26.1367 43.1053 25.7892 43.4141C23.6558 45.3094 21.518 46.6541 19.6339 47.3304ZM11.7022 32.1001C9.02105 31.1688 6.80684 29.9583 5.2891 28.6373C3.92532 27.4503 3.23677 26.2719 3.23677 25.3156C3.23677 23.2807 6.22184 20.6851 11.2004 18.9209C11.8045 18.7069 12.4369 18.5051 13.0931 18.3156C13.7812 20.5904 14.6838 22.9687 15.773 25.3737C14.6697 27.8144 13.7543 30.2306 13.0595 32.532C12.5916 32.3954 12.1384 32.2515 11.7022 32.1001ZM14.361 13.7064C13.3276 8.33899 14.0139 4.29 15.7409 3.27398C17.5805 2.1916 21.6482 3.73484 25.9355 7.60388C26.2096 7.85117 26.4847 8.11 26.7606 8.37779C25.163 10.1213 23.5844 12.1062 22.0764 14.2691C19.4904 14.5127 17.015 14.9041 14.739 15.4281C14.5959 14.8431 14.4691 14.2683 14.361 13.7064ZM38.0795 19.6588C37.5354 18.7037 36.9768 17.7711 36.4074 16.864C38.1618 17.0894 39.8427 17.3886 41.4212 17.7548C40.9473 19.2984 40.3566 20.9124 39.6613 22.5669C39.1626 21.6045 38.635 20.6342 38.0795 19.6588ZM28.4072 10.084C29.4906 11.277 30.5757 12.6089 31.6429 14.0541C30.5674 14.0024 29.4787 13.9756 28.3809 13.9756C27.2935 13.9756 26.2128 14.0018 25.144 14.0526C26.2123 12.6208 27.3067 11.2907 28.4072 10.084ZM18.6728 19.6753C18.1294 20.6332 17.6116 21.5983 17.1207 22.5652C16.4366 20.9164 15.8514 19.295 15.3734 17.7295C16.9422 17.3727 18.6152 17.081 20.3584 16.8598C19.781 17.7753 19.2178 18.7147 18.6728 19.6751V19.6753ZM20.4087 33.9417C18.6076 33.7375 16.9094 33.4607 15.341 33.1138C15.8267 31.5203 16.4248 29.8644 17.1233 28.1801C17.6155 29.1462 18.1353 30.1117 18.6821 31.0717H18.6822C19.2392 32.0496 19.8163 33.0075 20.4087 33.9417ZM28.4721 40.7156C27.3588 39.4947 26.2483 38.1443 25.1638 36.6916C26.2166 36.7336 27.29 36.7551 28.3809 36.7551C29.5017 36.7551 30.6096 36.7294 31.7001 36.6801C30.6294 38.1589 29.5483 39.5114 28.4721 40.7156ZM39.6838 28.0942C40.4187 29.7967 41.0382 31.444 41.5302 33.0103C39.9359 33.38 38.2146 33.6777 36.401 33.8989C36.9718 32.9796 37.5352 32.031 38.0889 31.0553C38.649 30.0681 39.1809 29.0794 39.6838 28.0942ZM36.0542 29.8626C35.1946 31.3772 34.3122 32.8232 33.4164 34.1881C31.7847 34.3067 30.099 34.3677 28.3809 34.3677C26.6698 34.3677 25.0053 34.3137 23.4025 34.208C22.4706 32.8252 21.569 31.375 20.7149 29.8756H20.7151C19.8633 28.3803 19.0793 26.8724 18.3689 25.3729C19.0791 23.87 19.861 22.3603 20.708 20.8677L20.7078 20.868C21.5569 19.3714 22.4506 17.9283 23.374 16.5541C25.0092 16.4285 26.6861 16.363 28.3808 16.363H28.3809C30.0833 16.363 31.7623 16.429 33.3971 16.5557C34.3063 17.9198 35.194 19.3583 36.0465 20.8551C36.9086 22.3687 37.7006 23.8683 38.4169 25.339C37.7028 26.835 36.9125 28.3497 36.0542 29.8626ZM40.8999 3.20295C42.7412 4.28215 43.4572 8.63453 42.3003 14.3418C42.2265 14.706 42.1434 15.077 42.0532 15.4529C39.7719 14.9179 37.2947 14.5198 34.7012 14.2725C33.1903 12.0858 31.6246 10.0978 30.053 8.37669C30.4755 7.96358 30.8975 7.56966 31.3176 7.19793C35.3771 3.60741 39.1712 2.18981 40.8999 3.20295ZM28.3809 20.3253C31.0926 20.3253 33.291 22.5595 33.291 25.3156C33.291 28.0716 31.0926 30.3059 28.3809 30.3059C25.6692 30.3059 23.4709 28.0716 23.4709 25.3156C23.4709 22.5595 25.6692 20.3253 28.3809 20.3253Z",fill:"#FE3140"})),ine=n=>O.createElement("svg",{width:51,height:56,viewBox:"0 0 51 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2233 55.8398C24.4512 55.8398 23.7306 55.6378 23.0615 55.2842L16.2158 51.2935C15.1863 50.7378 15.7011 50.5357 16.0099 50.4347C17.3996 49.9801 17.657 49.879 19.0982 49.0708C19.2526 48.9697 19.4585 49.0203 19.6129 49.1213L24.863 52.2027C25.0689 52.3038 25.3262 52.3038 25.4806 52.2027L46.0178 40.5337C46.2236 40.4326 46.3266 40.2306 46.3266 39.978V16.6904C46.3266 16.4378 46.2236 16.2357 46.0178 16.1347L25.4806 4.51613C25.2748 4.4151 25.0174 4.4151 24.863 4.51613L4.32585 16.1347C4.11997 16.2357 4.01702 16.4883 4.01702 16.6904V39.978C4.01702 40.1801 4.11997 40.4326 4.32585 40.5337L9.93625 43.7161C12.9731 45.2316 14.8775 43.4636 14.8775 41.6955V18.711C14.8775 18.4079 15.1349 18.1048 15.4952 18.1048H18.1202C18.429 18.1048 18.7379 18.3574 18.7379 18.711V41.6955C18.7379 45.6862 16.5246 48.0099 12.6642 48.0099C11.4804 48.0099 10.5539 48.0099 7.92886 46.7471L2.52435 43.7161C1.18609 42.9584 0.362549 41.544 0.362549 40.0285V16.7409C0.362549 15.2254 1.18609 13.811 2.52435 13.0532L23.0615 1.38417C24.3483 0.676956 26.0983 0.676956 27.3851 1.38417L47.9222 13.0532C49.2605 13.811 50.084 15.2254 50.084 16.7409V40.0285C50.084 41.544 49.2605 42.9584 47.9222 43.7161L27.3851 55.3852C26.716 55.6883 25.9439 55.8398 25.2233 55.8398ZM31.5543 39.8264C22.5468 39.8264 20.6938 35.7852 20.6938 32.3502C20.6938 32.0471 20.9511 31.744 21.3114 31.744H23.988C24.2968 31.744 24.5542 31.946 24.5542 32.2491C24.9659 34.9264 26.1498 36.2398 31.6057 36.2398C35.9294 36.2398 37.7823 35.28 37.7823 33.0069C37.7823 31.6935 37.2676 30.7337 30.5248 30.077C24.9145 29.5213 21.4144 28.3089 21.4144 23.9141C21.4144 19.8223 24.9145 17.3976 30.7822 17.3976C37.3706 17.3976 40.6133 19.6203 41.025 24.4697C41.025 24.6213 40.9736 24.7728 40.8706 24.9244C40.7677 25.0254 40.6133 25.1264 40.4588 25.1264H37.7823C37.525 25.1264 37.2676 24.9244 37.2161 24.6718C36.5985 21.8935 35.0029 20.9842 30.7822 20.9842C26.0468 20.9842 25.4806 22.6007 25.4806 23.813C25.4806 25.278 26.1498 25.7326 32.5322 26.5409C38.8632 27.3491 41.8486 28.511 41.8486 32.8553C41.7971 37.3007 38.0912 39.8264 31.5543 39.8264Z",fill:"#FE3140"})),tL=n=>O.createElement("svg",{width:63,height:63,viewBox:"0 0 63 63",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.1823 4.43286C35.8086 4.43808 35.4382 4.50376 35.0855 4.62733C38.2261 6.6926 34.5215 9.68354 36.2523 12.2116C36.133 11.3613 36.2683 10.4947 36.641 9.72115C37.0138 8.94762 37.6073 8.30182 38.3467 7.86525C38.9009 7.40436 39.2568 7.23906 39.1382 6.47674C38.9457 5.22824 37.281 4.43286 36.1823 4.43286ZM40.6551 5.23797C40.2214 7.42186 39.6827 7.50159 38.0822 8.90761C37.458 9.39974 37.0175 10.0876 36.8316 10.8605C36.6457 11.6333 36.7252 12.4463 37.0574 13.1684C30.4454 10.6014 21.9704 9.04957 15.7571 13.4913C13.5227 15.0879 12.1594 17.3806 9.4038 18.316C7.62245 18.9267 5.87223 18.7458 4.75597 20.5116C4.34773 21.0215 4.13446 21.6601 4.15442 22.313C4.17438 22.9659 4.42625 23.5903 4.86488 24.0743C5.19742 24.4146 5.83722 24.6324 6.1017 24.9786C6.25533 25.173 6.25144 25.3675 6.3973 25.6262C6.65506 26.2289 7.02757 26.7758 7.4941 27.2364C7.77997 27.4717 8.76205 27.7012 8.92929 27.952C9.13932 28.2651 8.5948 29.5078 9.05181 29.7022C9.35907 29.8442 10.2595 28.2554 10.347 28.1154C10.1681 29.3658 9.93275 31.5847 11.3388 29.7373C12.0058 28.8602 12.0466 28.5704 13.1687 28.376C13.8868 28.2512 14.6126 28.1758 15.341 28.1504C19.502 28.0048 23.5604 29.4609 26.6799 32.2185C29.7994 34.9762 31.7422 38.8253 32.1081 42.9729C31.8981 42.0005 30.6282 40.4448 29.4458 40.8142C28.9422 40.9698 28.7555 41.8391 28.4249 42.3428C28.0069 42.9814 27.4918 43.5509 26.8983 44.0308C26.9988 43.088 26.9515 42.1353 26.7583 41.2071C26.4043 42.6617 25.6945 45.0751 23.9073 44.6842C23.312 44.5933 22.7542 44.3369 22.2975 43.9442C21.8409 43.5515 21.5038 43.0384 21.3248 42.4633C21.0934 40.9854 22.655 39.2526 20.1444 39.1301C15.1076 38.8832 16.2725 46.2905 19.2459 48.2216C18.5625 48.2972 17.8959 48.4831 17.272 48.7719C19.1608 49.8689 21.2891 50.4876 23.4716 50.5744C25.6541 50.6611 27.8247 50.2133 29.7947 49.2697C31.7646 48.3262 33.4741 46.9155 34.7744 45.1606C36.0748 43.4056 36.9266 41.3594 37.2557 39.2001C37.6885 41.1776 37.6786 43.2264 37.2266 45.1995C36.9849 46.2481 36.6234 47.2654 36.1492 48.2313C35.5064 49.536 34.6521 50.7254 33.6211 51.7512C33.0105 52.356 31.8903 52.9647 31.5053 53.5812C33.8622 53.2687 36.1653 52.6353 38.3506 51.6987C36.0884 54.7972 33.0758 57.2699 29.5956 58.8844C33.327 58.6204 36.9341 57.4317 40.0914 55.4256C43.2488 53.4195 45.8571 50.659 47.6813 47.3932C47.0999 50.6594 45.8087 53.7583 43.8988 56.471C46.4676 54.7513 48.6531 52.519 50.3181 49.9143C51.983 47.3097 53.0914 44.3889 53.5737 41.3354C54.0526 43.5706 54.1896 45.8655 53.9801 48.1419C56.0903 45.2097 57.5158 41.8416 58.1516 38.2854C58.7874 34.7293 58.6172 31.0758 57.6537 27.5942C56.9167 24.8876 55.8115 22.2951 54.3691 19.8893C53.8121 18.9519 53.2024 18.0468 52.543 17.1784C52.2843 16.842 50.9017 15.611 50.9017 15.2337C50.89 15.2713 50.8803 15.2713 50.8725 15.2337C50.8725 21.5501 44.0661 25.6048 38.3662 23.9129C40.5335 23.7448 42.582 22.8553 44.1845 21.3864C45.787 19.9174 46.8511 17.9539 47.2067 15.8093C47.5217 13.5594 47.0388 11.2703 45.8421 9.3392C44.6453 7.40814 42.8101 5.95711 40.6551 5.23797Z",fill:"#FE3140"})),nL=n=>O.createElement("svg",{width:63,height:38,viewBox:"0 0 63 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M31.7219 0.12207C23.4545 0.12207 18.2874 4.28177 16.2205 12.6012C19.3208 8.44148 22.9378 6.88159 27.0715 7.92152C29.43 8.51485 31.1157 10.2366 32.9817 12.1426C36.0213 15.2473 39.5393 18.8407 47.2233 18.8407C55.4907 18.8407 60.6579 14.681 62.7247 6.36163C59.6244 10.5213 56.0074 12.0812 51.8737 11.0413C49.5152 10.448 47.8295 8.72619 45.9636 6.82023C42.9239 3.71548 39.4059 0.12207 31.7219 0.12207ZM16.2205 18.8407C7.9531 18.8407 2.78597 23.0004 0.719116 31.3199C3.8194 27.1601 7.43639 25.6003 11.5701 26.6402C13.9286 27.2335 15.6144 28.9553 17.4803 30.8612C20.5199 33.966 24.0379 37.5594 31.7219 37.5594C39.9893 37.5594 45.1565 33.3997 47.2233 25.0803C44.123 29.24 40.506 30.7999 36.3723 29.76C34.0138 29.1666 32.3281 27.4449 30.4622 25.5389C27.4225 22.4341 23.9045 18.8407 16.2205 18.8407Z",fill:"url(#paint0_linear_165_387)"}),O.createElement("defs",null,O.createElement("linearGradient",{id:"paint0_linear_165_387",x1:-1.00326,y1:12.102,x2:52.7157,y2:42.8816,gradientUnits:"userSpaceOnUse"},O.createElement("stop",{stopColor:"#66171D"}),O.createElement("stop",{offset:1,stopColor:"#FE3140"})))),rne=n=>O.createElement("svg",{width:61,height:60,viewBox:"0 0 61 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M45.2664 15.4498C46.8515 15.8186 48.2917 16.6485 49.4055 17.835C50.0191 18.4771 50.5518 19.1918 50.9919 19.9632C51.0124 20.047 48.1357 21.9797 46.3911 23.0577C46.3278 23.1006 46.0764 22.8268 45.7915 22.406C45.4728 21.8582 45.0204 21.4001 44.4767 21.0745C43.9329 20.7489 43.3155 20.5664 42.6821 20.5441C40.6768 20.4063 39.3846 21.4565 39.3939 23.2123C39.3766 23.6436 39.4749 24.0718 39.6788 24.4523C40.12 25.3647 40.9393 25.9121 43.5125 27.0274C48.2493 29.0662 50.2825 30.4105 51.5375 32.3209C52.2468 33.5279 52.6837 34.8755 52.8175 36.2691C52.9513 37.6627 52.7788 39.0687 52.312 40.3887C51.6706 41.8362 50.6533 43.0857 49.3659 44.0074C48.0785 44.929 46.5679 45.4893 44.9909 45.6301C43.3145 45.8224 41.6208 45.8048 39.9487 45.5779C37.3876 45.1571 35.0283 43.9279 33.216 42.07C32.5311 41.2989 31.9514 40.4405 31.4918 39.5173C31.685 39.3736 31.8885 39.2441 32.1006 39.13C32.3948 38.9624 33.5083 38.3219 34.5584 37.7131L36.465 36.5959L36.8635 37.1768C37.5346 38.1366 38.3889 38.9541 39.3771 39.5825C40.3752 40.1299 41.5057 40.3893 42.6426 40.3318C43.7795 40.2743 44.878 39.902 45.8157 39.2566C46.2994 38.7852 46.6018 38.1586 46.6699 37.4866C46.738 36.8146 46.5674 36.14 46.1881 35.5812C45.6742 34.8457 44.6241 34.2275 41.6394 32.9335C39.299 32.1443 37.1673 30.8363 35.4037 29.1072C34.5639 28.1501 33.9436 27.0208 33.5865 25.7985C33.3224 24.4061 33.2834 22.9804 33.471 21.5756C33.8214 19.9592 34.6603 18.4895 35.8739 17.3658C37.0876 16.242 38.6174 15.5186 40.256 15.2934C41.9245 15.094 43.6136 15.1468 45.2664 15.4498ZM29.7323 18.2111L29.7527 20.9184H21.1319V45.3992H15.0527V20.9239H6.4319V18.2651C6.40897 17.3545 6.43383 16.4434 6.50637 15.5355C6.53803 15.4927 11.7794 15.4722 18.1342 15.4833L29.6987 15.515L29.7323 18.2111Z",fill:"#FE3140"})),sne=n=>O.createElement("svg",{width:47,height:57,viewBox:"0 0 47 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.9775 45.0599L16.9193 52.5305C16.7448 52.5834 16.5594 52.5902 16.3815 52.5501C16.2035 52.51 16.0389 52.4244 15.9039 52.3018C15.7689 52.1791 15.668 52.0235 15.6111 51.8502C15.5541 51.6768 15.5431 51.4917 15.5791 51.3129L24.5326 8.09045C24.5705 7.9139 24.6627 7.75364 24.7964 7.6322C24.93 7.51077 25.0984 7.43425 25.2777 7.41341C25.4571 7.39257 25.6385 7.42845 25.7964 7.51601C25.9543 7.60357 26.0808 7.73841 26.1582 7.90158L42.733 43.3881C42.8074 43.5459 42.8465 43.7179 42.8479 43.8923C42.8493 44.0667 42.8128 44.2394 42.741 44.3983C42.6692 44.5572 42.5637 44.6987 42.4319 44.8129C42.3001 44.9271 42.1451 45.0114 41.9775 45.0599ZM46.2755 43.2957L27.0885 2.20717C26.8527 1.70038 26.4832 1.26743 26.0198 0.954831C25.5564 0.642235 25.0165 0.461812 24.4583 0.432947C23.9 0.39455 23.342 0.51099 22.8456 0.769443C22.3493 1.0279 21.9339 1.41833 21.6453 1.89774L0.838784 35.8934C0.521389 36.408 0.356327 37.002 0.362728 37.6065C0.369129 38.2111 0.546733 38.8015 0.874952 39.3092L11.0501 55.2009C11.4335 55.7948 11.999 56.2485 12.6619 56.4941C13.3248 56.7397 14.0494 56.7639 14.7272 56.5632L44.2641 47.7564C44.7102 47.6264 45.1229 47.4013 45.4736 47.0966C45.8244 46.7919 46.1049 46.4147 46.2959 45.9911C46.4869 45.5675 46.5837 45.1076 46.5799 44.643C46.576 44.1783 46.4715 43.7201 46.2735 43.2997L46.2755 43.2957Z",fill:"#FE3140"})),one=n=>O.createElement("svg",{width:62,height:62,viewBox:"0 0 62 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M26.7631 19.2476C26.1448 19.1616 25.5849 19.2412 25.3016 19.4557C25.1424 19.5764 25.093 19.7162 25.0796 19.8124C25.0441 20.0673 25.2227 20.3492 25.3325 20.4946C25.643 20.9062 26.0966 21.189 26.5455 21.2513C26.6106 21.2605 26.6754 21.2647 26.7398 21.2647C27.4884 21.2647 28.1692 20.6817 28.2292 20.2514C28.3042 19.7125 27.5219 19.353 26.7631 19.2476ZM47.2461 19.2647C47.187 18.8423 46.4354 18.7218 45.722 18.821C45.0096 18.9202 44.3189 19.2418 44.3765 19.6652C44.4227 19.9944 45.0172 20.5564 45.7209 20.5564C45.7804 20.5564 45.8404 20.5525 45.9008 20.544C46.3705 20.4789 46.7152 20.1806 46.879 20.0087C47.1282 19.7466 47.2726 19.4546 47.2461 19.2647Z",fill:"#FE3140"}),O.createElement("path",{d:"M58.9986 37.3582C58.737 36.5671 57.8949 36.3126 56.4959 36.6015C52.3421 37.4588 50.8545 36.8649 50.3661 36.5052C53.5948 31.5866 56.2509 25.6409 57.6838 20.0936C58.3626 17.4658 58.7375 15.0254 58.7682 13.0363C58.8021 10.8531 58.4302 9.24878 57.6633 8.26875C54.5714 4.31791 50.0334 2.19865 44.5403 2.14052C40.7639 2.09807 37.5733 3.06449 36.9547 3.33626C35.6522 3.01235 34.2322 2.81348 32.6862 2.78811C29.8513 2.7422 27.4008 3.42093 25.3719 4.80447C24.4906 4.47641 22.2131 3.69455 19.4278 3.24583C14.6125 2.47066 10.786 3.05803 8.05542 4.9925C4.79716 7.30094 3.29296 11.4273 3.58434 17.2568C3.68239 19.218 4.79993 25.2514 6.56344 31.0295C8.8848 38.6344 11.4083 42.9396 14.0632 43.8253C14.374 43.9289 14.7323 44.0013 15.1275 44.0013C16.096 44.0013 17.2834 43.5648 18.5188 42.0796C20.0257 40.2719 21.5845 38.5081 23.1932 36.7904C24.2369 37.3506 25.3835 37.6634 26.5561 37.6948C26.5585 37.7254 26.5615 37.7561 26.5642 37.7866C26.3624 38.0273 26.1647 38.2715 25.9713 38.5191C25.1588 39.5506 24.9897 39.7653 22.3741 40.3038C21.6301 40.4575 19.6541 40.8647 19.6251 42.2498C19.5937 43.7632 21.961 44.3988 22.2306 44.4662C23.1705 44.7015 24.0761 44.8176 24.9396 44.8176C27.0397 44.8176 28.8879 44.1273 30.3649 42.7917C30.3194 48.187 30.5444 53.5034 31.1922 55.1232C31.7228 56.4493 33.0189 59.69 37.113 59.6898C37.7138 59.6898 38.375 59.6199 39.1024 59.4639C43.3753 58.548 45.2308 56.6594 45.9486 52.4959C46.3327 50.2708 46.9918 44.9574 47.3019 42.1072C47.9562 42.3114 48.7985 42.4049 49.7091 42.4046C51.6082 42.4046 53.7997 42.0011 55.174 41.3632C56.7179 40.6462 59.5039 38.8868 58.9986 37.3582ZM48.8231 18.0989C48.8091 18.9403 48.6933 19.7041 48.5705 20.5014C48.4383 21.359 48.3018 22.2456 48.2674 23.3218C48.2335 24.3692 48.3643 25.4581 48.4907 26.5113C48.7463 28.6384 49.0086 30.8283 47.9933 32.9891C47.8246 32.6902 47.6744 32.3813 47.5434 32.0642C47.4172 31.7583 47.1431 31.2668 46.7636 30.5867C45.2873 27.9392 41.8302 21.7392 43.6 19.2093C44.1271 18.4562 45.465 17.682 48.8231 18.0989ZM44.7526 3.84428C49.6744 3.95294 53.5678 5.7942 56.3243 9.31661C58.4385 12.0184 56.1104 24.312 49.3708 34.9178C49.3031 34.8316 49.2349 34.7457 49.1664 34.6601L49.0811 34.5535C50.8227 31.6773 50.4821 28.8315 50.179 26.3085C50.0544 25.2731 49.9368 24.2952 49.9668 23.3765C49.9977 22.4029 50.1264 21.5678 50.251 20.7603C50.4039 19.7653 50.5597 18.7356 50.5168 17.5219C50.5488 17.3945 50.5617 17.2441 50.5449 17.0655C50.4353 15.9016 49.1064 12.4182 46.398 9.26539C44.9164 7.54087 42.7558 5.61102 39.8058 4.30938C41.0747 4.04637 42.8098 3.80113 44.7526 3.84428ZM17.2114 40.9925C15.8503 42.6291 14.9104 42.3153 14.6012 42.2124C12.5872 41.5406 10.2501 37.2836 8.18969 30.5332C6.40679 24.6922 5.36493 18.8187 5.28234 17.1717C5.0221 11.9628 6.28475 8.33265 9.03545 6.38181C13.5121 3.2073 20.872 5.10739 23.8294 6.07105C23.787 6.11303 23.7427 6.15225 23.7007 6.19493C18.8476 11.096 18.9627 19.4697 18.9747 19.9817C18.9742 20.1791 18.9909 20.4588 19.0135 20.8433C19.097 22.2518 19.2525 24.8731 18.8372 27.8416C18.4515 30.6001 19.3018 33.3001 21.1699 35.2493C21.3616 35.449 21.5631 35.639 21.7736 35.8187C20.9422 36.7092 19.135 38.6785 17.2114 40.9925ZM22.3974 34.0729C20.8919 32.5018 20.2081 30.3166 20.5211 28.0769C20.9595 24.9411 20.7977 22.21 20.7108 20.7428C20.6985 20.5374 20.6877 20.3575 20.6815 20.2156C21.3904 19.5869 24.6759 17.8266 27.0189 18.3635C28.088 18.6083 28.7395 19.3364 29.0104 20.5886C30.4122 27.0722 29.1959 29.7744 28.2186 31.946C28.0172 32.3934 27.8269 32.8163 27.6645 33.2537L27.5385 33.5919C27.2197 34.4469 26.923 35.2419 26.7391 35.9968C25.1385 35.9922 23.5814 35.3083 22.3974 34.0727V34.0729ZM22.6432 42.8167C22.1757 42.6999 21.7554 42.4971 21.5088 42.3289C21.7148 42.2321 22.0814 42.1001 22.7172 41.969C25.7941 41.3358 26.2694 40.8887 27.3071 39.5711C27.5449 39.2689 27.8146 38.9265 28.1882 38.5094L28.1886 38.5089C28.7448 37.886 28.9993 37.9917 29.4607 38.1832C29.8347 38.3377 30.199 38.8065 30.3466 39.3224C30.4165 39.566 30.495 40.0284 30.2382 40.3883C28.0705 43.4234 24.9117 43.3844 22.6432 42.8167ZM38.7462 57.8014C34.982 58.608 33.6492 56.6874 32.7709 54.4917C32.204 53.0743 31.9254 46.6824 32.1231 39.6235C32.1256 39.5296 32.1122 39.4389 32.0864 39.3535C32.0633 39.185 32.0281 39.0183 31.9812 38.8548C31.6873 37.8277 30.9709 36.9685 30.1115 36.6123C29.7701 36.4709 29.1435 36.2113 28.3905 36.404C28.5511 35.7423 28.8295 34.995 29.1315 34.186L29.2582 33.8457C29.4007 33.462 29.5798 33.0645 29.769 32.6437C30.7917 30.3717 32.1923 27.2597 30.6722 20.2294C30.1028 17.5962 28.2013 16.3102 25.3189 16.609C23.5909 16.7878 22.0099 17.485 21.2213 17.8848C21.0517 17.9706 20.8967 18.0537 20.7518 18.1344C20.9719 15.4813 21.8034 10.523 24.9138 7.38584C26.8722 5.411 29.4803 4.43557 32.6581 4.48817C38.9194 4.59061 42.9346 7.80387 45.2006 10.4817C47.1533 12.789 48.2106 15.1133 48.6326 16.367C45.4592 16.0442 43.301 16.6706 42.207 18.2348C39.8268 21.6372 43.5091 28.2409 45.2788 31.4147C45.6034 31.9963 45.8835 32.4991 45.9716 32.7127C46.5479 34.1094 47.294 35.0419 47.8387 35.7225C48.0058 35.931 48.1677 36.1334 48.2909 36.3101C47.3298 36.5871 45.6034 37.2274 45.7608 40.4275C45.6339 42.0332 44.7316 49.5509 44.2732 52.2071C43.668 55.7161 42.3768 57.023 38.7462 57.8017V57.8014ZM54.4581 39.8212C53.4753 40.2773 51.8306 40.6194 50.2683 40.693C48.5426 40.7738 47.6641 40.4997 47.4574 40.331C47.3605 38.3368 48.1026 38.1285 48.8882 37.9079C49.0116 37.8733 49.1321 37.8394 49.2483 37.7988C49.3205 37.8576 49.3997 37.916 49.4864 37.9732C50.8734 38.8887 53.3473 38.9874 56.8399 38.2665L56.8782 38.2588C56.4071 38.6993 55.601 39.2903 54.4581 39.8212Z",fill:"#FE3140"})),ane=n=>O.createElement("svg",{width:55,height:54,viewBox:"0 0 55 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M43.133 42.9535C45.0364 42.1423 47.3057 41.847 50.2339 41.9206C50.1515 41.3685 49.1052 40.7128 48.3386 40.2325C48.0813 40.0712 47.8555 39.9297 47.7083 39.8185C46.537 38.9703 45.2924 38.0848 44.0481 37.3106C43.6472 37.0638 43.07 36.8578 42.5146 36.6597C42.1573 36.5322 41.809 36.4079 41.5224 36.278C41.2296 36.1577 40.8308 36.0375 40.4003 35.9077C39.3775 35.5993 38.1755 35.2369 37.789 34.6921C36.7938 33.3883 36.0992 31.8117 35.4056 30.2374C35.334 30.0747 35.2623 29.9121 35.1904 29.7498C34.8273 28.9136 34.4234 28.0608 34.0172 27.2033C33.5636 26.2455 33.1071 25.2817 32.7015 24.3282C32.5247 23.9398 32.3903 23.5726 32.2581 23.2111C32.0889 22.7489 31.9232 22.2961 31.6767 21.8202C29.0045 16.62 25.0518 12.2678 20.2568 9.20663C18.6828 8.21077 16.9261 7.28849 14.9861 6.66169C14.3936 6.48267 13.7373 6.45386 13.0745 6.42476C12.5088 6.39992 11.9385 6.37488 11.3991 6.25608H10.6303C10.1866 6.13186 9.79257 5.77327 9.42608 5.4397C9.24853 5.2781 9.07743 5.12237 8.91024 5.00201C7.77545 4.22759 6.64088 3.71091 5.28656 3.15792C4.81079 2.93672 3.45648 2.42028 2.9807 2.82612C2.6877 2.89993 2.54143 3.01053 2.46818 3.30554C2.17541 3.74817 2.4319 4.41199 2.61468 4.8176C2.97748 5.59751 3.43623 6.16809 3.90632 6.75277C4.14764 7.05291 4.39194 7.35677 4.62779 7.69457C4.74044 7.85478 4.85788 8.01862 4.97729 8.1852C5.51753 8.93886 6.09814 9.74883 6.45789 10.5343C6.96553 11.6362 7.32737 12.8011 7.68789 13.9617C8.00315 14.9767 8.3174 15.9883 8.72725 16.9518C9.05652 17.7265 9.56904 18.6115 10.0448 19.3123C10.194 19.5174 10.3886 19.7022 10.5855 19.8893C10.9198 20.2069 11.261 20.531 11.3991 20.972C11.7551 21.5697 11.1016 23.2814 10.7045 24.3214C10.6116 24.5649 10.5327 24.7715 10.4841 24.9184C9.5323 27.9425 9.71531 32.1472 10.8134 34.7657C10.8526 34.8579 10.8916 34.9517 10.9308 35.0461C11.3307 36.0086 11.76 37.0417 12.8265 37.3106C12.8596 37.2772 12.8628 37.2665 12.87 37.2613C12.8786 37.2551 12.8929 37.257 12.973 37.2368C13.0265 36.8128 13.0721 36.3921 13.117 35.9773C13.2871 34.4074 13.448 32.9222 13.9978 31.6677C14.2598 31.02 14.6919 30.4971 15.1131 29.9874C15.3395 29.7135 15.5627 29.4434 15.7546 29.1598C15.9869 29.3002 16.0718 29.6188 16.159 29.946C16.2092 30.1344 16.2601 30.3257 16.3404 30.4875C16.375 30.5705 16.4097 30.6541 16.4447 30.7382C16.891 31.8123 17.3712 32.9678 17.9142 34.028C19.122 36.3886 20.4766 38.675 22.0137 40.7406C22.526 41.4782 23.2582 42.2896 23.917 42.9535C24.0172 43.0418 24.1217 43.1172 24.2246 43.1915C24.4223 43.3342 24.6143 43.4727 24.7588 43.6911H24.8321V43.8019C24.1372 43.5451 23.6036 42.9928 23.0827 42.4537C22.7805 42.141 22.4826 41.8327 22.16 41.589C20.5129 40.3349 18.5365 38.4538 17.4017 36.6468C17.0443 35.871 16.6663 35.1161 16.2831 34.3507C16.1561 34.0972 16.0286 33.8425 15.9011 33.5856C15.9011 33.5856 15.9013 33.5486 15.9011 33.5118C15.7613 33.6998 15.7403 33.8877 15.715 34.1138C15.7006 34.2426 15.6848 34.3838 15.6449 34.5445C15.5092 35.0703 15.442 35.6171 15.377 36.1456C15.2142 37.4705 15.0655 38.6802 13.888 39.1547C12.0214 39.9293 10.6304 37.9004 10.0448 36.9786C8.17822 33.9174 7.6657 28.754 8.98328 24.5864C9.08521 24.2656 9.15613 23.9225 9.22685 23.5804C9.3594 22.9391 9.49124 22.3013 9.8253 21.8202C9.75187 21.377 9.49908 21.1474 9.25203 20.923C9.12908 20.8113 9.00755 20.701 8.91026 20.5662C8.39774 19.8656 7.9587 19.0541 7.55594 18.2797C6.97072 17.1285 6.51297 15.8062 6.06935 14.5247C5.93021 14.1227 5.79246 13.7248 5.6526 13.3374C5.52766 13.0138 5.44628 12.69 5.36598 12.3706C5.28158 12.0348 5.19838 11.7038 5.06706 11.3828C4.72106 10.6273 4.14811 9.87202 3.61619 9.17081C3.4728 8.98179 3.3324 8.79671 3.20022 8.61661C3.05764 8.41042 2.86884 8.17143 2.65838 7.90503C1.62636 6.59867 0.0734655 4.63297 0.89436 2.64172C2.43168 -1.15706 7.81245 1.71944 9.89833 3.04733C10.1069 3.18246 10.3276 3.37864 10.5556 3.58121C10.8876 3.87636 11.2349 4.18506 11.5822 4.33819C12.0398 4.3567 12.4975 4.38436 12.9551 4.41202C13.4126 4.43966 13.87 4.4673 14.3273 4.48581C14.4772 4.52114 14.6262 4.55591 14.7743 4.59046C16.3262 4.95261 17.776 5.2909 19.0123 5.99787C25.3079 9.72307 29.4073 13.5219 33.1773 19.7917C33.6891 20.6355 34.0383 21.5241 34.3939 22.429C34.5979 22.9479 34.8039 23.4721 35.0439 23.9964C35.9589 26.1355 36.9842 28.3849 38.0453 30.4136C38.1787 30.6826 38.3035 30.9602 38.4285 31.2383C38.7494 31.9522 39.0719 32.6697 39.5461 33.2536C39.7165 33.4991 40.0979 33.6301 40.4634 33.7556C40.647 33.8187 40.8266 33.8803 40.9734 33.9544C41.4468 34.2001 41.9596 34.4232 42.4765 34.6481C43.2784 34.9969 44.0901 35.35 44.7801 35.7985C46.903 37.1262 48.9528 38.7118 50.8194 40.335C51.1968 40.6751 51.5095 41.0913 51.8218 41.5068C52.0852 41.8572 52.3483 42.2073 52.6495 42.5111V42.8429C52.064 43.0273 51.4782 43.2117 50.8927 43.3593C50.2555 43.5243 49.6547 43.589 49.0584 43.6532C48.4559 43.7181 47.8581 43.7824 47.2325 43.9493C47.1536 43.972 47.0728 43.9955 46.9905 44.0195C46.27 44.229 45.4295 44.4733 44.7069 44.5396C44.7434 44.5764 44.7801 44.6132 44.7801 44.6132C45.1329 45.6251 46.633 46.495 47.8624 47.208C48.291 47.4565 48.6866 47.686 48.9893 47.8957C50.4169 48.9284 51.7345 50.1824 52.796 51.6207C52.9785 51.8046 53.161 51.9793 53.3435 52.154C53.5271 52.3297 53.7107 52.5054 53.8941 52.6903C54.018 52.8689 54.0992 53.0734 54.1789 53.2745C54.2639 53.4888 54.3474 53.6993 54.4796 53.8706V53.9812C54.1594 53.866 53.9393 53.6355 53.7209 53.4069C53.5899 53.2696 53.4594 53.133 53.3083 53.0224C52.9636 52.7855 52.6189 52.5284 52.2743 52.2712C51.8138 51.9276 51.3534 51.584 50.8927 51.2889C50.1844 50.8381 49.4192 50.483 48.6502 50.1262C47.909 49.7822 47.1643 49.4367 46.4637 49.0022C45.6586 48.4857 44.8899 47.8957 44.1213 47.3057C43.4258 46.7893 42.6575 45.7932 42.218 45.0558C42.1072 44.8805 42.0375 44.6914 41.9704 44.5093C41.8822 44.2701 41.7986 44.0431 41.6322 43.8755C41.687 43.3516 42.1921 43.2193 42.673 43.0934C42.8352 43.051 42.9946 43.0093 43.133 42.9535Z",fill:"#FE3140"}),O.createElement("path",{d:"M11.399 10.0549C11.8382 9.94426 12.2773 9.87021 12.8995 9.87021C13.0156 9.9872 13.1603 10.0867 13.3065 10.1873C13.5293 10.3404 13.7553 10.4959 13.8878 10.7187C13.9692 10.8334 14.0215 10.9481 14.0739 11.0629C14.1395 11.2063 14.205 11.3498 14.3271 11.4933C14.3271 12.3784 14.0711 12.9684 13.5583 13.3374C13.5583 13.3374 13.5218 13.3742 13.4853 13.4112C13.339 13.1166 13.202 12.8219 13.0649 12.5272C12.9275 12.2317 12.79 11.9362 12.6433 11.6407C12.5008 11.4397 12.3361 11.2554 12.1708 11.0705C11.9117 10.7805 11.6511 10.4889 11.4722 10.1287H11.399V10.0549Z",fill:"#FE3140"})),lne=n=>O.createElement("svg",{width:42,height:62,viewBox:"0 0 42 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2966 31.0459C21.2966 25.3923 25.8799 20.8091 31.5334 20.8091C37.1869 20.8091 41.7702 25.3923 41.7702 31.0459C41.7702 36.6994 37.1869 41.2826 31.5334 41.2826C25.8799 41.2826 21.2966 36.6994 21.2966 31.0459Z",fill:"#CC2A36"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.82309 51.5195C0.82309 45.866 5.40625 41.2827 11.0599 41.2827H21.2966V51.5195C21.2966 57.173 16.7134 61.7563 11.0599 61.7563C5.40625 61.7563 0.82309 57.173 0.82309 51.5195Z",fill:"#FE3140"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2966 0.335693V20.8092H31.5334C37.1869 20.8092 41.7702 16.226 41.7702 10.5725C41.7702 4.91885 37.1869 0.335693 31.5334 0.335693H21.2966Z",fill:"#E22E3B"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.823151 10.5725C0.823151 16.226 5.40631 20.8092 11.0599 20.8092H21.2967V0.335693H11.0599C5.40631 0.335693 0.823151 4.91885 0.823151 10.5725Z",fill:"#E22E3B"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.82309 31.0459C0.82309 36.6994 5.40625 41.2826 11.0599 41.2826H21.2966V20.8091H11.0599C5.40625 20.8091 0.82309 25.3923 0.82309 31.0459Z",fill:"#CC2B36"})),cne=n=>O.createElement("svg",{width:62,height:62,viewBox:"0 0 62 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M6.40904 7.02977H55.2597V54.5481H6.40904V7.02977ZM4.18787 56.7692H57.4808V4.80859H4.18787V56.7692ZM40.1168 26.1258C38.362 26.1258 37.7624 27.0146 37.7624 27.7474C37.7624 28.5468 38.1621 29.1026 40.5165 30.3226C44.0034 32.0108 45.0845 33.6306 45.0845 36.0078C45.0845 39.5613 42.3761 41.4703 38.7122 41.4703C37.1398 41.5286 35.5769 41.2019 34.1594 40.5187C34.0034 40.4521 33.9824 40.3417 33.9824 40.1628V36.8948C33.9824 36.6721 34.0928 36.6055 34.2489 36.7178C35.5801 37.5737 37.1296 38.0284 38.7122 38.0272C40.467 38.0272 41.1998 37.2945 41.1998 36.2952C41.1998 35.4958 40.6897 34.7859 38.4457 33.6306C35.2919 32.1212 33.9824 30.5853 33.9824 28.0348C33.9824 25.1703 36.2245 22.795 40.1111 22.795C41.464 22.7369 42.8149 22.9484 44.0853 23.4174C44.1584 23.4648 44.2176 23.531 44.2567 23.6089C44.2959 23.6868 44.3136 23.7738 44.3079 23.8608V26.9061C44.3079 27.0831 44.1976 27.1954 43.9749 27.1288C42.8008 26.453 41.4656 26.1077 40.1111 26.1296L40.1168 26.1258ZM21.0189 28.7676C21.529 28.8114 21.9287 28.8114 22.8176 28.8114C25.4156 28.8114 27.8576 27.9016 27.8576 24.3709C27.8576 21.5502 26.1027 20.1303 23.1506 20.1303C22.2618 20.1303 21.4186 20.1741 21.0189 20.1969V28.7676ZM17.0657 16.967C17.0657 16.8109 17.376 16.7005 17.5549 16.7005C18.9767 16.6339 21.0855 16.5901 23.2839 16.5901C29.4354 16.5901 31.8336 19.9647 31.8336 24.2738C31.8336 29.9134 27.7472 32.3344 22.73 32.3344C21.8868 32.3344 21.5975 32.2906 20.998 32.2906V40.8175C20.998 40.9945 20.9314 41.084 20.7315 41.084H17.3341C17.1571 41.084 17.0676 41.0174 17.0676 40.8175V16.9765L17.0657 16.967Z",fill:"#FE3140"})),iL=n=>O.createElement("svg",{fill:"#000000",width:"800px",height:"800px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M 5.21875 4 L 5.3125 5.09375 L 7.0625 24.875 L 7.125 25.5625 L 7.78125 25.75 L 15.71875 27.96875 L 15.96875 28.03125 L 16.25 27.96875 L 24.1875 25.78125 L 24.84375 25.59375 L 24.90625 24.90625 L 26.6875 5.09375 L 26.78125 4.03125 L 25.6875 4.03125 L 6.3125 4 Z M 7.40625 6 L 24.59375 6.03125 L 22.96875 24.03125 L 16 25.96875 L 9 24.03125 Z M 9.8125 9 L 10.46875 16.46875 L 19.03125 16.46875 L 18.75 19.6875 L 16 20.4375 L 15.96875 20.4375 L 13.21875 19.6875 L 13.0625 17.625 L 10.5625 17.625 L 10.90625 21.59375 L 15.96875 23 L 16 23 L 21.0625 21.59375 L 21.75 14 L 12.71875 14 L 12.5 11.46875 L 21.96875 11.46875 L 22.1875 9 Z"})),rL=n=>O.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("title",null,"css"),O.createElement("g",{id:"Layer_2","data-name":"Layer 2"},O.createElement("g",{id:"invisible_box","data-name":"invisible box"},O.createElement("rect",{width:48,height:48,fill:"none"})),O.createElement("g",{id:"Q3_icons","data-name":"Q3 icons"},O.createElement("path",{d:"M24,46,8.3,41.7,5,4H43L39.7,41.7ZM12,38.6l12,3.3,12-3.3L38.6,8H9.4Z"}),O.createElement("path",{d:"M14,13H34L32.2,34.3,23.9,37l-8.4-2.1-.9-7.2h4.5v3.6l4.8.9,4.4-.9V25.9H14.6l-.3-4.5a2.3,2.3,0,0,1,1.5-.6c6.9,0,12.5.6,12.5.6V17.8H14.6Z"})))),sL=n=>O.createElement("svg",{width:41,height:30,viewBox:"0 0 41 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.485294 23.9L5.07126 21.1009C5.95597 22.683 6.76079 24.0216 8.69127 24.0216C10.5417 24.0216 11.7084 23.2915 11.7084 20.4518V1.14014H17.3399V20.5321C17.3399 26.4148 13.9209 29.0925 8.93268 29.0925C4.42767 29.0925 1.81261 26.7393 0.485199 23.8995",fill:"#FE3140"}),O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0367 23.2179L24.7709 20.5065C26.0172 22.5197 27.6369 23.9985 30.5025 23.9985C32.9116 23.9985 34.4479 22.8071 34.4479 21.1638C34.4479 19.1918 32.8698 18.4934 30.2117 17.3435L28.7585 16.7268C24.5635 14.9606 21.7808 12.7422 21.7808 8.05879C21.7808 3.74518 25.1033 0.458496 30.2949 0.458496C33.9913 0.458496 36.6493 1.73216 38.5596 5.05984L34.0326 7.93541C33.0357 6.16903 31.9562 5.47076 30.295 5.47076C28.5922 5.47076 27.5123 6.53886 27.5123 7.93541C27.5123 9.66089 28.5922 10.3595 31.0839 11.4277L32.5373 12.0438C37.4797 14.1392 40.2624 16.2752 40.2624 21.0816C40.2624 26.2582 36.1508 29.0926 30.6272 29.0926C25.2281 29.0926 21.7393 26.5457 20.0368 23.2179",fill:"#FE3140"})),oL=n=>O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:64,viewBox:"0 0 32 32",...n},O.createElement("path",{d:"M11.622 24.74s-1.23.748.855.962c2.51.32 3.847.267 6.625-.267a10.02 10.02 0 0 0 1.763.855c-6.25 2.672-14.16-.16-9.244-1.55zm-.8-3.473s-1.336 1.015.748 1.23c2.725.267 4.862.32 8.55-.427a3.26 3.26 0 0 0 1.282.801c-7.534 2.244-15.976.214-10.58-1.603zm14.747 6.09s.908.748-1.015 1.336c-3.58 1.07-15.014 1.39-18.22 0-1.122-.48 1.015-1.175 1.7-1.282.695-.16 1.07-.16 1.07-.16-1.23-.855-8.175 1.763-3.526 2.51 12.77 2.084 23.296-.908 19.983-2.404zM12.2 17.633s-5.824 1.39-2.084 1.87c1.603.214 4.755.16 7.694-.053 2.404-.214 4.81-.64 4.81-.64s-.855.374-1.443.748c-5.93 1.55-17.312.855-14.052-.748 2.778-1.336 5.076-1.175 5.076-1.175zm10.42 5.824c5.984-3.1 3.206-6.09 1.282-5.717-.48.107-.695.214-.695.214s.16-.32.534-.427c3.794-1.336 6.786 4.007-1.23 6.09 0 0 .053-.053.107-.16zm-9.83 8.442c5.77.374 14.587-.214 14.8-2.94 0 0-.427 1.07-4.755 1.87-4.916.908-11.007.8-14.587.214 0 0 .748.64 4.542.855z"}),O.createElement("path",{d:"M18.996.001s3.313 3.366-3.152 8.442c-5.183 4.114-1.175 6.465 0 9.137-3.046-2.725-5.236-5.13-3.74-7.373C14.294 6.893 20.332 5.3 18.996.001zm-1.7 15.335c1.55 1.763-.427 3.366-.427 3.366s3.954-2.03 2.137-4.542c-1.656-2.404-2.94-3.58 4.007-7.587 0 0-10.953 2.725-5.717 8.763z"})),une=n=>O.createElement("svg",{width:62,height:62,viewBox:"0 0 62 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M31.9535 4.37622C31.6109 4.37622 31.2531 4.39525 30.8876 4.4219C21.5043 5.16039 23.9938 15.0957 23.8454 18.4075C23.6817 20.8323 23.183 22.7471 21.5157 25.1148C19.5515 27.4483 16.7955 31.2206 15.486 35.1529C14.8693 36.9991 14.5724 38.891 14.8503 40.6801C14.7491 40.7624 14.6661 40.8648 14.6066 40.9809C14.028 41.5747 13.6055 42.3132 13.1335 42.8461C12.6919 43.2839 12.0562 43.4362 11.3634 43.7293C10.6668 44.0338 9.90164 44.3269 9.44485 45.2405C9.24448 45.657 9.14411 46.1145 9.15173 46.5766C9.15173 47.0182 9.21264 47.4674 9.27355 47.7681C9.40297 48.6551 9.5324 49.3859 9.3611 49.9227C8.80914 51.4301 8.74062 52.4655 9.12509 53.2154C9.51336 53.9577 10.3166 54.2622 11.2149 54.5515C13.0117 54.9969 15.4555 54.8523 17.3741 55.8839C19.4297 56.9193 21.5157 57.3685 23.183 56.9269C24.3516 56.6718 25.3376 55.8991 25.8667 54.8256C27.1686 54.8218 28.596 54.228 30.8838 54.0871C32.4369 53.9577 34.3783 54.6772 36.6052 54.5287C36.6623 54.8256 36.7461 54.9703 36.8603 55.2672L36.8641 55.2748C37.7358 57.003 39.3384 57.7872 41.0514 57.654C42.7644 57.5207 44.5839 56.4625 46.0609 54.7533C47.4618 53.0555 49.799 52.3475 51.3407 51.4149C52.1135 50.9733 52.7378 50.3757 52.7834 49.523C52.8329 48.6322 52.3381 47.7224 51.1961 46.4662V46.2531L51.1885 46.2455C50.8116 45.8001 50.6365 45.0578 50.4385 44.1899C50.2482 43.2991 50.035 42.4426 49.346 41.8678C49.2128 41.746 49.0682 41.7156 48.9235 41.5633C48.8001 41.4776 48.6549 41.4287 48.5048 41.4224C49.4564 38.5865 49.0872 35.762 48.1165 33.2229C46.9364 30.0901 44.8656 27.3607 43.2859 25.4878C41.5196 23.2534 39.7876 21.1407 39.8218 18.0078C39.8827 13.2305 40.3471 4.38764 31.9535 4.37622ZM33.1298 11.9362H33.1564C33.6322 11.9362 34.0357 12.0732 34.4507 12.3778C34.8613 12.6917 35.1946 13.0953 35.4252 13.5578C35.6612 14.1364 35.7792 14.578 35.7944 15.168C35.7944 15.1224 35.8096 15.0805 35.8096 15.0348V15.267C35.804 15.2523 35.8001 15.237 35.7982 15.2213L35.7906 15.168C35.7868 15.7086 35.6764 16.2415 35.4594 16.7364C35.3547 17.0145 35.1926 17.2674 34.9836 17.4787C34.921 17.4439 34.8562 17.4133 34.7895 17.3873C34.5611 17.2845 34.3517 17.2427 34.1576 17.0904C33.9997 17.0281 33.8366 16.9797 33.6703 16.9457C33.7845 16.8125 33.9939 16.6488 34.0776 16.5042C34.1938 16.2208 34.2595 15.9194 34.2718 15.6134V15.5677C34.2773 15.2667 34.2323 14.9669 34.1385 14.6808C34.0357 14.3801 33.9101 14.2354 33.7312 13.9385C33.5409 13.7938 33.3582 13.6454 33.1374 13.6454H33.0993C32.8937 13.6454 32.711 13.7139 32.5207 13.9385C32.3092 14.1442 32.1522 14.3993 32.0639 14.6808C31.9463 14.9638 31.8793 15.2653 31.866 15.5716V15.6096C31.866 15.8114 31.8812 16.0093 31.9078 16.2035C31.4815 16.055 30.9371 15.9065 30.5603 15.7581C30.5385 15.6105 30.5257 15.4618 30.5222 15.3127V15.2632C30.5042 14.6772 30.6174 14.0945 30.8534 13.5578C31.0357 13.0714 31.371 12.6573 31.8089 12.3778C32.1889 12.0893 32.6527 11.9329 33.1298 11.9324V11.9362ZM26.5519 12.0694H26.628C26.9478 12.0694 27.2295 12.176 27.5188 12.3664C27.8428 12.6539 28.1023 13.0068 28.2801 13.4018C28.4819 13.8433 28.5922 14.2887 28.6227 14.8825V14.8902C28.638 15.0867 28.6355 15.2841 28.6151 15.4802V15.6591L28.4324 15.7124C28.0936 15.8342 27.8233 16.0131 27.5568 16.1578C27.5839 15.9609 27.5864 15.7614 27.5645 15.5639V15.5297C27.5378 15.2328 27.4769 15.0843 27.3855 14.7912C27.3162 14.5645 27.1889 14.3598 27.0163 14.1974C26.9613 14.1478 26.8969 14.1097 26.827 14.0855C26.757 14.0613 26.6829 14.0515 26.609 14.0565H26.5633C26.4034 14.0679 26.274 14.1441 26.1484 14.3496C26.007 14.521 25.9149 14.7276 25.8819 14.9473C25.8221 15.1873 25.8054 15.436 25.8324 15.6819V15.7124C25.8591 16.0169 25.9124 16.1578 26.0113 16.4547C26.0798 16.682 26.2057 16.8878 26.3768 17.0523C26.3996 17.0714 26.4225 17.0904 26.4529 17.1056C26.3006 17.2312 26.1941 17.2579 26.0646 17.4064C25.9811 17.4806 25.8803 17.533 25.7715 17.5586C25.5412 17.28 25.3373 16.9805 25.1625 16.6641C24.9531 16.1974 24.8368 15.6944 24.8199 15.1833C24.7818 14.6808 24.8389 14.1783 24.995 13.6987C25.1172 13.2625 25.3314 12.8576 25.6231 12.511C25.9086 12.2179 26.2017 12.0694 26.5519 12.0694ZM29.5934 15.857C30.3319 15.857 31.2226 16.0017 32.2961 16.744C32.9432 17.1856 33.4533 17.3416 34.6296 17.7832H34.6372C35.2044 18.0839 35.5356 18.3732 35.6992 18.6663V18.377C35.7787 18.5385 35.8228 18.715 35.8287 18.8949C35.8346 19.0747 35.8021 19.2537 35.7335 19.4201C35.4594 20.1053 34.5877 20.8476 33.3734 21.2891C32.7795 21.5937 32.2618 22.0352 31.6528 22.3283C31.0399 22.6253 30.3471 22.9755 29.4069 22.9184C29.0678 22.9364 28.7286 22.8859 28.4095 22.7699C28.1634 22.6368 27.9245 22.4906 27.6939 22.3321C27.2637 22.0314 26.8907 21.5937 26.3349 21.3005V21.2891H26.3235C25.4365 20.741 24.9569 20.1509 24.8008 19.7132C24.6486 19.1155 24.7894 18.6663 25.231 18.3808C25.7258 18.0763 26.0722 17.7756 26.3045 17.6309C26.5329 17.4673 26.6204 17.4064 26.6927 17.3416L26.6965 17.334C27.0734 16.8886 27.6672 16.291 28.5618 16.0017C28.8663 15.9218 29.2127 15.857 29.5972 15.857H29.5934ZM35.8096 20.6153C36.609 23.7596 38.4667 28.3276 39.662 30.5469C40.2977 31.7307 41.5653 34.2279 42.1096 37.2618C42.456 37.2504 42.8443 37.2999 43.2516 37.4026C44.6829 33.6912 42.0373 29.7056 40.8306 28.5941C40.3433 28.1525 40.3167 27.8518 40.5603 27.8518C41.8698 29.0394 43.5904 31.3425 44.2147 33.9728C44.5002 35.1605 44.5687 36.4243 44.2604 37.6805C44.4088 37.7452 44.5611 37.8137 44.7172 37.8328C47.005 39.0166 47.8538 39.915 47.4465 41.2435V41.1484C47.3133 41.1408 47.1801 41.1484 47.0468 41.1484H47.0088C47.3476 40.113 46.6053 39.3174 44.6486 38.4304C42.6159 37.5435 40.9943 37.6843 40.7164 39.462C40.6974 39.5572 40.6859 39.6105 40.6783 39.7627C40.5261 39.8122 40.3662 39.8769 40.2101 39.9036C39.2584 40.5012 38.7407 41.3882 38.4514 42.5416C38.1621 43.7217 38.0708 45.1073 37.9946 46.6908V46.6984C37.9528 47.4407 37.6178 48.5599 37.2866 49.6943C33.9558 52.0772 29.3383 53.1088 25.4099 50.4366C25.1639 50.0073 24.8646 49.6108 24.5191 49.2565C24.3544 48.98 24.1491 48.7298 23.9101 48.5142C24.2582 48.5125 24.6042 48.4612 24.9379 48.3619C25.2577 48.2152 25.5086 47.9506 25.6383 47.6235C25.8781 47.0296 25.6383 46.0742 24.8732 45.0426C24.108 44.0033 22.8062 42.8347 20.9028 41.6623C19.502 40.7753 18.714 39.7323 18.3486 38.5637C17.9831 37.376 18.0326 36.1541 18.3143 34.9093C18.8587 32.5339 20.2557 30.2271 21.1426 28.7768C21.3825 28.6321 21.2264 29.0737 20.2367 30.939C19.3611 32.6063 17.7053 36.4814 19.9702 39.4963C20.054 37.296 20.5412 35.1339 21.4053 33.1087C22.6577 30.2728 25.2729 25.328 25.4784 21.4109C25.5888 21.4909 25.9619 21.7155 26.1255 21.8601C26.6052 22.157 26.963 22.5986 27.4312 22.8917C27.6879 23.1414 27.9928 23.3364 28.3272 23.4646C28.6616 23.5929 29.0185 23.6518 29.3764 23.6378L29.6238 23.6492C30.5374 23.6492 31.2417 23.3523 31.8355 23.0554C32.4826 22.7585 32.9927 22.3131 33.48 22.1685H33.4914C34.5268 21.8639 35.3452 21.2777 35.8096 20.6153ZM40.6631 40.505C40.743 41.8374 41.4244 43.2687 42.6197 43.5618C43.9254 43.8587 45.8059 42.8233 46.5976 41.864L47.0659 41.8412C47.7663 41.826 48.3487 41.864 48.9463 42.435L48.954 42.4426C49.4146 42.8842 49.6315 43.6227 49.8219 44.3878C50.0122 45.2748 50.1645 46.1198 50.7317 46.7556C51.8089 47.9242 52.163 48.7655 52.1401 49.287L52.1515 49.2717V49.3098L52.1439 49.2832C52.1097 49.8656 51.7328 50.1625 51.04 50.6041C49.6392 51.4948 47.1572 52.1876 45.5813 54.0909C44.2109 55.7278 42.536 56.6224 41.059 56.7366C39.5858 56.8508 38.3144 56.2912 37.5645 54.7419L37.5531 54.7343C37.0887 53.8473 37.2866 52.4617 37.6787 50.9847C38.0708 49.5001 38.6304 48.0003 38.7065 46.7708C38.7902 45.1834 38.874 43.8054 39.1404 42.7434C39.4069 41.7118 39.8256 40.9733 40.5641 40.5583L40.6631 40.505ZM16.6508 40.6116H16.6737C16.7899 40.613 16.9058 40.6245 17.0201 40.6459C17.8575 40.7677 18.5884 41.3844 19.2926 42.3132L21.3101 46.0056L21.3216 46.0171C21.8583 47.1971 22.9965 48.3772 23.9596 49.6524C24.9226 50.9771 25.6726 52.1648 25.5774 53.1355V53.1507C25.4518 54.8028 24.5115 55.7012 23.0802 56.0247C21.6489 56.3254 19.7037 56.0247 17.7624 54.9969C15.6116 53.8016 13.0612 53.9539 11.4167 53.657C10.5983 53.5085 10.0653 53.2116 9.81409 52.77C9.57046 52.3247 9.56285 51.4301 10.0844 50.0369V50.0293L10.092 50.0216C10.3508 49.2794 10.1567 48.3505 10.0311 47.5397C9.90926 46.649 9.84454 45.9638 10.1262 45.4499C10.4803 44.7114 11.0018 44.5629 11.6565 44.2698C12.3112 43.9653 13.0802 43.8206 13.6892 43.223C14.2602 42.6253 14.6828 41.8869 15.1776 41.3577C15.5964 40.9124 16.0227 40.6116 16.6508 40.6116ZM32.5473 20.4631C31.5805 20.9085 30.4499 21.6508 29.2432 21.6508C28.0403 21.6508 27.0886 21.0607 26.3996 20.6153C26.057 20.3184 25.7791 20.0215 25.5736 19.8731C25.2081 19.5761 25.2538 19.1346 25.4061 19.1346C25.6497 19.1726 25.6954 19.4315 25.8515 19.5799C26.0646 19.7246 26.3273 20.0215 26.6509 20.3184C27.298 20.76 28.1583 21.3538 29.2394 21.3538C30.3167 21.3538 31.5805 20.76 32.3456 20.3184C32.7795 20.0215 33.3353 19.5799 33.7845 19.283C34.1271 18.9785 34.1157 18.6892 34.405 18.6892C34.6867 18.7273 34.4811 18.9861 34.0776 19.4277C33.5828 19.8007 33.0727 20.1471 32.5435 20.4669L32.5473 20.4631ZM30.1454 16.9496V16.9001C30.1301 16.8544 30.172 16.8087 30.2101 16.7859C30.3738 16.6945 30.6098 16.7288 30.7849 16.7973C30.9257 16.7973 31.1427 16.9496 31.1199 17.098C31.1046 17.2084 30.9295 17.2427 30.8191 17.2427C30.6973 17.2427 30.6136 17.1475 30.507 17.0904C30.3928 17.0523 30.1834 17.0752 30.1454 16.9496ZM28.9196 16.9496C28.8777 17.079 28.6684 17.0561 28.5504 17.0942C28.4476 17.1513 28.36 17.2465 28.242 17.2465C28.1278 17.2465 27.9527 17.2008 27.9375 17.0942C27.9185 16.9496 28.1354 16.8011 28.2725 16.8011C28.4514 16.7326 28.6798 16.6945 28.8473 16.7897C28.8892 16.8087 28.9272 16.8544 28.9158 16.9001V16.9457L28.9196 16.9496Z",fill:"#FE3140"})),fne=n=>O.createElement("svg",{fill:"#64be6a",width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"#64be6a",...n},O.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),O.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),O.createElement("g",{id:"SVGRepo_iconCarrier"},O.createElement("path",{d:"M20.205 16.392c-2.469 3.289-7.741 2.179-11.122 2.338 0 0-.599.034-1.201.133 0 0 .228-.097.519-.198 2.374-.821 3.496-.986 4.939-1.727 2.71-1.388 5.408-4.413 5.957-7.555-1.032 3.022-4.17 5.623-7.027 6.679-1.955.722-5.492 1.424-5.493 1.424a5.28 5.28 0 0 1-.143-.076c-2.405-1.17-2.475-6.38 1.894-8.059 1.916-.736 3.747-.332 5.818-.825 2.208-.525 4.766-2.18 5.805-4.344 1.165 3.458 2.565 8.866.054 12.21zm.042-13.28a9.212 9.212 0 0 1-1.065 1.89 9.982 9.982 0 0 0-7.167-3.031C6.492 1.971 2 6.463 2 11.985a9.983 9.983 0 0 0 3.205 7.334l.22.194a.856.856 0 1 1 .001.001l.149.132A9.96 9.96 0 0 0 12.015 22c5.278 0 9.613-4.108 9.984-9.292.274-2.539-.476-5.763-1.752-9.596"}))),dne=z.jsx(eL,{className:"size-[35px]"}),hne=z.jsx(tL,{className:"size-[35px] fill-myRed"}),pne=z.jsx(nL,{className:"size-[35px]"}),mne=z.jsx(iL,{className:"size-[40px] fill-myRed"}),gne=z.jsx(rL,{className:"size-[35px] fill-myRed"}),vne=z.jsx(sL,{className:"size-[35px]"}),yne=z.jsx(oL,{className:"size-[35px] fill-myRed"}),xne=z.jsx(fne,{className:"size-[35px] stroke-myRed fill-transparent"}),Hx=[{key:1,name:"ReactJS",description:"O React é uma biblioteca front-end JavaScript de código aberto com foco em criar interfaces de usuário em páginas web.",icon:z.jsx(eL,{className:"size-[45px] md:size-[50px]"}),category:"frontend"},{key:2,name:"NodeJS",description:"Node.js é um ambiente de tempo de execução JavaScript que permite executar JavaScript no servidor.",icon:z.jsx(ine,{className:"size-[45px] md:size-[50px]"}),category:"backend"},{key:3,name:"NestJS",description:"Nest (NestJS) é um framework para construir aplicativos eficientes, escaláveis e confiáveis em Node.js.",icon:z.jsx(tL,{className:"size-[45px] md:size-[50px]"}),category:"backend"},{key:4,name:"TailWindCSS",description:"Tailwind CSS é um framework de utilitários CSS de baixo nível para construir interfaces de usuário customizáveis.",icon:z.jsx(nL,{className:"size-[45px] md:size-[50px]"}),category:"frontend"},{key:5,name:"Typescript",description:"TypeScript é uma linguagem de programação de código aberto que é um superconjunto tipado de JavaScript.",icon:z.jsx(rne,{className:"size-[45px] md:size-[50px]"}),category:"frontend"},{key:6,name:"PrismaJS",description:"Prisma é uma camada de banco de dados moderna e de alto desempenho para Node.js e TypeScript.",icon:z.jsx(sne,{className:"size-[45px] md:size-[50px]"}),category:"backend"},{key:7,name:"PostgreSQL",description:"PostgreSQL é um sistema de gerenciamento de banco de dados relacional de código aberto e avançado.",icon:z.jsx(one,{className:"size-[45px] md:size-[50px]"}),category:"backend"},{key:8,name:"MySQL",description:"MySQL é um sistema de gerenciamento de banco de dados relacional de código aberto.",icon:z.jsx(ane,{className:"size-[45px] md:size-[50px]"}),category:"backend"},{key:9,name:"Github",description:"GitHub é uma plataforma de hospedagem de código-fonte e controle de versão usando o Git.",icon:z.jsx(hS,{className:"size-[45px] md:size-[50px] fill-myRed"}),category:"tools"},{key:10,name:"Figma",description:"Figma é uma ferramenta de design de interface do usuário baseada em navegador.",icon:z.jsx(lne,{className:"size-[45px] md:size-[50px]"}),category:"tools"},{key:11,name:"Photoshop",description:"Adobe Photoshop é um software de edição de imagens desenvolvido pela Adobe.",icon:z.jsx(cne,{className:"size-[45px] md:size-[50px]"}),category:"tools"},{key:12,name:"HTML5",description:"HTML5 é a última versão da linguagem de marcação padrão para documentos da World Wide Web.",icon:z.jsx(iL,{className:"size-[45px] md:size-[50px] fill-myRed"}),category:"frontend"},{key:13,name:"CSS3",description:"CSS3 é a última evolução do padrão CSS, usado para estilizar elementos HTML.",icon:z.jsx(rL,{className:"size-[46px] fill-myRed"}),category:"frontend"},{key:14,name:"Javascript",description:"JavaScript é uma linguagem de programação de alto nível, interpretada e de script comumente usada para criar páginas web interativas.",icon:z.jsx(sL,{className:"size-[45px] md:size-[50px]"}),category:"frontend"},{key:15,name:"Java",description:"Java é uma linguagem de programação de propósito geral, concorrente, orientada a objetos, com forte segurança.",icon:z.jsx(oL,{className:"size-[45px] md:size-[50px] fill-myRed"}),category:"backend"},{key:16,name:"Linux",description:"Linux é um sistema operacional de código aberto baseado no kernel Linux.",icon:z.jsx(une,{className:"size-[45px] md:size-[50px]"}),category:"other"}],_ne=[{key:1,icon:z.jsx(ene,{className:"size-12 fill-myRed"}),title:"Desenvolvimento",text:"Desenvolvo sites profissionais como: blogs, portfólios, landing pages, e-commerce, dashboard e muito mais!"},{key:2,icon:z.jsx(tne,{className:"size-14"}),title:"UI Design",text:"Desenho interfaces objetivas, bonitas, responsivas e principalmente intuitivas para o usuário."},{key:3,icon:z.jsx(nne,{className:"size-14"}),title:"Frontend / Backend",text:"Criação e planejamento da aplicação como um todo, desde seu banco de dados, servidor até a interface."}],Ane=new ir(0,-Math.PI/7,0),Sne=new ir(0,2.7,0);function Mne({laptopPath:n}){const{scene:e}=Rp(n),t=O.useMemo(()=>e.clone(),[e]);return z.jsx("primitive",{object:t,scale:.0016,position:[4e-4,0,0],rotation:Ane})}function Cne({phonePath:n}){const{scene:e}=Rp(n),t=O.useMemo(()=>e.clone(),[e]);return z.jsx("primitive",{object:t,scale:.0017,position:[69e-5,15e-5,-35e-6],rotation:Sne})}const wne=()=>{let n=[{key:1,name:"MyFilmList",description:"Projeto que te permite ver os detalhes dos filmes mais recentes e salvar em sua lista os favoritos.",tech:["reactjs","tailwindcss","html5","css3","javascript"],category:["frontend"],image:["/laptop/project1/scene.gltf","/phone/project1/scene.gltf"],urls:["https://myfilmslist.netlify.app","https://github.com/douglasnicida/movie-details-list-project/"]},{key:2,name:"Opensea Collection Clone",description:"Website clone da Opensea Mystical Wizard Guild Collection da MysticSwap.",tech:["reactjs","nestjs","tailwindcss","html5","css3","javascript"],category:["frontend","backend"],image:["/laptop/project2/scene.gltf","/phone/project2/scene.gltf"],urls:["","https://github.com/douglasnicida/opensea_nft_collection_clone"]},{key:3,name:"HBO Max Clone",description:"Clone do site da HBO MAX, realizado em janeiro de 2024. Totalmente responsivo, possui slider e muito mais!",tech:["reactjs","tailwindcss","html5","css3","javascript"],category:["frontend"],image:["/laptop/project3/scene.gltf","/phone/project3/scene.gltf"],urls:["https://hb0maxclone.netlify.app","https://github.com/douglasnicida/hbomax_clone"]},{key:4,name:"Barbershop API",description:"Projeto realizado para trabalho da faculdade, uma API para aplicação de barbearias. Onde as barbearias podem divulgar seus serviços e os clientes podem agendar um serviço.",tech:["java","spring"],category:["backend"],image:["/laptop/project4/scene.gltf","/phone/project4/scene.gltf"],urls:["","https://github.com/douglasnicida/api_barbershop_springboot"]},{key:5,name:"Gestão de Loja Calçados",description:"SECCOMP UNESP RC CHALLENGE WINNER- Projeto para gestão de lojas de calçados.",tech:["java"],category:["backend"],image:["/laptop/project5/scene.gltf","/phone/project5/scene.gltf"],urls:["","https://github.com/douglasnicida/seccomp-unesp-challenge-magis5"]}];return z.jsx("div",{id:"projects",children:n.map(e=>z.jsxs("div",{className:"flex flex-col-reverse lg:flex-row relative md:h-[125vh] lg:h-[100vh] sm:p-responsiveLayout md:p-layout justify-center items-center text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",children:[z.jsxs("div",{className:"flex flex-col gap-y-7 w-full lg:justify-center relative bottom-10 md:bottom-20 lg:pl-[100px] lg:mt-20",children:[z.jsx(Wu,{children:z.jsxs("div",{className:"flex flex-col gap-y-7 text-wrap pl-[50px] lg:pl-[0px]",children:[z.jsx("h2",{className:"text-[22px] sm:text-[28px] uppercase tracking-[6px] dark:text-containerLight text-containerDark",children:e.name}),z.jsx("p",{className:"text-justify text-[17px] dark:text-secondaryTextDark text-black/80 tracking-widest w-[300px] sm:w-[500px] md:w-[450px] xl:w-[550px]",children:e.description})]})}),z.jsxs("div",{className:"flex flex-col md:flex-row gap-x-7 z-20 lg:w-fit lg:mt-20 w-full items-center justify-center",children:[z.jsx(vg,{i:1,children:!e.category.includes("backend")&&z.jsx(ju,{classNameIn:"bg-myRed hover:bg-myRedHover sm:hover:border-y-[7px] lg:hover:border-y-[9px] ",classNameOut:"mt-12 sm:mt-8",text:"Acessar",href:e.urls[0]})}),z.jsx(vg,{i:2,children:z.jsx(ju,{classNameIn:"bg-github hover:bg-githubHover sm:hover:border-y-[7px] lg:hover:border-y-[9px] ",classNameOut:"mt-4 sm:mt-8",text:"Github",href:e.urls[1]})})]}),z.jsx("div",{className:"flex gap-x-3 lg:w-fit w-full justify-center",children:e.category.map(t=>z.jsx($G,{children:z.jsx("span",{className:"w-fit h-fit px-[14px] py-[3px] bg-[#555555] text-white rounded-full text-[12px] leading-[12px] cursor-default",children:t},t)},t))}),z.jsx("div",{className:"flex gap-x-3 w-full lg:w-[400px] flex-wrap items-center justify-center lg:justify-start",children:e.tech.map((t,i)=>{var r=null;switch(t){case"reactjs":r=dne;break;case"nestjs":r=hne;break;case"html5":r=mne;break;case"css3":r=gne;break;case"java":r=yne;break;case"javascript":r=vne;break;case"spring":r=xne;break;case"tailwindcss":r=pne;break}return z.jsx(vg,{i:i*2,className:"w-fit h-fit pr-[14px] py-[3px] text-white rounded-full text-[12px] leading-[12px] cursor-default",children:z.jsx("span",{children:r})},t)})})]}),z.jsx($_,{className:"w-full lg:w-[650px] 2xl:w-[800px] md:h-full h-[350px] relative lg:absolute flex justify-center xl:right-20 right-0 z-10 overflow-y-hidden",transition:{duration:1},children:z.jsx("div",{className:"w-full lg:w-[650px] 2xl:w-[800px] md:h-full h-[350px] relative lg:absolute flex justify-center xl:right-20 right-0 z-10",children:z.jsxs(kQ,{dpr:[1,2],camera:{fov:45},className:"bg-transparent",children:[z.jsx("perspectiveCamera",{position:[0,0,1e3],fov:75,near:.1,far:1e3}),z.jsx(_te,{rotateSpeed:.5,maxPolarAngle:Math.PI*.6,minPolarAngle:1.5,enableZoom:!1}),z.jsx(pee,{speed:.6,global:!0,zoom:1,polar:[-.1,Math.PI/4],children:z.jsxs($te,{intensity:0,environment:"warehouse",children:[z.jsx(Mne,{laptopPath:e.image[0]}),z.jsx(Cne,{phonePath:e.image[1]})]})})]})})})]},e.key))})},Ene=()=>{let n=0;return z.jsxs("div",{className:"flex flex-col relative h-[200vh] md:h-[170vh] lg:h-[140vh] xl:h-[85vh] sm:p-responsiveLayout md:p-layout justify-center items-center text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",id:"services",children:[z.jsx(gP,{children:z.jsx("h2",{className:"text-myRed text-[32px]",children:"Serviços"})}),z.jsx("div",{className:"grid md:px-[64px] lg:px-[0px] md:grid-cols-1 lg:md:grid-cols-2 md:gap-y-4 xl:grid-cols-3 xl:grid-rows-1 lg:gap-x-20 lg:w-fit xl:w-fit w-fit",children:_ne.map(e=>{const t=z.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.icon,z.jsx("h3",{className:"font-bold text-[20px]",children:e.title}),z.jsx("p",{className:"dark:text-secondaryTextDark text-backgroundDark sm:text-justify",children:e.text})]});return n++,z.jsx(vg,{i:e.key*2,children:z.jsx(vP,{children:t,className:`${n%2===1?"place-self-center sm:place-self-start":"place-self-center sm:place-self-end"} lg:place-self-center`})},e.key)})}),z.jsx("div",{className:"hidden sm:flex absolute left-0 bottom-10",children:z.jsxs("div",{className:"flex flex-col gap-y-3",children:[z.jsx(Wu,{transition:{duration:.3,delay:6*.1},children:z.jsx("div",{className:"w-10 h-[2px] dark:bg-introDetails bg-backgroundDark"})}),z.jsx(Wu,{transition:{duration:.3,delay:4*.1},children:z.jsx("div",{className:"w-20 h-[2px] dark:bg-introDetails bg-backgroundDark"})}),z.jsx(Wu,{transition:{duration:.3,delay:2*.1},children:z.jsx("div",{className:"w-32 h-[2px] dark:bg-introDetails bg-backgroundDark"})})]})})]})},Tne=n=>O.createElement("svg",{width:27,height:25,viewBox:"0 0 27 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M22.0617 1.69434H4.5324C2.76168 1.69434 1.87631 1.69434 1.32622 2.21045C0.776123 2.72656 0.776123 3.55722 0.776123 5.21855V6.08227C0.776123 7.38174 0.776123 8.03148 1.10117 8.5701C1.42621 9.10873 2.02004 9.44301 3.20771 10.1116L6.85508 12.1648C7.65194 12.6133 8.05037 12.8377 8.33564 13.0854C8.92974 13.6011 9.29546 14.2071 9.46119 14.9505C9.54077 15.3073 9.54077 15.725 9.54077 16.5603V19.9028C9.54077 21.0417 9.54077 21.611 9.8562 22.055C10.1716 22.4989 10.7319 22.7178 11.8524 23.156C14.2046 24.0755 15.3807 24.5353 16.2171 24.0121C17.0533 23.489 17.0533 22.2936 17.0533 19.9028V16.5603C17.0533 15.725 17.0533 15.3073 17.133 14.9505C17.2986 14.2071 17.6643 13.6011 18.2585 13.0854C18.5437 12.8377 18.9421 12.6133 19.7391 12.1648L23.3864 10.1116C24.574 9.44301 25.1679 9.10873 25.4929 8.5701C25.818 8.03148 25.818 7.38174 25.818 6.08227V5.21855C25.818 3.55722 25.818 2.72656 25.2679 2.21045C24.7178 1.69434 23.8324 1.69434 22.0617 1.69434Z",strokeWidth:1.5})),bne=({icon:n,handleHover:e})=>z.jsx("div",{className:"size-[57px] md:size-[72px] p-[1px] flex bg-gradient-to-b dark:bg-gradient-to-t from-[#000000] from-[35%] dark:to-[#5a5a5a] to-[#9e9e9e] hover:scale-110 transition-all duration-300 ease-in-out",onMouseOver:e,children:z.jsx("div",{className:"size-full dark:bg-containerDark bg-white flex justify-center items-center",children:n})}),Rne=()=>{const n="ReactJS",e="O React é uma biblioteca front-end JavaScript de código aberto com foco em criar interfaces de usuário em páginas web.",[t,i]=O.useState(n),[r,s]=O.useState(e),[o,a]=O.useState(Hx),[l,c]=O.useState(!1),f=p=>{a(Hx.filter(m=>m.category===p))},h=({text:p,className:m})=>z.jsxs("li",{className:`mb-2 sm:mb-0 font-Syne flex flex-col group relative w-[75px] h-[22px] text-center ${m}`,onClick:()=>{f(p)},children:[z.jsx("button",{className:"cursor-pointer font-Syne hover:font-bold text-[17px] capitalize",children:p}),z.jsx("span",{className:"absolute -bottom-0 left-0 w-0 h-[3px] rounded-full bg-myRed transition-all duration-500 group-hover:w-full"})]});return z.jsxs("div",{className:"relative",children:[z.jsxs("div",{className:"flex flex-col h-[115vh] lg:h-[95vh] sm:p-responsiveLayout md:p-layout justify-center items-center relative text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",id:"skills",children:[z.jsx(gP,{children:z.jsx("h2",{className:"text-myRed text-[32px] mt-10",children:"Skills"})}),z.jsxs("div",{className:"flex w-full justify-center items-center gap-x-24 mt-8",children:[z.jsx(Wu,{className:"hidden lg:flex",children:z.jsxs("div",{className:"relative size-[323px] gap-y-2 hidden lg:flex flex-col p-[8px]",children:[z.jsx("h2",{className:"font-bold text-[20px] dark:text-backgroundLight text-black",children:t}),z.jsx("p",{className:"dark:text-secondaryTextDark text-containerDark text-justify",children:r}),z.jsxs("div",{className:"absolute -top-[23px] -left-[28px] md:-top-[16px] md:-left-[16px]",children:[z.jsx("div",{className:"absolute top-0 w-[3px] h-[269px] bg-gradient-to-t from-[#131313] from-[10%] to-[#868686]"}),z.jsx("div",{className:"absolute top-0 h-[3px] w-[40px] bg-[#868686] left-[0px]"}),z.jsx("div",{className:"absolute top-0 h-[3px] w-[40px] left-[50px] bg-[#868686]"})]}),z.jsxs("div",{className:"absolute -bottom-[23px] -right-[28px] md:-bottom-[16px] md:-right-[16px]",children:[z.jsx("div",{className:"absolute bottom-0 w-[3px] h-[269px] bg-gradient-to-b from-[#131313] from-[10%] to-[#868686]"}),z.jsx("div",{className:"absolute bottom-0 h-[3px] w-[40px] bg-[#868686] right-[0px]"}),z.jsx("div",{className:"absolute bottom-0 h-[3px] w-[40px] right-[50px] bg-[#868686]"})]})]})}),z.jsxs("div",{className:"flex flex-col gap-y-5",children:[z.jsx("div",{className:"grid grid-rows-4 grid-cols-4 gap-6",children:o.map(p=>z.jsx(eV,{i:p.key,transition:{duration:.2,delay:p.key*.1},children:z.jsx(bne,{icon:p.icon,handleHover:()=>{i(p.name),s(p.description)}},p.key)},p.key))}),z.jsxs("div",{className:"flex justify-center w-full items-center gap-x-5 h-[50px]",children:[z.jsx("div",{className:"w-full h-[1px] bg-introDetails"}),z.jsxs("button",{className:`p-[9px] rounded-full border-[2px] dark:border-containerLight border-containerDark relative flex justify-center items-center ${l&&"focus:p-[14px]"} hover:p-[14px] transition-all duration-300 ease-in-out`,onClick:()=>{a(Hx),c(!l)},children:[z.jsx(Tne,{className:"dark:stroke-containerLight stroke-containerDark"}),z.jsx("div",{className:"absolute -top-2 rotate-45 -right-2 dark:bg-backgroundDark bg-backgroundLight size-5"}),z.jsx("div",{className:"absolute -bottom-2 rotate-45 -left-2 dark:bg-backgroundDark bg-backgroundLight size-5"})]}),z.jsx("div",{className:"w-full h-[1px] bg-introDetails"})]})]})]})]}),z.jsx("div",{className:"w-full h-fit flex justify-center items-center lg:justify-start",children:z.jsx("div",{className:`absolute ${l?"scale-100":"lg:w-0 scale-0"} h-[50px] w-fit lg:w-[300px] lg:h-3/5 lg:left-[50px] bottom-[10%] px-[15px] py-[18px] lg:px-[0] lg:py-[0] lg:top-[25%] z-[60] bg-black transition-all duration-500 ease-in-out rounded-lg`,children:z.jsxs("ul",{className:"flex lg:flex-col w-full h-full gap-x-3 lg:gap-x-7 text-headerItems font-medium items-center justify-center gap-y-10 lg:pb-32 lg:pt-9 lg:mt-0 mt-1",children:[z.jsx(h,{className:`${l?"flex":"hidden"}`,text:"frontend"}),z.jsx(h,{className:`${l?"flex":"hidden"}`,text:"backend"}),z.jsx(h,{className:`${l?"flex":"hidden"}`,text:"tools"}),z.jsx(h,{className:`${l?"flex":"hidden"}`,text:"other"})]})})})]})};function aL(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=aL(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Pa(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=aL(n))&&(i&&(i+=" "),i+=e);return i}const jh=n=>typeof n=="number"&&!isNaN(n),oc=n=>typeof n=="string",Tr=n=>typeof n=="function",bg=n=>oc(n)||Tr(n)?n:null,lA=n=>O.isValidElement(n)||oc(n)||Tr(n)||jh(n);function Pne(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function Nv(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=n;return function(o){let{children:a,position:l,preventExitTransition:c,done:f,nodeRef:h,isIn:p,playToast:m}=o;const v=i?`${e}--${l}`:e,_=i?`${t}--${l}`:t,x=O.useRef(0);return O.useLayoutEffect(()=>{const g=h.current,A=v.split(" "),S=C=>{C.target===h.current&&(m(),g.removeEventListener("animationend",S),g.removeEventListener("animationcancel",S),x.current===0&&C.type!=="animationcancel"&&g.classList.remove(...A))};g.classList.add(...A),g.addEventListener("animationend",S),g.addEventListener("animationcancel",S)},[]),O.useEffect(()=>{const g=h.current,A=()=>{g.removeEventListener("animationend",A),r?Pne(g,f,s):f()};p||(c?A():(x.current=1,g.className+=` ${_}`,g.addEventListener("animationend",A)))},[p]),tn.createElement(tn.Fragment,null,a)}}function f8(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const er=new Map;let Xh=[];const cA=new Set,Ine=n=>cA.forEach(e=>e(n)),lL=()=>er.size>0;function cL(n,e){var t;if(e)return!((t=er.get(e))==null||!t.isToastActive(n));let i=!1;return er.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function uL(n,e){lA(n)&&(lL()||Xh.push({content:n,options:e}),er.forEach(t=>{t.buildToast(n,e)}))}function d8(n,e){er.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function Bne(n){const{subscribe:e,getSnapshot:t,setProps:i}=O.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(f,h,p){let m=1,v=0,_=[],x=[],g=[],A=h;const S=new Map,C=new Set,P=()=>{g=Array.from(S.values()),C.forEach(B=>B())},E=B=>{x=B==null?[]:x.filter(R=>R!==B),P()},I=B=>{const{toastId:R,onOpen:b,updateId:k,children:Y}=B.props,G=k==null;B.staleId&&S.delete(B.staleId),S.set(R,B),x=[...x,B.props.toastId].filter(q=>q!==B.staleId),P(),p(f8(B,G?"added":"updated")),G&&Tr(b)&&b(O.isValidElement(Y)&&Y.props)};return{id:f,props:A,observe:B=>(C.add(B),()=>C.delete(B)),toggle:(B,R)=>{S.forEach(b=>{R!=null&&R!==b.props.toastId||Tr(b.toggle)&&b.toggle(B)})},removeToast:E,toasts:S,clearQueue:()=>{v-=_.length,_=[]},buildToast:(B,R)=>{if((ue=>{let{containerId:Be,toastId:se,updateId:we}=ue;const Se=Be?Be!==f:f!==1,be=S.has(se)&&we==null;return Se||be})(R))return;const{toastId:b,updateId:k,data:Y,staleId:G,delay:q}=R,$=()=>{E(b)},ie=k==null;ie&&v++;const pe={...A,style:A.toastStyle,key:m++,...Object.fromEntries(Object.entries(R).filter(ue=>{let[Be,se]=ue;return se!=null})),toastId:b,updateId:k,data:Y,closeToast:$,isIn:!1,className:bg(R.className||A.toastClassName),bodyClassName:bg(R.bodyClassName||A.bodyClassName),progressClassName:bg(R.progressClassName||A.progressClassName),autoClose:!R.isLoading&&(F=R.autoClose,K=A.autoClose,F===!1||jh(F)&&F>0?F:K),deleteToast(){const ue=S.get(b),{onClose:Be,children:se}=ue.props;Tr(Be)&&Be(O.isValidElement(se)&&se.props),p(f8(ue,"removed")),S.delete(b),v--,v<0&&(v=0),_.length>0?I(_.shift()):P()}};var F,K;pe.closeButton=A.closeButton,R.closeButton===!1||lA(R.closeButton)?pe.closeButton=R.closeButton:R.closeButton===!0&&(pe.closeButton=!lA(A.closeButton)||A.closeButton);let V=B;O.isValidElement(B)&&!oc(B.type)?V=O.cloneElement(B,{closeToast:$,toastProps:pe,data:Y}):Tr(B)&&(V=B({closeToast:$,toastProps:pe,data:Y}));const ne={content:V,props:pe,staleId:G};A.limit&&A.limit>0&&v>A.limit&&ie?_.push(ne):jh(q)?setTimeout(()=>{I(ne)},q):I(ne)},setProps(B){A=B},setToggle:(B,R)=>{S.get(B).toggle=R},isToastActive:B=>x.some(R=>R===B),getSnapshot:()=>A.newestOnTop?g.reverse():g}}(o,s,Ine);er.set(o,l);const c=l.observe(a);return Xh.forEach(f=>uL(f.content,f.options)),Xh=[],()=>{c(),er.delete(o)}},setProps(a){var l;(l=er.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=er.get(o))==null?void 0:a.getSnapshot()}}}(n)).current;i(n);const r=O.useSyncExternalStore(e,t,t);return{getToastToRender:function(s){if(!r)return[];const o=new Map;return r.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:cL,count:r==null?void 0:r.length}}function Lne(n){const[e,t]=O.useState(!1),[i,r]=O.useState(!1),s=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:f,closeOnClick:h}=n;var p,m;function v(){t(!0)}function _(){t(!1)}function x(S){const C=s.current;o.canDrag&&C&&(o.didMove=!0,e&&_(),o.delta=n.draggableDirection==="x"?S.clientX-o.start:S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1),C.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,C.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",g);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),n.closeToast(),void n.collapseAll();S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}(m=er.get((p={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||m.setToggle(p.id,p.fn),O.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[n.pauseOnFocusLoss]);const A={onPointerDown:function(S){if(n.draggable===!0||n.draggable===S.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",g);const C=s.current;o.canCloseOnClick=!0,o.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=C.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(S){const{top:C,bottom:P,left:E,right:I}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&n.pauseOnHover&&S.clientX>=E&&S.clientX<=I&&S.clientY>=C&&S.clientY<=P?_():v()}};return a&&l&&(A.onMouseEnter=_,n.stacked||(A.onMouseLeave=v)),h&&(A.onClick=S=>{f&&f(S),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:_,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:A}}function Dne(n){let{delay:e,isRunning:t,closeToast:i,type:r="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:f,isIn:h,theme:p}=n;const m=s||l&&c===0,v={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const _=Pa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),x=Tr(o)?o({rtl:f,type:r,defaultClassName:_}):Pa(_,o),g={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&i()}};return tn.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},tn.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),tn.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:x,style:v,...g}))}let Nne=1;const fL=()=>""+Nne++;function Fne(n){return n&&(oc(n.toastId)||jh(n.toastId))?n.toastId:fL()}function ih(n,e){return uL(n,e),e.toastId}function S1(n,e){return{...e,type:e&&e.type||n,toastId:Fne(e)}}function q0(n){return(e,t)=>ih(e,S1(n,t))}function ln(n,e){return ih(n,S1("default",e))}ln.loading=(n,e)=>ih(n,S1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ln.promise=function(n,e,t){let i,{pending:r,error:s,success:o}=e;r&&(i=oc(r)?ln.loading(r,t):ln.loading(r.render,{...t,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,h,p)=>{if(h==null)return void ln.dismiss(i);const m={type:f,...a,...t,data:p},v=oc(h)?{render:h}:h;return i?ln.update(i,{...m,...v}):ln(v.render,{...m,...v}),p},c=Tr(n)?n():n;return c.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),c},ln.success=q0("success"),ln.info=q0("info"),ln.error=q0("error"),ln.warning=q0("warning"),ln.warn=ln.warning,ln.dark=(n,e)=>ih(n,S1("default",{theme:"dark",...e})),ln.dismiss=function(n){(function(e){var t;if(lL()){if(e==null||oc(t=e)||jh(t))er.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=er.get(e.containerId);i?i.removeToast(e.id):er.forEach(r=>{r.removeToast(e.id)})}}else Xh=Xh.filter(i=>e!=null&&i.options.toastId!==e)})(n)},ln.clearWaitingQueue=function(n){n===void 0&&(n={}),er.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},ln.isActive=cL,ln.update=function(n,e){e===void 0&&(e={});const t=((i,r)=>{var s;let{containerId:o}=r;return(s=er.get(o||1))==null?void 0:s.toasts.get(i)})(n,e);if(t){const{props:i,content:r}=t,s={delay:100,...i,...e,toastId:e.toastId||n,updateId:fL()};s.toastId!==n&&(s.staleId=n);const o=s.render||r;delete s.render,ih(o,s)}},ln.done=n=>{ln.update(n,{progress:1})},ln.onChange=function(n){return cA.add(n),()=>{cA.delete(n)}},ln.play=n=>d8(!0,n),ln.pause=n=>d8(!1,n);const One=typeof window<"u"?O.useLayoutEffect:O.useEffect,$0=n=>{let{theme:e,type:t,isLoading:i,...r}=n;return tn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r})},zx={info:function(n){return tn.createElement($0,{...n},tn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return tn.createElement($0,{...n},tn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return tn.createElement($0,{...n},tn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return tn.createElement($0,{...n},tn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return tn.createElement("div",{className:"Toastify__spinner"})}},kne=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:s}=Lne(n),{closeButton:o,children:a,autoClose:l,onClick:c,type:f,hideProgressBar:h,closeToast:p,transition:m,position:v,className:_,style:x,bodyClassName:g,bodyStyle:A,progressClassName:S,progressStyle:C,updateId:P,role:E,progress:I,rtl:B,toastId:R,deleteToast:b,isIn:k,isLoading:Y,closeOnClick:G,theme:q}=n,$=Pa("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":G}),ie=Tr(_)?_({rtl:B,position:v,type:f,defaultClassName:$}):Pa($,_),pe=function(ne){let{theme:ue,type:Be,isLoading:se,icon:we}=ne,Se=null;const be={theme:ue,type:Be};return we===!1||(Tr(we)?Se=we({...be,isLoading:se}):O.isValidElement(we)?Se=O.cloneElement(we,be):se?Se=zx.spinner():(ot=>ot in zx)(Be)&&(Se=zx[Be](be))),Se}(n),F=!!I||!l,K={closeToast:p,type:f,theme:q};let V=null;return o===!1||(V=Tr(o)?o(K):O.isValidElement(o)?O.cloneElement(o,K):function(ne){let{closeToast:ue,theme:Be,ariaLabel:se="close"}=ne;return tn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Be}`,type:"button",onClick:we=>{we.stopPropagation(),ue(we)},"aria-label":se},tn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},tn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(K)),tn.createElement(m,{isIn:k,done:b,position:v,preventExitTransition:t,nodeRef:i,playToast:s},tn.createElement("div",{id:R,onClick:c,"data-in":k,className:ie,...r,style:x,ref:i},tn.createElement("div",{...k&&{role:E},className:Tr(g)?g({type:f}):Pa("Toastify__toast-body",g),style:A},pe!=null&&tn.createElement("div",{className:Pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Y})},pe),tn.createElement("div",null,a)),V,tn.createElement(Dne,{...P&&!F?{key:`pb-${P}`}:{},rtl:B,theme:q,delay:l,isRunning:e,isIn:k,closeToast:p,hide:h,type:f,style:C,className:S,controlledProgress:F,progress:I||0})))},Fv=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},Une=Nv(Fv("bounce",!0));Nv(Fv("slide",!0));Nv(Fv("zoom"));Nv(Fv("flip"));const Hne={position:"top-right",transition:Une,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function zne(n){let e={...Hne,...n};const t=n.stacked,[i,r]=O.useState(!0),s=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Bne(e),{className:c,style:f,rtl:h,containerId:p}=e;function m(_){const x=Pa("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":h});return Tr(c)?c({position:_,rtl:h,defaultClassName:x}):Pa(x,bg(c))}function v(){t&&(r(!0),ln.play())}return One(()=>{if(t){var _;const x=s.current.querySelectorAll('[data-in="true"]'),g=12,A=(_=e.position)==null?void 0:_.includes("top");let S=0,C=0;Array.from(x).reverse().forEach((P,E)=>{const I=P;I.classList.add("Toastify__toast--stacked"),E>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=A?"top":"bot");const B=S*(i?.2:1)+(i?0:g*E);I.style.setProperty("--y",`${A?B:-1*B}px`),I.style.setProperty("--g",`${g}`),I.style.setProperty("--s",""+(1-(i?C:0))),S+=I.offsetHeight,C+=.025})}},[i,l,t]),tn.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{t&&(r(!1),ln.pause())},onMouseLeave:v},o((_,x)=>{const g=x.length?{...f}:{...f,pointerEvents:"none"};return tn.createElement("div",{className:m(_),style:g,key:`container-${_}`},x.map(A=>{let{content:S,props:C}=A;return tn.createElement(kne,{...C,stacked:t,collapseAll:v,isIn:a(C.toastId,C.containerId),style:C.style,key:`toast-${C.key}`},S)}))}))}class Pp{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Gne=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},wi={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Gne()},lM=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Vne=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=lM(n);wi.publicKey=t.publicKey,wi.blockHeadless=t.blockHeadless,wi.storageProvider=t.storageProvider,wi.blockList=t.blockList,wi.limitRate=t.limitRate,wi.origin=t.origin||e},dL=async(n,e,t={})=>{const i=await fetch(wi.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),s=new Pp(i.status,r);if(i.ok)return s;throw s},hL=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Wne=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},pL=n=>n.webdriver||!n.languages||n.languages.length===0,mL=()=>new Pp(451,"Unavailable For Headless Browser"),jne=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Xne=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},Jne=(n,e)=>n instanceof FormData?n.get(e):n[e],gL=(n,e)=>{if(Xne(n))return!1;jne(n.list,n.watchVariable);const t=Jne(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},vL=()=>new Pp(403,"Forbidden"),Kne=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},Yne=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},yL=async(n,e,t)=>{if(!e.throttle||!t)return!1;Kne(e.throttle,e.id);const i=e.id||n;return await Yne(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},xL=()=>new Pp(429,"Too Many Requests"),Zne=async(n,e,t,i)=>{const r=lM(i),s=r.publicKey||wi.publicKey,o=r.blockHeadless||wi.blockHeadless,a=wi.storageProvider||r.storageProvider,l={...wi.blockList,...r.blockList},c={...wi.limitRate,...r.limitRate};return o&&pL(navigator)?Promise.reject(mL()):(hL(s,n,e),Wne(t),t&&gL(l,t)?Promise.reject(vL()):await yL(location.pathname,c,a)?Promise.reject(xL()):dL("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Qne=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},qne=n=>typeof n=="string"?document.querySelector(n):n,$ne=async(n,e,t,i)=>{const r=lM(i),s=r.publicKey||wi.publicKey,o=r.blockHeadless||wi.blockHeadless,a=wi.storageProvider||r.storageProvider,l={...wi.blockList,...r.blockList},c={...wi.limitRate,...r.limitRate};if(o&&pL(navigator))return Promise.reject(mL());const f=qne(t);hL(s,n,e),Qne(f);const h=new FormData(f);return gL(l,h)?Promise.reject(vL()):await yL(location.pathname,c,a)?Promise.reject(xL()):(h.append("lib_version","4.3.3"),h.append("service_id",n),h.append("template_id",e),h.append("user_id",s),dL("/api/v1.0/email/send-form",h))},h8={init:Vne,send:Zne,sendForm:$ne,EmailJSResponseStatus:Pp};var eg={VITE_ABSTRACT_EMAIL_API_KEY:"7a1341ede3604811a73d9016726d49bd",VITE_EMAILJS_SERVICE_ID:"service_84p5jje",VITE_EMAILJS_TEMPLATE_ID:"template_2yu81hj",VITE_EMAILJS_PUBLIC_API_KEY:"OxXUQ_L1r1y_hbjnj",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const eie=()=>{const[n,e]=O.useState(!1);O.useEffect(()=>h8.init(eg.EMAILJS_PUBLIC_API_KEY),[]);const t=O.useRef(null),i=O.useRef(null),r=O.useRef(null);function s(l){return/\S+@\S+\.\S+/.test(l)}async function o(){const l="https://emailvalidation.abstractapi.com/v1/?api_key="+eg.ABSTRACT_EMAIL_API_KEY,c=s(i.current.value);if(t.current.value!==""&&r.current.value!=="")if(c)try{const p=(await(await fetch(l+"&email="+i.current.value)).json()).is_smtp_valid.value,m={from_name:t.current.value,email_id:i.current.value,message:r.current.value};p?await h8.send(eg.EMAILJS_SERVICE_ID,eg.EMAILJS_TEMPLATE_ID,m).then(v=>{console.log(v.status),ln.success("Mensagem enviada com êxito!"),t.current.value="",i.current.value="",r.current.value=""}):ln.error("Esse email não existe ou está inativo.")}catch{}else ln.warn("Email inválido.");else ln.error("Preencha todos os campos.")}const a=({children:l})=>z.jsx("div",{className:`w-auto h-auto p-[2px] mb-3 flex justify-center items-center bg-gradient-to-t dark:bg-gradient-to-b from-backgroundDark from-[35%] dark:to-[#5a5a5a] to-[#9e9e9e]
        ${n?"flex":"hidden"}`,children:l});return z.jsxs("div",{className:"flex flex-col h-[700px] md:h-[95vh] sm:p-responsiveLayout md:p-layout justify-center items-center relative text-backgroundDark bg-backgroundLight dark:text-backgroundLight dark:bg-backgroundDark z-10",id:"contact",children:[z.jsxs("div",{className:`flex flex-col md:flex-row w-full h-full md:justify-center items-center ${n?"blur-md":"blur-0"} transition-all duration-300 ease-linear`,children:[z.jsxs("div",{className:"flex flex-col h-1/3 w-[450px] sm:flex-row md:w-[780px] mb-16",children:[z.jsxs(tV,{className:"text-myRed text-[32px] font-semibold tracking-wider mt-10 h-[60vh] w-full text-center sm:text-start",children:["Vamos trabalhar ",z.jsx("br",{})," juntos"]}),z.jsxs("div",{className:"flex flex-col h-full items-center w-full",children:[z.jsx(wo,{i:2,children:z.jsx(ju,{classNameIn:"bg-whatsapp hover:bg-whatsappHover sm:hover:border-y-[7px] lg:hover:border-y-[9px] w-full",classNameOut:"mt-12 sm:mt-8 mb-8",text:"Whatsapp",href:"https://wa.me/5511952404831"})}),z.jsx(wo,{i:4,children:z.jsx("h2",{className:"font-bold text-[23px] w-full text-center",children:"ou"})}),z.jsx(wo,{i:6,children:z.jsx(ju,{classNameIn:"bg-backgroundDark hover:bg-black sm:hover:border-y-[7px] lg:hover:border-y-[9px] w-full",classNameOut:"mt-8",text:"E-mail",onClick:()=>{e(!0)}})})]})]}),z.jsx("div",{className:"absolute bottom-24 sm:bottom-56 lg:bottom-24",children:z.jsxs("div",{className:"flex w-[450px] md:w-[780px] justify-center items-center gap-x-5",children:[z.jsx("div",{className:"w-[80px] lg:w-[210px] h-[1px] bg-introDetails md:flex hidden"}),z.jsx("span",{className:"w-max text-center text-[19px]",children:"Copyright © 2024 - Douglas Nicida"}),z.jsx("div",{className:"w-[80px] lg:w-[210px] h-[1px] bg-introDetails md:flex hidden"})]})})]}),z.jsx("div",{className:"absolute mt-8 lg:mt-48 md:right-[10px] md:p-responsiveLayout xl:p-layout bottom-40 sm:bottom-56 lg:bottom-24",children:z.jsxs("div",{className:"flex sm:flex-col items-center gap-x-4 sm:gap-y-7 sm:gap-x-0 relative",children:[z.jsx(wo,{i:2,children:z.jsx("div",{className:"w-[100px] h-[3px] sm:w-[3px] sm:h-[150px] lg:h-[200px] dark:bg-headerItems bg-black/40 transition-all duration-200 ease-in-out"})}),z.jsx(wo,{i:4,children:z.jsx("a",{href:"https://github.com/douglasnicida",target:"_blank",rel:"noopener noreferrer",children:z.jsx(hS,{className:"size-7 lg:size-8 xl:size-9 cursor-pointer dark:fill-backgroundLight fill-backgroundDark dark:hover:fill-github hover:fill-github transition-all duration-300 ease-in-out"})})}),z.jsx(wo,{i:6,children:z.jsx("a",{href:"https://www.linkedin.com/in/douglasnicida/",target:"_blank",rel:"noopener noreferrer",children:z.jsx(Y9,{className:"size-7 lg:size-8 xl:size-9 cursor-pointer dark:fill-backgroundLight fill-backgroundDark dark:hover:fill-sky hover:fill-sky transition-all duration-300 ease-in-out"})})})]})}),z.jsx("div",{className:`absolute md:w-1/2 bg-backgroundDark rounded-lg ${n?"visible h-[60%]":"invisible h-0"} drop-shadow-image dark:drop-shadow-white transition-all duration-300 ease-in-out`,children:z.jsxs("div",{className:`flex flex-col w-full h-full ${n?"p-[50px]":"p-0"}`,children:[z.jsxs("button",{className:`flex w-full h-[40px] text-backgroundDark dark:text-white text-3xl z-50 justify-end group ${n?"flex":"hidden"}`,type:"button",onClick:()=>{e(!1)},children:[z.jsx("div",{className:"bg-white h-[3px] w-[30px] rotate-45 absolute group-hover:scale-[120%] transition-all duration-300 ease-in-out"}),z.jsx("div",{className:"bg-white h-[3px] w-[30px] -rotate-45 absolute group-hover:scale-[120%] transition-all duration-300 ease-in-out"})]}),z.jsxs("div",{className:"flex flex-col md:w-3/4 px-[50px] self-center",children:[z.jsx(a,{children:z.jsx("input",{className:`text-white p-[8px] w-full ${n?"flex":"hidden"} bg-[#1b1b1b] focus:outline-none placeholder:tracking-widest`,type:"text",placeholder:"Nome",ref:t})}),z.jsx(a,{children:z.jsx("input",{className:`text-white p-[8px] w-full ${n?"flex":"hidden"} bg-[#1b1b1b] focus:outline-none placeholder:tracking-widest`,type:"email",placeholder:"Email",ref:i})}),z.jsx(a,{children:z.jsx("textarea",{className:`text-white p-[8px] resize-none w-full h-fit ${n?"flex":"hidden"} bg-[#1b1b1b] focus:outline-none placeholder:tracking-widest`,cols:"30",rows:"6",placeholder:"Digite sua mensagem...",ref:r})})]}),z.jsx("div",{className:"w-full h-fit justify-center flex",children:z.jsx(ju,{text:"Enviar",classNameIn:"bg-backgroundDark hover:bg-black sm:hover:border-y-[7px] lg:hover:border-y-[9px] w-full",classNameOut:`bg-myRed mt-8 w-fit ${n?"flex":"hidden"}`,hoverColor:"bg-hoverRedButton",onClick:o})})]})})]})};function tie(){const[n,e]=O.useState(!0);return O.useEffect(()=>{const t=new MutationObserver(i=>{for(const r of i)if(r.type==="attributes"&&r.attributeName==="class"){const s=document.documentElement.classList.contains("dark");e(s);break}});return t.observe(document.documentElement,{attributes:!0}),()=>{t.disconnect()}},[]),z.jsxs("div",{className:"flex flex-col w-full h-auto overflow-x-hidden relative",children:[z.jsx(LF,{}),z.jsx(Ok,{}),z.jsx(zne,{autoClose:3e3,theme:`${n?"light":"dark"}`}),z.jsx(nV,{}),z.jsx(rV,{}),z.jsx(wne,{}),z.jsx(Ene,{}),z.jsx(Rne,{}),z.jsx(eie,{})]})}Gx.createRoot(document.getElementById("root")).render(z.jsx(tn.StrictMode,{children:z.jsx(tie,{})}));
